<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="search-keywords" content="Console" />
<meta name="generator" content="Adobe RoboHelp 8" />
<title>Configuring Audible Alarms</title>
<link rel="StyleSheet" href="../Bookshelf.css" type="text/css" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function ehlp_showtip(current,e,text)
{
  if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  {
    document.tooltip.document.write("<layer bgColor='yellow' style='border:1px solid black;font-size:12px;'>"+ text + "<\/layer>");
    document.tooltip.document.close();
    document.tooltip.left=e.pageX+5;
    document.tooltip.top=e.pageY+5;
    document.tooltip.visibility="show";
  }
}
function ehlp_hidetip()
{
  document.tooltip.visibility="hidden";
}
//]]>
</script>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
        origWidth = innerWidth;
        origHeight = innerHeight;
        onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
/*<![CDATA[*/
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
/*]]>*/
</style>

<script type="text/javascript" language="javascript1.2" src="../whmsg.js">
</script>
<script type="text/javascript" language="javascript" src="../whver.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../whproxy.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../whutils.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../whlang.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../whtopic.js">
</script>
</head>
<body>
<script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.gbWhTopic)
{
        var strUrl = document.location.href;
        var bc = 0;
        var n = strUrl.toLowerCase().indexOf("bc-");
        if(n != -1)
        {
                document.location.href = strUrl.substring(0, n);
                bc = strUrl.substring(n+3);
        }

        if (window.addTocInfo)
        {
        addTocInfo("DEVELOPER REFERENCE\nConfiguring Event Console\nConfiguring Audible Alarms");
addButton("show",BTN_TEXT,"Show Table of Contents","","","","",0,0,"","","");

        }
        if (window.writeBtnStyle)
                writeBtnStyle();

        if (window.writeIntopicBar)
                writeIntopicBar(1);

        
        

        if (window.setRelStartPage)
        {
        setRelStartPage("../Bookshelf.htm");

                autoSync(0);
                sendSyncInfo();
                sendAveInfoOut();
        }
}
else
        if (window.gbIE4)
                document.location.reload();

//-->
//]]>
</script><script type="text/javascript" language="javascript">
//<![CDATA[
document.write("<p  style=\"text-align:right;color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\">");
AddMasterBreadcrumbs("../Bookshelf.htm", "color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;", "&gt;", "Home", "../Welcome_to_GroundWork_Monitor/index.htm");
document.write("<a style=\"color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\" href=\"developer_aboutdeveloperreference.htm\">DEVELOPER REFERENCE<\/a> &gt; <a style=\"color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\" href=\"developer_consoleconfiguringaudiblealarms.htm\">Configuring Event Console<\/a> &gt; Configuring Audible Alarms<\/p>");
//]]>
</script>
<p>&#160;</p>
<h1><img src="../Shared_Images/square.gif" alt="square.gif" style="border: none;" width="15" height="15" border="0" /> Developer Reference</h1>
<h3 align="right"><a href="developer_aboutdeveloperreference.htm" title="Topic Home" onmouseover="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_showtip(this,event,'Topic Home');" onmouseout="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_hidetip();"><img src="../Shared_Images/homeicon.gif" alt="homeicon.gif" style="border: none;" width="33" height="27" border="0" /></a> <img src="../Shared_Images/printicon.gif" onclick="window.print()" alt="Print Page" title="Print Page" style="border: none;" width="31" height="27" border="0" /> <a href="mailto:support@groundworkopensource.com?subject=Developer Reference: Event Console - Configuring Audible Alarms" title="Send Comments"><img src="../Shared_Images/commentsicon.gif" alt="commentsicon.gif" style="border: none;" width="33" height="27" border="0" /></a></h3>
<h2>Configuring Event Console</h2>
<h3>Audible Alarms for Event Console</h3>
<h4>Background on Event Console Push Updating</h4>
<p>The <span style="font-style: italic;"><i>Event Console</i></span> application subscribes to the event topic server using the specifications for the current view to specify the events that it wants to be notified about. The topic server then places the list of events onto the <span style="font-style: italic;"><i>JMS</i></span> queue for the particular console session. Periodically, at intervals defined by three directives, the console application picks up the list of topics and issues the corresponding web services calls to <span style="font-style: italic;"><i>Foundation</i></span> to get the events which are then displayed. The three operative directives and their functions are described here:</p>
<ol>
<li>
<p class="Numbering">Check interval defines the frequency at which the <span style="font-style: italic;"><i>Event Console</i></span> reads the topic server message queue. This is currently set to ten seconds.</p>
</li>
<li>
<p class="Numbering">Batch size is the number of topic server messages which if met or exceeded causes the <span style="font-style: italic;"><i>Event Console</i></span> to issue the web service request for all of the topic listed since last request which would result in a batch of events being requested that is at least 50 or more since this directive is currently set to 50 events.</p>
</li>
<li>
<p class="Numbering">Interval size is the time interval at the expiration of which all of the event topics are requested regardless of the number of them. It is currently set to 30 seconds. When this interval is reached, the <span style="font-style: italic;"><i>Event Console</i></span> requests all of the events for the topics on the topic server queue even if there are less than 50.</p>
</li>
</ol>
<p>The purpose of this arrangement is to arrive at a configurable compromise between latency and performance of the user interface.</p>
<h4>Functionality of the Audible Alarm Process (AAP)</h4>
<p>The purpose of the <span style="font-style: italic;"><i>AAP</i></span> is to attract the attention of a busy or distracted operator to look at the <span style="font-style: italic;"><i>Event Console</i></span>. At the same time, it is important not to create alarm fatigue by barraging the operator with an incessant sequence of low priority alarms. The <span style="font-style: italic;"><i>AAP</i></span> scans through the events for each batch update received from <span style="font-style: italic;"><i>Foundation</i></span> via web services. It selects the highest priority event in each batch and sounds an alarm on the local browser system.</p>
<h3>Configuring Audible Alarms</h3>
<h4>Alarm Selection and Configuration</h4>
<p>The <span style="font-style: italic;"><i>System Administrator</i></span> can choose up to eight different alarm sounds (e.g. <span class="Code">critical.mp3, down.mp3, unreachable.mp3</span>) corresponding to the eight different levels of alarm severity in the <span style="font-style: italic;"><i>Foundation</i></span> database. If desired, the same alarm tone can be selected for all levels of severity or by not configuring all of the lower severity events, have alarms only sound for the higher severity events.</p>
<p>This is a system wide selection to avoid confusing NOC operators by having different tones conveying different meaning on different browsers within earshot of each other. Obviously alarms are sounded on the browser only for events that the <span style="font-style: italic;"><i>Event Console</i></span> on that browser is currently configured to get, i.e. post filters, post custom view tabs, etc.</p>
<p>The alarm <span class="Code">.mp3</span> files are located in the media directory <span class="Code">/usr/local/groundwork/config/media/</span>. The System Administrator can replace these files if desired. In the <span class="Code">console.properties</span> file set each <span class="Code">monitor status:file-name</span> combination separated by a comma (,). If no alarm is chosen for a particular severity level, no alarm will be sounded for that level.</p>
<p>Example:</p>
<p style="margin-left: 40px; font-weight: bold;"><span class="Code"><b>alarm.file.status.mapping=</b></span><span class="Code" style="color: #0000ff;"><font color="blue">DOWN:down.mp3,CRITICAL:critical.mp3,</font></span><span class="Code">...</span></p>
<h4>Alarm Duration</h4>
<p>The length of an alarm is the length of the assigned the .<span class="Code">mp3</span> file. Additionally, an operator can stop an alarm sound by clicking the <span style="font-style: italic;"><i>Silence Alarm</i></span> button <img src="Assets/developer_reference_silence_icon.gif" alt="developer_reference_silence_icon.gif" style="border: none;" width="97" height="20" border="0" /> on the <span style="font-style: italic;"><i>Event Console</i></span> display. The <span style="font-style: italic;"><i>Silence</i></span> button will stop the alarm if it is sounding, but it will not result in acknowledgement of the alarm. Acknowledging the alarm will also not stop the alarm sounding. There will be no alarm generated for the other events that are in the same batch of events as the highest priority event.</p>
<h4>Turning the Audible Alarm Functionality On or Off</h4>
<p>To enable or disable console event alarms, set the <span class="Code">console.enable.audible.alarms</span> property in the <span class="Code">console.properties</span> file to <span style="font-style: italic;"><i>ON</i></span> (<span class="Code">true</span>) or <span style="font-style: italic;"><i>OFF</i></span> (<span class="Code">false</span>). The system alarm functionality is <span style="font-style: italic;"><i>ON</i></span> by default.</p>
<p>Example:</p>
<p style="margin-left: 40px; font-weight: bold;"><span class="Code"><b>console.enable.audible.alarms=</b></span><span class="Code" style="color: #0000ff;"><font color="blue">true</font></span></p>
<h4>Properties File</h4>
<p>The <span class="Code">console.properties</span> file, located in the directory: <span class="Code">/usr/local/groundwork/config</span>, contains the audible alarm properties. See the Bookshelf document <a href="developer_consoleproperties.htm">Appendix A: Console Properties</a> to view the entire <span class="Code">console.properties</span> file. <span style="font-weight: bold;"><b>Note:</b></span> the <span class="Code">alarm.file.status.mapping</span> line should be on one line, shown on two in our example here.</p>
<p class="Numbering" style="margin-left: 40px;"><span class="CodeInline"># Audible Alarm properties</span></p>
<p style="margin-left: 40px; font-weight: bold;"><span class="Code"><b>alarm.file.media.path=</b></span><span class="Code" style="color: #0000ff;"><font color="blue">/usr/local/groundwork/config/media/</font></span></p>
<p style="margin-left: 40px;"><span class="CodeInline"># please enter mp3 file name (stored in above specified path - alarm.file.media.path) against monitor status.</span></p>
<p style="margin-left: 40px;"><span class="CodeInline"># Each "monitor status:file-name" combination must be separate by comma (,). Example: DOWN:test-1.mp3,CRITICAL:test-2.mp3</span></p>
<p style="margin-left: 40px;"><span class="CodeInline"># If you do not want to specify alarm file for any of the monitor status, please specify empty file name. Viz. DOWN:,CRITICAL:test-1.mp3</span></p>
<p style="margin-left: 40px; font-weight: bold;"><span class="Code"><b>alarm.file.status.mapping=</b></span><span class="Code" style="color: #0000ff;"><font color="blue">DOWN:down.mp3,CRITICAL:critical.mp3,UNREACHABLE:unreachable.mp3,</font></span></p>
<p style="margin-left: 40px; font-weight: bold;"><span class="Code" style="color: #0000ff;"><font color="blue">WARNING:warning.mp3,PENDING:pending.mp3,UNKNOWN:unknown.mp3,UP:up.mp3,OK:ok.mp3</font></span></p>
<p style="margin-left: 40px;"><span class="CodeInline"># &#160;enable /disable alarm</span></p>
<p style="margin-left: 40px; font-weight: bold;"><span class="Code"><b>console.enable.audible.alarms=</b></span><span class="Code" style="color: #0000ff;"><font color="blue">true</font></span></p>
<div style="width: 100%; position: relative;" id="footer">
<p class="Footer" style="font-size: 7pt; line-height: Normal; margin-top: 6pt; margin-bottom: 4pt;">GroundWork, Inc. ©2011</p>
</div>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
 if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  document.write("<div id='tooltip' class='WebHelpPopupMenu'><\/div>");
//]]>
</script><script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.writeIntopicBar)
        writeIntopicBar(0);


highlightSearch();
//-->
//]]>
</script>
</body>
</html>
