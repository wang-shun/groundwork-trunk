<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Adobe RoboHelp 8" />
<title>Local GroundWork Server</title>
<link rel="StyleSheet" href="../../Bookshelf.css" type="text/css" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
        origWidth = innerWidth;
        origHeight = innerHeight;
        onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
/*<![CDATA[*/
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
/*]]>*/
</style>

<script type="text/javascript" language="javascript1.2" src="../../whmsg.js">
</script>
<script type="text/javascript" language="javascript" src="../../whver.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../whproxy.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../whutils.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../whlang.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../whtopic.js">
</script>
</head>
<body>
<script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.gbWhTopic)
{
        var strUrl = document.location.href;
        var bc = 0;
        var n = strUrl.toLowerCase().indexOf("bc-");
        if(n != -1)
        {
                document.location.href = strUrl.substring(0, n);
                bc = strUrl.substring(n+3);
        }

        if (window.addTocInfo)
        {
        addTocInfo("GROUNDWORK PROFILES\nLocal Profiles\nLocal GroundWork Server");
addButton("show",BTN_TEXT,"Show Table of Contents","","","","",0,0,"","","");

        }
        if (window.writeBtnStyle)
                writeBtnStyle();

        if (window.writeIntopicBar)
                writeIntopicBar(1);

        
        

        if (window.setRelStartPage)
        {
        setRelStartPage("../../Bookshelf.htm");

                autoSync(0);
                sendSyncInfo();
                sendAveInfoOut();
        }
}
else
        if (window.gbIE4)
                document.location.reload();

//-->
//]]>
</script><script type="text/javascript" language="JavaScript1.2" src="../../ehlpdhtm.js">
</script><script type="text/javascript" language="javascript">
//<![CDATA[
document.write("<p  style=\"text-align:right;color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\">");
AddMasterBreadcrumbs("../../Bookshelf.htm", "color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;", "&gt;", "Home", "../../Welcome_to_GroundWork_Monitor/index.htm");
document.write("<a style=\"color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\" href=\"../profiles_aboutprofiles.htm\">GROUNDWORK PROFILES<\/a> &gt; <a style=\"color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\" href=\"profiles_localgroundworkserver.htm\">Local Profiles<\/a> &gt; Local GroundWork Server<\/p>");
//]]>
</script>
<p>&#160;</p>
<h1><a name="MiniTOCBookMark1" id="MiniTOCBookMark1"></a><img src="../../Shared_Images/square.gif" alt="square.gif" style="border: none;" width="15" height="15" border="0" /> GroundWork Profiles</h1>
<h3 align="right"><a href="../profiles_aboutprofiles.htm"><img src="../../Shared_Images/homeicon.gif" alt="homeicon.gif" style="border: none;" width="33" height="27" border="0" /></a> <img src="../../Shared_Images/printicon.gif" onclick="window.print()" alt="Print Page" title="Print Page" style="border: none;" width="31" height="27" border="0" /> <a href="mailto:support@groundworkopensource.com?subject=Local GroundWork Server Profile" title="Send Comments"><img src="../../Shared_Images/commentsicon.gif" alt="commentsicon.gif" style="border: none;" width="33" height="27" border="0" /></a></h3>
<h2><a name="MiniTOCBookMark2" id="MiniTOCBookMark2"></a>Local GroundWork Server Profile</h2>
<p align="left">Table&#160;of&#160;Contents:&#160;<a class="dropspot" href="javascript:TextPopup(this)" id="MTHotSpot45560" name="MTHotSpot45560"><span class="MTText">Show</span><span class="MTText" style="display: none;">Hide</span></a></p>
<script type="text/javascript" language="JavaScript1.2">
//<![CDATA[
TextPopupInit('MTHotSpot45560', 'MTPOPUP45560');
//]]>
</script>
<div align="left" class="droptext" id="MTPOPUP45560" style="display: none;">
<ul style="text-align:left; list-style-type: circle;">
<li><a href="#MiniTOCBookMark3">Services Configuration</a></li>
<li><a href="#MiniTOCBookMark4">Profile Package</a></li>
<li><a href="#MiniTOCBookMark5">Installation</a></li>
<li><a href="#MiniTOCBookMark6">Implementation</a></li>
</ul>
</div>
<p>This profile is applied as the default monitoring for the local groundwork server. It is designed to give the administrator a complete view of the health and performance of all the processes groundwork needs to work well. The services fall into four categories: cpu measures, memory measures, process status, and specific measures.&#160;This profile ensures the main components of the monitoring server listed below are running:</p>
<ul style="list-style: url('../../Shared_Images/bullet01.gif');">
<li class="p-Bullet1">
<p class="Bullet1">Nagios</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1">PostgreSQL database and associated feeder and listener processes</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1">NSCA</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1">SNMP TRAPD and SNMPTT</p>
</li>
</ul>
<h3><a name="MiniTOCBookMark3" id="MiniTOCBookMark3"></a>Services Configuration</h3>
<ul style="list-style: url('../../Shared_Images/bullet01.gif');">
<li class="P-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>SERVICE</b></span> - Definitions in Monarch are stored under this name.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>COMMAND LINE</b></span> - Service command name with arguments to be passed to the plugin.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>PLUGIN COMMAND LINE</b></span> - Plugin script called by Nagios for this Service.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>EXTENDED INFO</b></span> - The Extended Service Info definition, typically used for generating graphs.</p>
</li>
</ul>
<p><span style="color: #ff0000; font-weight: bold;"><font color="red"><b>Note:</b></font></span> Command lines displayed below are intended to be single line commands.</p>
<table cellspacing="0" width="700">
<col style="width: 17.647%;" />
<col style="width: 41.176%;" />
<col style="width: 41.176%;" />
<tr style="vertical-align: top;">
<td style="border: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBoldCenter" style="text-transform: uppercase;">Service</p>
</td>
<td style="border-top: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBoldCenter" style="text-transform: uppercase;">Command Line/Description</p>
</td>
<td style="border-top: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBoldCenter" style="text-transform: uppercase;">Plugin Command Line</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_cpu_httpd</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_cpu!40!50!httpd</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --cpu -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_cpu_java</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_cpu!40!50!java</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --cpu -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_cpu_nagios</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_cpu!40!50!nagios</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --cpu -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_cpu_perl</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_cpu!40!50!perl</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --cpu -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_cpu_snmptrapd</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_cpu!40!50!snmptrapd</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --cpu -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_cpu_snmptt</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_cpu!40!50!snmptt</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --cpu -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_cpu_syslog-ng</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_cpu!40!50!syslog-ng</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --cpu -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_dir_size_snmptt</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_dir_size!/usr/local/groundwork/</p>
<p class="CourierTable">common/var/spool/snmptt!500!1000</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_dir_size.sh "$ARG1$" "$ARG2$" "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_disk_root</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_disk!15%!10%!/</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_disk -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_load</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_load!5,4,3!10,8,6</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_load -w "$ARG1$" -c "$ARG2$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_mem_httpd</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_mem!20!30!httpd</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --mem -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_mem_java</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_mem!40!50!java</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --mem -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_mem_nagios</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_mem!20!30!nagios</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --mem -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_mem_perl</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_mem!20!30!perl</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --mem -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_mem_snmptrapd</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_mem!20!30!snmptrapd</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --mem -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_mem_snmptt</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_mem!20!30!snmptt</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --mem -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_mem_syslog-ng</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_proc_mem!20!30!syslog-ng</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procl.sh --mem -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_mem</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_mem!95!99</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_mem.pl -U -w "$ARG1$" -c "$ARG2$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_nagios_latency</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_nagios_latency</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_nagios_latency.pl</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_users</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_users!5!20</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_users -w $ARG1$ -c $ARG2$</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_process_gw_listener</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_procs_arg!1:1!1:1!etc/</p>
<p class="CourierTable">foundation.xml</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procs -w "$ARG1$" -c "$ARG2$" -a "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_process_nagios</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_nagios</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_nagios -F /usr/local/groundwork/nagios/var/status.log -e 5 -C bin/.nagios.bin</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_process_snmptrapd</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_procs_arg!1:1!1:1!snmptrapd</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procs -w "$ARG1$" -c "$ARG2$" -a "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_process_snmptt</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_procs_arg!2:2!2:2!sbin/snmptt</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_procs -w "$ARG1$" -c "$ARG2$" -a "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">local_uptime</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_local_uptime!1800!900</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_system_uptime.pl -w "$ARG1$" -c "$ARG2$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">tcp_gw_listener</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_tcp_gw_listener</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_tcp -H $HOSTADDRESS$ -p 4913</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">tcp_http_port</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_http_port!3!5!80</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_http -H $HOSTADDRESS$ -w "$ARG1$" -c "$ARG2$" -p "$ARG3$"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">tcp_nsca</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">check_tcp_nsca</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_tcp -H $HOSTADDRESS$ -p 5667</p>
</td>
</tr>
</table>
<h3><a name="MiniTOCBookMark4" id="MiniTOCBookMark4"></a>Profile Package</h3>
<p>This package includes the following files:</p>
<p>Profile Definitions</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">service-profile-local-groundwork-server.xml</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">perfconfig-local-groundwork-server.xml</p>
</li>
</ul>
<p>Plugins Scripts</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">check_http</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">check_procs</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">check_nagios_latency.pl</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">check_nagios</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">check_tcp</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">check_procl.sh</p>
</li>
</ul>
<h3><a name="MiniTOCBookMark5" id="MiniTOCBookMark5"></a>Installation</h3>
<p>GroundWork Monitor includes many monitoring profiles for a variety of devices, systems and applications. Profiles already imported on a new GroundWork installation include Service Ping, SNMP Network, and SSH UNIX. The GroundWork Monitor Configuration tool is used to import updated Profiles and Profiles that require additional setup; the Profile XML file and its companion Performance Configuration definition file. Services can also be imported in addition to Service Profiles in the Profile Importer. The import process is documented under GROUNDWORK PROFILES &gt; <a href="../profiles_importingprofiles.htm">Importing Profiles</a>.</p>
<p>You should import this profile and apply it to localhost if you want comprehensive monitoring of the GroundWork system itself.</p>
<h3><a name="MiniTOCBookMark6" id="MiniTOCBookMark6"></a>Implementation</h3>
<p>This section contains detail settings used by this Profile. These parameters can be altered with the Configuration tool.</p>
<h4><a name="MiniTOCBookMark7" id="MiniTOCBookMark7"></a>Command Parameters</h4>
<p>Command parameters are in the Configuration Services section with the following names and default values.</p>
<p>local_cpu_&lt;process name&gt;</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">The services named "local_cpu_&lt;process name&gt;" are measures of cpu utilization for specific process or groups of processes. Note that the total percentage cpu tilized across all these services will not necessarily total 100% at any one time; Nagios will check them all at different times, and some of them are actually checking groups of processes (such as local_cpu_perl) while others are checking individual processes, which may be members of one or more groups. For example, local_cpu_perl will include the measure of local_cpu_snmptt, a perl program.&#160;</p>
</li>
</ul>
<p>local_dir_size_snmptt</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Monitors the directory size, or the number of files present in the directory /usr/local/groundwork/common/var/spool/snmptt, which is used as a spooling directory for snmp traps awaiting processing. If this directory backs up, you may need to determine why, and what device or devices are generating larger numbers of traps. It's also possible that overloaded servers may be too slow to keep up with a normal flow of traps, and this service will detect that condition before it becomes a problem. Note that this metric is normally only gathered on the parent server in GroundWork deployments, and so is not replicated in the ssh version of this profile designed for GroundWork child servers.</p>
</li>
</ul>
<p>local_disk_root</p>
<ul style="list-style: url('../../Shared_Images/bullet01.gif');">
<li class="P-Bullet1">
<p class="Bullet1">Check disk utilization of root partition.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG1$ - A warning alert will be generated if the utilization exceeds this value. The default is 15.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG2$ - A critical alert will be generated if the utilization exceeds this value. The default is 10.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG3$ - The partition.</p>
</li>
</ul>
<p>local_load</p>
<ul>
<li class="P-Bullet1">A check of the cpu load average at 1,5, and 15 minute intervals. It is a good idea to know when the GroundWork server is getting overloaded, so tuning adjustments can be made.</li>
<li class="P-Bullet1">$ARG1$ - A warning alert will be generated if the load exceeds these values for 1, 5, or 15 minute load averages.</li>
<li class="P-Bullet1">$ARG2$ - A critical alert will be generated if the load exceeds these values for 1, 5, or 15 minute load averages.</li>
</ul>
<p>local_mem_&lt;processname&gt;</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Those services named "local_mem_&lt;process_name&gt;", similarly, measure the memory utilization of individual processes in the same way cpu is measured. In fact, the same plugin, check_procl.sh, is used for both.&#160;</p>
</li>
</ul>
<p>local_mem</p>
<ul>
<li class="P-Bullet1">In contrast to the individual memory measures, this service checks the total memory used on the system. It has been configured to check used memory, and to ignore memory used for buffers, which is potentially available for use by programs. This service, therefore, will warn the administrator when the system is consuming too much memory to operate optimally.</li>
<li class="P-Bullet1">$ARG1$ - A warning alert will be generated if the memory utilization exceeds this value.</li>
<li class="P-Bullet1">$ARG2$ - A critical alert will be generated if the memory utilization exceeds this value.</li>
</ul>
<p>local_nagios_latency</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">The <span style="font-family: 'Courier New', monospace; font-weight: bold;"><b>check_nagios_latency.pl</b></span> plugin will check the time between when an active service check is scheduled to be executed and the time it actually executes. This term is called latency and is an indicator of the load on the server. This plugin will not generate an alert, but it will allow the latency to be graphed.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">A measure of the "lateness" of Nagios' service check scheduler, or how far behind the intended scheduled time service checks are actually being launched. This is in contrast to check execution time. A good metric to watch here is the average latency. This number should ideally stay below 10 seconds. Note that this service does not have thresholds, and will not alert administrators.</p>
</li>
</ul>
<p>local_users</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">A measure of the number of users logged into the command line. This is not a measure of the number of users in the GroundWork web portal.</p>
</li>
</ul>
<p>local_process_gw_listener</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Check to make sure the GroundWork Foundation listener process is running. If this process fails, the Foundation database will not be updated with current Nagios data. A critical alert will be generated if this process is not running.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">The services named simply "local_process_&lt;process name&gt;" are simple checks if those processes are running, and if so, if the correct number are running.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG1$ - A warning alert will be generated if the number of processes exceeds this value. The default is 1:1.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG2$ - A critical alert will be generated if the number of processes exceeds this value. The default is 1:1.</p>
</li>
</ul>
<p>local_process_nagios</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Check if the Nagios process is running. The check_nagios plugin will check to make sure the Nagios status log is updating at least every 5 minutes, and the bin/.nagios.bin process is running. A critical alert will be generated if either of these conditions is not met.</p>
</li>
</ul>
<p>local_process_snmptrapd</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Check to make sure the SNMPTRAPD daemon is running. If this process fails, SNMP traps will not be received by the GroundWork server. A critical alert will be generated if this process is not running.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG1$ - A warning alert will be generated if the number of processes exceeds this value. The default is 1:1.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG2$ - A critical alert will be generated if the number of processes exceeds this value. The default is 1:1.</p>
</li>
</ul>
<p>local_process_snmptt</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Check to make sure the SNMPTT daemon is running. If this process fails, SNMP traps that are received by SNMPTRAPD will not be processed by Nagios and the GroundWork Foundation will not insert trap events. A critical alert will be generated if this process is not running.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG1$ - A warning alert will be generated if the number of processes exceeds this value. The default is 1:1.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG2$ - A critical alert will be generated if the number of processes exceeds this value. The default is 1:1.</p>
</li>
</ul>
<p>tcp_gw_listener</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">A check of a TCP port being open, in this case the port used to post state and message data into the GroundWork Foundation database. This should always be open while foundation is running. Note: In some child server installations, it may be normal for this port to be closed, as Foundation is sometimes disabled on child servers for performance reasons. It should be open on the primary server, however, or the database will be unable to accept data.</p>
</li>
</ul>
<p>tcp_http_port</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Checks the availability of the web interface at a very low level. Designed to alert the administrator that users cannot use the GroundWork web portal.</p>
</li>
</ul>
<p>tcp_nsca</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Check for a listening TCP port number 5667 on $HOSTADDRESS$. This is the port used by NSCA to listen for connections from remote hosts. GroundWork uses the NSCA add-on to Nagios (actually in the form of the bronx event broker) to accept passive host and service checks. This port is open by default, and is rarely disabled, and so the status is checked regularly.</p>
</li>
</ul>
<h4><a name="MiniTOCBookMark8" id="MiniTOCBookMark8"></a>Performance Graphing Parameters</h4>
<p>The following parameters are used to generate performance charts. These parameters are set using the Configuration&gt;Performance tool in GroundWork Monitor.</p>
<p>local_cpu_&lt;process name&gt;</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs the cpu utilization of the process</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "local_cpu_&lt;process name&gt;".</p>
</li>
</ul>
<p>local_dir_size_snmptt</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs the directory size for snmptt.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "local_dir_size_snmptt".</p>
</li>
</ul>
<p>local_disk_root</p>
<ul style="list-style: url('../../Shared_Images/bullet01.gif');">
<li class="P-Bullet1">
<p class="Bullet1">Graphs the disk utilization of the root partition.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "local_disk_root".</p>
</li>
</ul>
<p>local_load</p>
<ul>
<li class="P-Bullet1">Graphs the 1, 5 and 15 minute load averages.</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "local_load".</p>
</li>
</ul>
<p>local_mem_&lt;processname&gt;</p>
<ul>
<li class="P-Bullet1">Graphs the percentage memory utilization for the process.</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "local_mem_&lt;processname&gt;".</p>
</li>
</ul>
<p>local_mem</p>
<ul>
<li class="P-Bullet1">Graphs the percentage memory utilization.</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "local_mem".</p>
</li>
</ul>
<p>local_nagios_latency</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs the latency of Nagios service checks.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "local_nagios_latency".</p>
</li>
</ul>
<p>local_users</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs the number of users logged in to the Linux command shell on the GroundWork Monitor System. This is NOT the number of users logged in to the web portal.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "local_users".</p>
</li>
</ul>
<p>local_process_gw_listener</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs the number of gw_listener processes.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "local_process".</p>
</li>
</ul>
<p>local_process_nagios</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs the number of Nagios processes.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "local_process".</p>
</li>
</ul>
<p>local_process_snmptrapd</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs the number of snmptrapd processes.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "local_process".</p>
</li>
</ul>
<p>local_process_snmptt</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs the number of snmptt processes.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "local_process".</p>
</li>
</ul>
<p>tcp_gw_listener</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "tcp_gw_listener".</p>
</li>
</ul>
<p class="Bullet1">tcp_http_port</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs time taken to load web page.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "tcp_http_port".</p>
</li>
</ul>
<p class="Bullet1">tcp_nsca</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs time taken for NSCA daemon to respond.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">The Nagios service description must contain the string "tcp_nsca".</p>
</li>
</ul>
<h4><a name="MiniTOCBookMark9" id="MiniTOCBookMark9"></a>Implementation Notes</h4>
<p>The Nagios latency graph relies on a Nagios binary <span class="CodeInline">/usr/local/groundwork/nagios/bin/nagiostats</span> and the included version of the plugin <span class="CodeInline">check_nagios_latency.pl</span>. It has been modified to produce performance data in the standard format. All other checks should work for Nagios.</p>
<div style="width: 100%; position: relative;" id="footer">
<p class="Footer" style="font-size: 7pt; line-height: Normal; margin-top: 6pt; margin-bottom: 4pt;">GroundWork, Inc. ©2011</p>
</div>
<script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.writeIntopicBar)
        writeIntopicBar(0);


highlightSearch();
//-->
//]]>
</script>
</body>
</html>
