<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Adobe RoboHelp 8" />
<title>SSH NMON</title>
<link rel="StyleSheet" href="../../Bookshelf.css" type="text/css" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
        origWidth = innerWidth;
        origHeight = innerHeight;
        onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
/*<![CDATA[*/
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
/*]]>*/
</style>

<script type="text/javascript" language="javascript1.2" src="../../whmsg.js">
</script>
<script type="text/javascript" language="javascript" src="../../whver.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../whproxy.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../whutils.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../whlang.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../whtopic.js">
</script>
</head>
<body>
<script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.gbWhTopic)
{
        var strUrl = document.location.href;
        var bc = 0;
        var n = strUrl.toLowerCase().indexOf("bc-");
        if(n != -1)
        {
                document.location.href = strUrl.substring(0, n);
                bc = strUrl.substring(n+3);
        }

        if (window.addTocInfo)
        {
        addTocInfo("GROUNDWORK PROFILES\nSSH Profiles\nSSH NMON");
addButton("show",BTN_TEXT,"Show Table of Contents","","","","",0,0,"","","");

        }
        if (window.writeBtnStyle)
                writeBtnStyle();

        if (window.writeIntopicBar)
                writeIntopicBar(1);

        
        

        if (window.setRelStartPage)
        {
        setRelStartPage("../../Bookshelf.htm");

                autoSync(0);
                sendSyncInfo();
                sendAveInfoOut();
        }
}
else
        if (window.gbIE4)
                document.location.reload();

//-->
//]]>
</script><script type="text/javascript" language="JavaScript1.2" src="../../ehlpdhtm.js">
</script><script type="text/javascript" language="javascript">
//<![CDATA[
document.write("<p  style=\"text-align:right;color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\">");
AddMasterBreadcrumbs("../../Bookshelf.htm", "color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;", "&gt;", "Home", "../../Welcome_to_GroundWork_Monitor/index.htm");
document.write("<a style=\"color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\" href=\"../profiles_aboutprofiles.htm\">GROUNDWORK PROFILES<\/a> &gt; <a style=\"color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\" href=\"profiles_sshmonitoringoverview.htm\">SSH Profiles<\/a> &gt; SSH NMON<\/p>");
//]]>
</script>
<p>&#160;</p>
<h1><a name="MiniTOCBookMark1" id="MiniTOCBookMark1"></a><img src="../../Shared_Images/square.gif" alt="square.gif" style="border: none;" width="15" height="15" border="0" /> GroundWork Profiles</h1>
<h3 align="right"><a href="../profiles_aboutprofiles.htm"><img src="../../Shared_Images/homeicon.gif" alt="homeicon.gif" style="border: none;" width="33" height="27" border="0" /></a> <img src="../../Shared_Images/printicon.gif" onclick="window.print()" alt="Print Page" title="Print Page" style="border: none;" width="31" height="27" border="0" /> <a href="mailto:support@groundworkopensource.com?subject=SSH NMON Profile" title="Send Comments"><img src="../../Shared_Images/commentsicon.gif" alt="commentsicon.gif" style="border: none;" width="33" height="27" border="0" /></a></h3>
<h2><a name="MiniTOCBookMark2" id="MiniTOCBookMark2"></a>SSH NMON Profile</h2>
<p align="left">Table&#160;of&#160;Contents:&#160;<a class="dropspot" href="javascript:TextPopup(this)" id="MTHotSpot59797" name="MTHotSpot59797"><span class="MTText">Show</span><span class="MTText" style="display: none;">Hide</span></a></p>
<script type="text/javascript" language="JavaScript1.2">
//<![CDATA[
TextPopupInit('MTHotSpot59797', 'MTPOPUP59797');
//]]>
</script>
<div align="left" class="droptext" id="MTPOPUP59797" style="display: none;">
<ul style="text-align:left; list-style-type: circle;">
<li><a href="#MiniTOCBookMark3">Services Configuration</a></li>
<li><a href="#MiniTOCBookMark4">Profile Package</a></li>
<li><a href="#MiniTOCBookMark5">Installation</a></li>
<li><a href="#MiniTOCBookMark6">Implementation</a></li>
</ul>
</div>
<p>This profile monitors several statistics collected by NMON on monitored servers.</p>
<h3><a name="MiniTOCBookMark3" id="MiniTOCBookMark3"></a>Services Configuration</h3>
<ul style="list-style: url('../../Shared_Images/bullet01.gif');">
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>SERVICE</b></span> - Definitions in Monarch are stored under this name.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>COMMAND LINE</b></span> - Service command name with arguments to be passed to the plugin.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>PLUGIN COMMAND LINE</b></span> - Plugin script called by Nagios for this Service.</p>
</li>
</ul>
<p><span style="color: #ff0000; font-weight: bold;"><font color="red"><b>Note:</b></font></span> Command lines displayed below are intended to be single line commands.</p>
<table cellspacing="0" width="700">
<col style="width: 17.647%;" />
<col style="width: 41.176%;" />
<col style="width: 41.176%;" />
<tr style="vertical-align: top;">
<td style="border: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBoldCenter">Service</p>
</td>
<td style="border-top: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBoldCenter">Command Line</p>
</td>
<td style="border-top: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBoldCenter">Plugin Command Line</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">ssh_nmon_cpu</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">Check_by_ssh_nmon!cpu01!92!98</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_by_ssh -H $HOSTADDRESS$ -t 60 -l "$USER17$" -C "$USER22$/check_nmon_totals.pl -k $ARG1$ -w $ARG2$ -c $ARG3$ -p"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">ssh_nmon_diskio</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">Check_by_ssh_nmon!diskio!50!70</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_by_ssh -H $HOSTADDRESS$ -t 60 -l "$USER17$" -C "$USER22$/check_nmon_totals.pl -k $ARG1$ -w $ARG2$ -c $ARG3$ -p"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">ssh_nmon_memory</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">Check_by_ssh_nmon!memory!8!4</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_by_ssh -H $HOSTADDRESS$ -t 60 -l "$USER17$" -C "$USER22$/check_nmon_totals.pl -k $ARG1$ -w $ARG2$ -c $ARG3$ -p"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">ssh_nmon_paging</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">Check_by_ssh_nmon!paging!20!40</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="CourierTable">$USER1$/check_by_ssh -H $HOSTADDRESS$ -t 60 -l "$USER17$" -C "$USER22$/check_nmon_totals.pl -k $ARG1$ -w $ARG2$ -c $ARG3$ -p"</p>
</td>
</tr>
</table>
<h3><a name="MiniTOCBookMark4" id="MiniTOCBookMark4"></a>Profile Package</h3>
<p>This package includes the following files:</p>
<p>Profile Definitions</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">service-profile-ssh-nmon.xml</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">perfconfig-ssh-nmon.xml</p>
</li>
</ul>
<p>Plugins on the GroundWork Server</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">check_nmon_totals.pl</p>
</li>
</ul>
<p>Event Handlers</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">start_nmon.pl</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">writenmonrrd.pl</p>
</li>
</ul>
<h3><a name="MiniTOCBookMark5" id="MiniTOCBookMark5"></a>Installation</h3>
<p>GroundWork Monitor includes many monitoring profiles for a variety of devices, systems and applications. Profiles already imported on a new GroundWork installation include Service Ping, SNMP Network, and SSH UNIX. The GroundWork Monitor Configuration tool is used to import updated Profiles and Profiles that require additional setup; the Profile XML file and its companion Performance Configuration definition file. Services can also be imported in addition to Service Profiles in the Profile Importer. The import process is documented under <span style="font-weight: bold;"><b>GROUNDWORK PROFILES &gt; <a href="../profiles_importingprofiles.htm" style="font-weight: bold;">Importing Profiles</a></b></span>.</p>
<p>The special event handler <span class="CodeInline">writenmonrrd.pl</span> must be installed in the Nagios eventhandler directory. This eventhandler is needed to processes NMON version 11f information for inclusion in performance graphs. <span class="CodeInline">check_nmon_totals.pl</span> depends on the proper functioning of nmon running in Data-Collect-Mode. <span class="CodeInline">start_nmon.pl</span> is used to start the nmon daemon.</p>
<p><span style="color: #ff0000; font-weight: bold;"><font color="red"><b>Note:</b></font></span> See Implementation Notes below.</p>
<h3><a name="MiniTOCBookMark6" id="MiniTOCBookMark6"></a><b style="font-weight: bold;">Implementation</b></h3>
<p>This section contains detail settings used by this Profile. These parameters can be altered with the Configuration tool.</p>
<h4><a name="MiniTOCBookMark7" id="MiniTOCBookMark7"></a>Command Parameters</h4>
<p>Command parameters are in the Configuration Services section with the following names and default values.</p>
<p>ssh_nmon_cpu</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Nmon cpu utilization</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG1$ - Nmon parameter</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG2$ - Warning threshold.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG3$ - Critical threshold.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$USER17$ - ssh user</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$USER22$ - plugin library path</p>
</li>
</ul>
<p>ssh_nmon_diskio</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Nmon disk io</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG1$ - Nmon parameter</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG2$ - Warning threshold.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG3$ - Critical threshold.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$USER17$ - ssh user</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$USER22$ - plugin library path</p>
</li>
</ul>
<p>ssh_nmon_memory</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Nmon memory utilization</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG1$ - Nmon parameter</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG2$ - Warning threshold.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG3$ - Critical threshold.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$USER17$ - ssh user</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$USER22$ - plugin library path</p>
</li>
</ul>
<p>ssh_nmon_paging</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Nmon memory paging</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG1$ - Nmon parameter</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG2$ - Warning threshold.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$ARG3$ - Critical threshold.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$USER17$ - ssh user</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">$USER22$ - plugin library path</p>
</li>
</ul>
<h4><a name="MiniTOCBookMark8" id="MiniTOCBookMark8"></a>Performance Graphing Parameters</h4>
<p>The following parameters are used to generate performance charts. These parameters are set using the Configuration&gt;Performance tool in GroundWork Monitor.</p>
<p>ssh_nmon_cpu</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs cpu utilization as derived by nmon</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">Nagios service description must contain the string "ssh_nmon_cpu".</p>
</li>
</ul>
<p>ssh_nmon_diskio</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs disk io utilization as derived by nmon</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">Nagios service description must contain the string "ssh_nmon_diskio".</p>
</li>
</ul>
<p>ssh_nmon_memory</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs memory utilization as derived by nmon</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">Nagios service description must contain the string "ssh_nmon_memory".</p>
</li>
</ul>
<p>ssh_nmon_paging</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Graphs paging statistics as derived by nmon</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">Nagios service description must contain the string "ssh_nmon_paging".</p>
</li>
</ul>
<h4><a name="MiniTOCBookMark9" id="MiniTOCBookMark9"></a>Implementation Notes</h4>
<p>Path parameters in <span class="CodeInline">check_nmon_totals.pl</span> and <span class="CodeInline">start_nmon.pl</span> must match exactly.</p>
<p>Example crontab for <span style="font-weight: bold;"><b>start_nmon.pl</b></span>:</p>
<p class="CodeGroup">00 00 * * * /usr/local/groundwork/nagios/eventhandlers/start_nmon.pl 2&gt;&amp;1 &gt;/dev/null</p>
<p class="CodeGroup">05 01 * * * find /usr/local/groundwork/nagios/eventhandlers/nmon/log -mtime +5 -exec rm {} \\\;</p>
<p class="CodeGroup">Nmon Home Page <a href="http://www-941.haw.ibm.com/collaboration/wiki/display/WikiPtype/nmon" target="_blank">http://www-941.haw.ibm.com/collaboration/wiki/display/WikiPtype/nmon</a></p>
<p class="CodeGroup">Nmon Manual <a href="http://www-941.haw.ibm.com/collaboration/wiki/display/WikiPtype/nmon%2bManual" target="_blank">http://www-941.haw.ibm.com/collaboration/wiki/display/WikiPtype/nmon+Manual</a></p>
<div style="width: 100%; position: relative;" id="footer">
<p class="Footer" style="font-size: 7pt; line-height: Normal; margin-top: 6pt; margin-bottom: 4pt;">GroundWork, Inc. ©2011</p>
</div>
<script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.writeIntopicBar)
        writeIntopicBar(0);


highlightSearch();
//-->
//]]>
</script>
</body>
</html>
