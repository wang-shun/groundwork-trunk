<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Adobe RoboHelp 8" />
<title>SNMPTT</title>
<link rel="StyleSheet" href="../Bookshelf.css" type="text/css" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function ehlp_showtip(current,e,text)
{
  if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  {
    document.tooltip.document.write("<layer bgColor='yellow' style='border:1px solid black;font-size:12px;'>"+ text + "<\/layer>");
    document.tooltip.document.close();
    document.tooltip.left=e.pageX+5;
    document.tooltip.top=e.pageY+5;
    document.tooltip.visibility="show";
  }
}
function ehlp_hidetip()
{
  document.tooltip.visibility="hidden";
}
//]]>
</script>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
        origWidth = innerWidth;
        origHeight = innerHeight;
        onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
/*<![CDATA[*/
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
/*]]>*/
</style>

<script type="text/javascript" language="javascript1.2" src="../whmsg.js">
</script>
<script type="text/javascript" language="javascript" src="../whver.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../whproxy.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../whutils.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../whlang.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../whtopic.js">
</script>
</head>
<body>
<script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.gbWhTopic)
{
        var strUrl = document.location.href;
        var bc = 0;
        var n = strUrl.toLowerCase().indexOf("bc-");
        if(n != -1)
        {
                document.location.href = strUrl.substring(0, n);
                bc = strUrl.substring(n+3);
        }

        if (window.addTocInfo)
        {
        addTocInfo("OPEN SOURCE REFERENCE\nSNMPTT");
addButton("show",BTN_TEXT,"Show Table of Contents","","","","",0,0,"","","");

        }
        if (window.writeBtnStyle)
                writeBtnStyle();

        if (window.writeIntopicBar)
                writeIntopicBar(1);

        
        

        if (window.setRelStartPage)
        {
        setRelStartPage("../Bookshelf.htm");

                autoSync(0);
                sendSyncInfo();
                sendAveInfoOut();
        }
}
else
        if (window.gbIE4)
                document.location.reload();

//-->
//]]>
</script><script type="text/javascript" language="javascript">
//<![CDATA[
document.write("<p  style=\"text-align:right;color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\">");
AddMasterBreadcrumbs("../Bookshelf.htm", "color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;", "&gt;", "Home", "../Welcome_to_GroundWork_Monitor/index.htm");
document.write("<a style=\"color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\" href=\"GroundWork_OS_Projects/osr_monarch.htm\">OPEN SOURCE REFERENCE<\/a> &gt; SNMPTT<\/p>");
//]]>
</script>
<p>&#160;</p>
<h1><img src="../Shared_Images/square.gif" alt="square.gif" style="border: none;" width="15" height="15" border="0" /> Open Source Reference</h1>
<h3 align="right"><a href="../Welcome_to_GroundWork_Monitor/index.htm" title="Topic Home" onmouseover="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_showtip(this,event,'Topic Home');" onmouseout="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_hidetip();"><img src="../Shared_Images/homeicon.gif" alt="Topic Home" title="Topic Home" style="border: none;" width="33" height="27" border="0" /></a> <img src="../Shared_Images/printicon.gif" onclick="window.print()" alt="Print Page" title="Print Page" style="border: none;" width="33" height="27" border="0" /> <a href="mailto:support@groundworkopensource.com?subject=About SNMP Trap Translator (SNMPTT)" title="Send Comments"><img src="../Shared_Images/commentsicon.gif" alt="Send Comments" title="Send Comments" style="border: none;" width="33" height="27" border="0" /></a></h3>
<h2>About SNMP Trap Translator (SNMPTT)</h2>
<p>GroundWork Monitor uses SNMP trap translator (SNMPTT) to parse incoming SNMP traps and format them in a human readable fashion for display in alarms and the web interface. It also allows for customizing the severities of each trap based on customer requirements.</p>
<p>SNMP Trap Translator (SNMPTT) is an SNMP trap handler written in Perl for use with the Net-SNMP / UCD-SNMP snmptrapd program. SNMPTT supports Linux, UNIX and Windows.</p>
<p>Many network devices including but not limited to network switches, routers, remote access servers, UPSs, printers and operating systems such as UNIX and Windows NT have the ability to send notifications to an SNMP manager running on a network management station. The notifications can be either SNMP Traps, or SNMP Inform messages.</p>
<p>The notification can contain a wide array of information such as port failures, link failures, access violations, power outages, paper jams, hard drive failures etc. The MIB (Management Information Base) available from the vendor determines the notifications supported by each device.</p>
<p>The MIB file contains TRAP-TYPE (SMIv1) or NOTIFICATION-TYPE (SMIv2) definitions, which define the variables that are passed to the management station when a particular event occurs.</p>
<p>The Net-SNMP program snmptrapd is an application that receives and logs SNMP trap and inform messages via TCP/IP.</p>
<h3>Links</h3>
<ul style="list-style: url('../Shared_Images/bullet01.gif');">
<li class="p-Bullet1">
<p class="Bullet1">SNMPTT - <a href="http://www.snmptt.org" target="_blank">http://www.snmptt.org</a></p>
</li>
<li class="p-Bullet1">
<p class="Bullet1">Net-SNMP - <a href="http://www.net-snmp.org" target="_blank">http://www.net-snmp.org</a></p>
</li>
</ul>
<h2>Sample SYSLOG Entry</h2>
<p>Following is a sample syslog entry for a Compaq cpqDa3LogDrvStatusChange trap that notifies that the drive array is rebuilding:</p>
<p class="CodeGroup"><code class="bookshelfcode" style="font-family: monospace;">Feb 12 13:37:10 server11 snmptrapd[25409]: 192.168.110.192: Enterprise Specific Trap (3008) Uptime: 306 days, 23:13:24.29, .1.3.6.1.2.1.1.5.0 = SERVER08, .1.3.6.1.4.1.232.11.2.11.1.0 = 0, .1.3.6.1.4.1.232.3.2.3.1.1.4.8.1 = rebuilding(7)</code></p>
<p>or</p>
<p class="CodeGroup"><code class="bookshelfcode" style="font-family: monospace;">Feb 12 13:37:10 server11 snmptrapd[25409]: 192.168.110.192: Enterprise Specific Trap (3008) Uptime: 306 days, 23:13:24.29, sysName.0 = SERVER08, cpqHoTrapFlags.0 = 0, cpqDaLogDrvStatus.8.1 = rebuilding(7)</code></p>
<p>The output from <span class="CodeInline">snmptrapd</span> can be changed via the <span class="CodeInline">-O</span> option to display numeric or symbolic OIDs and other display options, but it generally follows the format of <span class="CodeInline">variable name = value</span>, <span class="CodeInline">variable name = value</span> etc.</p>
<p>A more descriptive / friendly trap message can be created using SNMPTT's variable substitution. Following is the same trap, logged with SNMPTT:</p>
<p class="CodeGroup"><code class="bookshelfcode" style="font-family: monospace;">Feb 12 13:37:13 server11 TRAPD: .1.3.6.1.4.1.232.0.3008 Normal "XLOGONLY" server08 - Logical Drive Status Change: Status is now rebuilding</code></p>
<p>The definition for the cpqDa3LogDrvStatusChange trap in the SNMPTT configuration file would be defined as follows:</p>
<p class="CodeGroup"><code class="bookshelfcode" style="font-family: monospace;">FORMAT Logical Drive Status Change: Status is now $3.</code></p>
<p>The <span class="CodeInline">$3</span> represents the third variable as defined in the MIB file, which for this particular trap, is the <span class="CodeInline">cpqDaLogDrvStatus</span> variable.</p>
<p>Another example of an SNMPTT configuration entry is:</p>
<p class="CodeGroup"><code class="bookshelfcode" style="font-family: monospace;">FORMAT Compaq Drive Array Spare Drive on controller $4, bus $5, bay $6 status is $3.</code></p>
<p>Which could result in the following output:</p>
<p class="CodeGroup"><code class="bookshelfcode" style="font-family: monospace;">"Compaq Drive Array Spare Drive on controller 3, bus 0, bay 3 status is Failed."</code></p>
<p>SNMPTT can log to any of the following destinations: <span class="CodeInline">text log, syslog</span>, NT Event log or a SQL database. External programs can also be run to pass the translated trap to an email client, paging software, Nagios etc.</p>
<p>In addition to variable substitution, SNMPTT allows complex configurations allowing:</p>
<ul style="list-style: url('../Shared_Images/bullet01.gif');">
<li class="p-Bullet1">
<p class="Bullet1">The ability to accept or reject a trap based on the host name, ip address, network range, or variable values inside of the trap enterprise variables.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1">Execute external programs to send pages, emails etc.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1">Perform regular expression search and replace on the translated message such as translating the variable value <span class="CodeInline">"Building alarm 4"</span> to <span class="CodeInline">"Moisture detection alarm"</span>.</p>
</li>
</ul>
<div style="width: 100%; position: relative;" id="footer">
<p class="Footer" style="font-size: 7pt; line-height: Normal; margin-top: 6pt; margin-bottom: 4pt;">GroundWork, Inc. ©2011</p>
</div>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
 if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  document.write("<div id='tooltip' class='WebHelpPopupMenu'><\/div>");
//]]>
</script><script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.writeIntopicBar)
        writeIntopicBar(0);


highlightSearch();
//-->
//]]>
</script>
</body>
</html>
