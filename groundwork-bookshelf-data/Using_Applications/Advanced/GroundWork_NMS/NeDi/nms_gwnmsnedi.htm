<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Adobe RoboHelp 8" />
<title>NMS NeDi</title>
<link rel="StyleSheet" href="../../../../Bookshelf.css" type="text/css" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function ehlp_showtip(current,e,text)
{
  if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  {
    document.tooltip.document.write("<layer bgColor='yellow' style='border:1px solid black;font-size:12px;'>"+ text + "<\/layer>");
    document.tooltip.document.close();
    document.tooltip.left=e.pageX+5;
    document.tooltip.top=e.pageY+5;
    document.tooltip.visibility="show";
  }
}
function ehlp_hidetip()
{
  document.tooltip.visibility="hidden";
}
//]]>
</script>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
        origWidth = innerWidth;
        origHeight = innerHeight;
        onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
/*<![CDATA[*/
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
/*]]>*/
</style>

<script type="text/javascript" language="javascript1.2" src="../../../../whmsg.js">
</script>
<script type="text/javascript" language="javascript" src="../../../../whver.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whproxy.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whutils.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whlang.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whtopic.js">
</script>
</head>
<body>
<script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.gbWhTopic)
{
        var strUrl = document.location.href;
        var bc = 0;
        var n = strUrl.toLowerCase().indexOf("bc-");
        if(n != -1)
        {
                document.location.href = strUrl.substring(0, n);
                bc = strUrl.substring(n+3);
        }

        if (window.addTocInfo)
        {
        addTocInfo("USING APPLICATIONS\nAdvanced\nGroundWork NMS\nNMS NeDi");
addButton("show",BTN_TEXT,"Show Table of Contents","","","","",0,0,"","","");

        }
        if (window.writeBtnStyle)
                writeBtnStyle();

        if (window.writeIntopicBar)
                writeIntopicBar(1);

        
        

        if (window.setRelStartPage)
        {
        setRelStartPage("../../../../Bookshelf.htm");

                autoSync(0);
                sendSyncInfo();
                sendAveInfoOut();
        }
}
else
        if (window.gbIE4)
                document.location.reload();

//-->
//]]>
</script><script type="text/javascript" language="JavaScript1.2" src="../../../../ehlpdhtm.js">
</script><script type="text/javascript" language="javascript">
//<![CDATA[
document.write("<p  style=\"text-align:right;color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\">");
AddMasterBreadcrumbs("../../../../Bookshelf.htm", "color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;", "&gt;", "Home", "../../../../Welcome_to_GroundWork_Monitor/index.htm");
document.write("<a style=\"color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\" href=\"../../../usingapplications_aboutusingapplications.htm\">USING APPLICATIONS<\/a> &gt; <a style=\"color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\" href=\"../../nagios_usingthenagiosinterface.htm\">Advanced<\/a> &gt; <a style=\"color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\" href=\"../nms_aboutnms.htm\">GroundWork NMS<\/a> &gt; NMS NeDi<\/p>");
//]]>
</script>
<p>&#160;</p>
<h1><a name="MiniTOCBookMark1" id="MiniTOCBookMark1"></a><img src="../../../../Shared_Images/square.gif" alt="square.gif" style="border: none;" width="15" height="15" border="0" /> GroundWork Network Management Suite (NMS)</h1>
<h3 align="right"><a href="../nms_aboutnms.htm" title="Topic Home" onmouseover="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_showtip(this,event,'Topic Home');" onmouseout="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_hidetip();"><img src="../../../../Shared_Images/homeicon.gif" alt="Topic Home" title="Topic Home" style="border: none;" width="33" height="27" border="0" /></a> <img src="../../../../Shared_Images/printicon.gif" onclick="window.print()" alt="Print Page" title="Print Page" style="border: none;" width="33" height="27" border="0" /> <a href="mailto:support@groundworkopensource.com?subject=NMS NeDi" title="Send Comments"><img src="../../../../Shared_Images/commentsicon.gif" alt="Send Comments" title="Send Comments" style="border: none;" width="33" height="27" border="0" /></a></h3>
<span class="PageTitle">NMS NEDI</span>
<p align="left">Table&#160;of&#160;Contents:&#160;<a class="dropspot" href="javascript:TextPopup(this)" id="MTHotSpot23629" name="MTHotSpot23629"><span class="MTText">Show</span><span class="MTText" style="display: none;">Hide</span></a></p>
<script type="text/javascript" language="JavaScript1.2">
//<![CDATA[
TextPopupInit('MTHotSpot23629', 'MTPOPUP23629');
//]]>
</script>
<div align="left" class="droptext" id="MTPOPUP23629" style="display: none;">
<ul style="text-align:left; list-style-type: circle;">
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark2">About NeDi</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark3">Configuring the NeDi Package</a>
<ul style="list-style-type: circle;">
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark4">Managing User Access</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark7">Configuring Discovery Methods</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark8">Setting the Default SNMP Community Strings</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark9">Setting the Default CLI Authentication Credentials</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark10">Restricting Discovery by IP Address</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark11">Restricting Discovery by MAC Address</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark12">Restricting Discovery by Device Type</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark13">Managing Device Definitions</a></li>
</ul>
</li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark14">Performing Common NeDi Tasks</a>
<ul style="list-style-type: circle;">
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark15">Using the Search and Display Filters</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark16">Infrastructure Device List</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark17">Infrastructure Device Detail Data</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark18">Node List</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark19">Node Detail Data</a></li>
</ul>
</li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark20">Integrating NeDi Data with GroundWork Monitor</a>
<ul style="list-style-type: circle;">
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark21">Exporting Host Definitions from NeDi</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark22">Importing Host Definitions into GroundWork Monitor</a></li>
</ul>
</li>
</ul>
</div>
<h2><a name="MiniTOCBookMark2" id="MiniTOCBookMark2"></a>About NeDi</h2>
<p>NeDi is an open source toolkit for managing network infrastructure devices such as switches and routers, and is integrated into GroundWork Monitor as an optional component of the GroundWork Network Management Suite (NMS). When the GroundWork NMS NeDi package has been installed, a "NeDi" menu item will be present in the main drop-down menu.</p>
<p>In simple terms, NeDi is an integrated toolkit for managing infrastructure devices like routers and switches. Whereas most of the components in GroundWork Monitor are designed for the purpose of monitoring the devices on a network (such as measuring the available resources on a host and then generating alarms when conditions require it), NeDi is designed to help administrators manage their infrastructure devices in particular (such as discovering and monitoring changes to the network topology, or manipulating the configuration of the network switches and routers).</p>
<p>More specifically, NeDi uses a variety of discovery technologies to locate the infrastructure devices across a network, then uses another set of technologies to probe and query the discovered devices for additional details, and finally stores the discovery data in a set of dynamic databases. From there, administrators can use the NeDi web interface to display information about the network devices and their relationships with each other, perform some basic management tasks, and be alerted to unexpected changes on the network. In addition, NeDi also provides configuration backup and editing tools and inventory management features which further contribute to the device management feature set.</p>
<p>This document discusses the basic configuration and operation of NeDi. For more detailed discussion, refer to the <a href="http://www.nedi.ch/doku.php?id=discovery:discovery" target="_blank">online NeDi setup documentation</a> and the <a href="http://www.nedi.ch/doku.php?id=gui:configuration" target="_blank">online NeDi GUI documentation</a>.</p>
<h2><a name="MiniTOCBookMark3" id="MiniTOCBookMark3"></a>Configuring the NeDi Package</h2>
<p>The GroundWork NMS NeDi package is installed separately from GroundWork Monitor and other applications, and also has its own unique configuration process.</p>
<h3><a name="MiniTOCBookMark4" id="MiniTOCBookMark4"></a>Managing User Access</h3>
<p>The NeDi web pages are provided by a NMS-specific instance of Apache, although the NeDi web front-end is also integrated into GroundWork Monitor through the use of the JBoss Portal. As such, users who have been granted the appropriate role-based permission to access the NeDi object can do so by logging into GroundWork Monitor, and then choosing the "NeDi" entry from the main drop-down menu.</p>
<p>However, NeDi also has its own separate user accounts and access controls, which are independent of the GroundWork Monitor controls. More specifically, NeDi only has a single predefined administrative user account, with the username of "admin" and the password of "admin". Furthermore, most of the built-in web pages are unrestricted, and do not require any authentication. If you want to restrict access to the NeDi web server or some of its web pages, you may need to create the appropriate user accounts and access controls within NeDi.</p>
<p>Note that this process is separate from the process of determining which users have access to the "NeDi" item in the GroundWork Monitor main menu. For information on configuring user access to the "NeDi" menu item, refer to the "Configuring Roles" section of the Administration documentation.</p>
<h4><a name="MiniTOCBookMark5" id="MiniTOCBookMark5"></a>Managing User Accounts</h4>
<p>The GroundWork NMS NeDi package includes technology that automatically creates a user account in NeDi whenever that user first accesses NeDi through GroundWork Monitor. As such, user accounts do not need to be explicitly created in NeDi in order for users to access those pages. However, it may sometimes be necessary to manage the user accounts directly.</p>
<p>To manage the NeDi user accounts, login to NeDi with administrative credentials, then mouse-over the "User" menu at the top of the screen, and then click on the "Accounts" menu item. You will then be presented with a screen that lists the currently defined user accounts, similar to the following:</p>
<p><img src="Assets/nedi-user-list_0.gif" alt="NeDi User List" title="NeDi User List" style="border: none;" width="670" height="216" border="0" /></p>
<p>To add a new user account, type the desired username into the "User" edit box in the upper right corner, and click on the "Add" button next to it. The current screen will be reloaded, with the new user at the bottom of the list.</p>
<p>Once a user account has been created, the account can be associated with any of the pre-defined NeDi groups by clicking on the small icons in the "Groups" column. Refer to the Managing Access Controls section below for more information about NeDi groups.</p>
<p>You can also reset a user's password by clicking the key icon to the right of the desired account. This will delete the user's current password, leaving it empty until it is reset by the user account in question.</p>
<p>If you wish to modify the user-specific details such as the password and full name, you must login to GroundWork Monitor with that user account, launch the NeDi application from the GroundWork main menu, mouse-over the "User" menu at the top of the screen, and then click on the "Profile" menu item. You will then be presented with a screen that shows the account details for the current user, similar to the following:</p>
<p><img src="Assets/nedi-user-modify_0.gif" alt="Modify User Details" title="Modify User Details" style="border: none;" width="670" height="215" border="0" /></p>
<p>Note that the email address and phone number fields are used for some alerting operations, and must be defined if this user will be receiving NeDi alerts. If you want this user to be excluded from these activities, they must be removed from the associated groups, or the contact data must be removed.</p>
<p>To delete a user account, return to the main user account page and click the red "X" icon to the right of the desired account. You will be prompted to confirm the deletion.</p>
<h4><a name="MiniTOCBookMark6" id="MiniTOCBookMark6"></a>Managing Access Controls</h4>
<p>NeDi access controls are essentially group-based activity filters. Users who belong to a specified group are automatically granted access to the Web pages associated with that group, and may also be included in some automated tasks that are tied to a group. For example, NeDi provides a device monitoring script that will issue email and SMS messages to members of the "Monitoring" group whenever a critical event is detected.</p>
<p>The pre-defined NeDi groups are as follows:</p>
<ul style="list-style: url('../../../../Shared_Images/bullet01.gif');">
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Admin</b></span> - Members of this group can access the menu items and Web pages that modify settings and devices. This includes the ability to add and delete user accounts, modify device monitoring controls, issue raw commands to infrastructure devices, and perform other potentially-destructive tasks.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Network</b></span> - Members of this group can access the Devices and Topology menus and related Web pages.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Helpdesk</b></span> - Members of this group can access the Nodes menu and related Web pages.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Monitoring</b></span> - Members of this group can access the Monitoring menu and related Web pages, and be notified whenever a critical event has been detected by a monitoring process.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Manager</b></span> - Members of this group can access the Reports menu and related Web pages.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Other</b></span> - Members of this group can access the Other menu and related Web pages.</p>
</li>
</ul>
<p>To modify the group memberships of an account, mouse-over the "User" menu at the top of the screen, and then click on the "Accounts" menu item. Once the list of currently defined user accounts has been displayed, click on the appropriate small icons in the "Groups" column to enable and disable membership in the affected group. Note that you can hold your mouse cursor over the icons to get balloon help for that group.</p>
<p>If you wish to change the group that is allowed to use a specific module, you can do so by editing the <span class="CodeInline">nedi.conf</span> configuration file, as discussed further ahead.</p>
<h3><a name="MiniTOCBookMark7" id="MiniTOCBookMark7"></a>Configuring Discovery Methods</h3>
<p>As stated earlier, NeDi uses a variety of discovery technologies to locate the infrastructure devices across a network. In general terms, NeDi first attempts to locate one or more starting devices, and then uses one the specified discovery technologies to determine the neighboring devices. This approach allows NeDi to get up and running quickly, while also allowing it to build a fairly comprehensive map of the network.</p>
<p>The discovery process itself is performed by the <span class="CodeInline">/usr/local/groundwork/nms/applications/nedi/nedi.pl</span> Perl script, with the desired discovery technologies being specified as command-line parameters to that script.</p>
<p>The discovery technologies that are supported by NeDi are as follows:</p>
<ul style="list-style: url('../../../../Shared_Images/bullet01.gif');">
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Static Seedlists</b></span> - If an administrator needs to manually specify one or more starting devices, they can be itemized in a "seedlist" file. The default seedlist file is <span class="CodeInline">/usr/local/groundwork/nms/applications/nedi/seedlist</span>, although a different file can be specified as an argument to the "-u" command-line parameter if needed.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Default Gateway</b></span> - If a seedlist file is not defined or does not contain any entries, then NeDi attempts to locate the default gateway device for the current host, and uses that device's IP address as an implicit seedlist.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Cisco Discovery Protocol (CDP)</b></span> - CDP is a propriety discovery technology that was developed by Cisco to allow their devices to locate each other across a variety of layer-2 networks. As a result, CDP-enabled devices are aware of other CDP-enabled devices, and can provide a good initial map of the network if most or all of the devices on the network are CDP-enabled. CDP discovery is enabled with the "-c" command-line parameter.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Link Layer Discovery Protocol (LLDP)</b></span> - LLDP is a standardized layer-2 discovery technology that is managed by the IEEE. It is similar to CDP, but is implemented on a broader range of manufacturer's infrastructure devices. LLDP discovery is enabled with the "-l" command-line parameter.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>OUI Discovery</b></span> - Once NeDi has located a device, it is able to use SNMP to query for the ARP table entries on that device. If the OUI discovery mechanism is enabled, NeDi will examine the ARP table for network hardware addresses that belong to some well-known networking equipment vendors, and then attempt to continue discovery with those systems. OUI discovery is enabled with the "-o" command-line parameter.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Route Table Discovery</b></span> - Once NeDi has located a device, it is able to use SNMP to query for the routing table on that device. If the route table discovery option is enabled, NeDi will attempt to continue discovery with the next-hop routers that are returned. Route table discovery is enabled with the "-r" command-line parameter.</p>
</li>
</ul>
<p>Note that if a device cannot be discovered with one of the specified discovery technologies, then it will not be discovered unless it is listed in the seedlist file. For example, some small routers do not support CDP or LLDP, and will not match the default OUI discovery either, so they must be specified in a seedlist file if they need to be discovered.</p>
<p>If you need to debug the discovery process, you can run the <span class="CodeInline">nedi.pl</span> script directly and observe the results of different discovery technologies. However, the nedi.pl script should be executed under the <span class="CodeInline">nagios</span> user account in order to ensure that the file and database permissions are not modified. Therefore, you must first login to the GroundWork server interactively, and then use the "<span class="CodeInline">su nagios</span>" command to switch to the nagios user account before executing the script. Note that you can also specify the "-d" and "-v" command-line parameters to the <span class="CodeInline">nedi.pl</span> script in order to enable debug and verbose responses, if necessary.</p>
<p>The GroundWork NMS NeDi package automatically adds the <span class="CodeInline">nedi.pl</span> script to the <span class="CodeInline">nagios</span> user account's private <span class="CodeInline">crontab</span> file, and schedules it to run every four hours, with the CDP, LLDP and OUI discovery methods enabled (a separate crontab entry runs the script at midnight in order to create a backup of the running configurations, and is documented separately below). To modify this behavior, perform the following steps:</p>
<ol>
<li class="p-Numbering">
<p class="Numbering">Login to the GroundWork server with <span class="CodeInline">root</span> privileges.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">From a command prompt, issue the "<span class="CodeInline">crontab -u nagios -e</span>" command to edit the crontab file associated with the nagios account.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Locate the crontab entry for "<span class="CodeInline">nedi.pl -clo</span>", and modify it as necessary. If you change the scheduler time interval, you need to inform NeDi of the new interval so that the graphs show the correct time values. To do this, open the <span class="CodeInline">/usr/local/groundwork/nms/applications/nedi/nedi.conf</span> file in a text editor, set the "<span class="CodeInline">rrdstep</span>" value to the new value, and then save the file.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Save the <span class="CodeInline">crontab</span> file and exit the editor. The <span class="CodeInline">cron</span> daemon will automatically incorporate the new command-line parameters into its current schedule.</p>
</li>
</ol>
<p>If you wish to manually define a seed device, you may either use the default <span class="CodeInline">/usr/local/groundwork/nms/applications/nedi/seedlist</span> file, or you may define your own seedlist file(s). If you define your own, you must tell the <span class="CodeInline">nedi.pl</span> discovery script about them by adding the "-u" parameter and a file path value to the <span class="CodeInline">crontab</span> entry described above. Note that entries in the seedlist must contain an IP address or hostname of the seed device, and may also contain an explicit SNMP community string. If the SNMP community is not explicitly defined, the default SNMP community string(s) from <span class="CodeInline">ned.conf</span> will be used instead.</p>
<h3><a name="MiniTOCBookMark8" id="MiniTOCBookMark8"></a>Setting the Default SNMP Community Strings</h3>
<p>The SNMP community strings that are used by NeDi to probe newly discovered devices are defined by the "comm" entry in the <span class="CodeInline">/usr/local/groundwork/nms/applications/nedi/nedi.conf</span> configuration file. Multiple "comm" entries can be defined, with one entry and value per line, each of which will be tried in successive order with every discovered device.</p>
<p>By default, the GroundWork NMS NeDi package defines the single community string value of "public".</p>
<p><span style="font-weight: bold; color: #ff0000;"><font color="red"><b>Note:</b></font></span> The <span class="CodeInline">nedi.conf</span> file uses a precise syntax with entries and values separated by a single TAB character. You must use this syntax when editing the <span class="CodeInline">nedi.conf</span> file.</p>
<h3><a name="MiniTOCBookMark9" id="MiniTOCBookMark9"></a>Setting the Default CLI Authentication Credentials</h3>
<p>As mentioned earlier, some kinds of infrastructure device configuration information is retrieved by logging into the device and issuing commands through TELNET or SSH. In order for NeDi to perform this task successfully, the login credentials to use for authenticating to the device must be provided.</p>
<p>The authentication credentials to use are defined in the "usr" entry in <span class="CodeInline">/usr/local/groundwork/nms/applications/nedi/nedi.conf</span> configuration file. Each "usr" entry contains between one and three fields: the first field specifies the username, the second field contains the access password, while the third field contains the "enable" password that is used with Cisco devices to grant additional access. Multiple "usr" entries can be defined, with one entry per line, each of which will be tried in successive order with every discovered device.</p>
<p>By default, the GroundWork NMS NeDi package does not define any "usr" entries.</p>
<p><span style="color: #ff0000; font-weight: bold;"><font color="red"><b>Note:</b></font></span> The <span class="CodeInline">nedi.conf</span> file uses a precise syntax with entries and values separated by a single TAB character. You must use this syntax when editing the <span class="CodeInline">nedi.conf</span> file.</p>
<h3><a name="MiniTOCBookMark10" id="MiniTOCBookMark10"></a>Restricting Discovery by IP Address</h3>
<p>The technologies that NeDi uses for local discovery can also discover devices that are outside of your network, and unless NeDi in constrained to specific network blocks it may even try to discover the entire Internet. The primary method of restricting NeDi's address discovery scope is with the "netfilter" entry in the <span class="CodeInline">/usr/local/groundwork/nms/applications/nedi/nedi.conf</span> configuration file. The value for this entry is a regular expression that will be compared against discovered IP addresses, with NeDi discarding any IP addresses that do not match the regular expression.</p>
<p>For example, if you would like to restrict NeDi to IP addresses in the 192.168.1.* network, you could define a netfilter entry with the value of "^192\.168\.1". Meanwhile, if you wanted to restrict NeDi to IP address in the 192.168.1.* and 10.*.*.* networks, you could define a netfilter entry with the value of "^192\.168\.1|^10\.". Whenever an IP address was discovered that did not match the netfilter value, it would simply be discarded.</p>
<p>By default, the GroundWork NMS NeDi package defines the address filter of ".", which matches any IP address.</p>
<p><span style="font-weight: bold; color: #ff0000;"><font color="red"><b>Note:</b></font></span> The <span class="CodeInline">nedi.conf</span> file uses a precise syntax with entries and values separated by a single TAB character. You must use this syntax when editing the <span class="CodeInline">nedi.conf</span> file.</p>
<h3><a name="MiniTOCBookMark11" id="MiniTOCBookMark11"></a>Restricting Discovery by MAC Address</h3>
<p>If you are using the OUI discovery method, you can restrict the hardware addresses that NeDi will use by editing the "ouidev" entry in the <span class="CodeInline">/usr/local/groundwork/nms/applications/nedi/nedi.conf</span> configuration file. The value for this entry is a regular expression that will be compared against the friendly name of discovered hardware addresses, with NeDi discarding any hardware addresses that do not match the regular expression. The friendly names for hardware addresses are listed in the <span class="CodeInline">/usr/local/groundwork/nms/applications/nedi/inc/oui.txt</span> file.</p>
<p>By default, the GroundWork NMS NeDi package defines the hardware filter of "bay|nortel|netics|xylogics|foundry|XYLAN|Netgear|RUBY", which are some of the more common infrastructure platforms that may not otherwise be discovered.</p>
<p><span style="color: #ff0000; font-weight: bold;"><font color="red"><b>Note:</b></font></span> The <span class="CodeInline">nedi.conf</span> file uses a precise syntax with entries and values separated by a single TAB character. You must use this syntax when editing the <span class="CodeInline">nedi.conf</span> file.</p>
<h3><a name="MiniTOCBookMark12" id="MiniTOCBookMark12"></a>Restricting Discovery by Device Type</h3>
<p>Sometimes the technologies that NeDi uses for discovering network devices can also discover devices that are not infrastructure related (such as printers), which you may wish to ignore. The primary method of restricting NeDi's platform discovery scope is with the "descfilter" entry in the <span class="CodeInline">/usr/local/groundwork/nms/applications/nedi/nedi.conf</span> configuration file. The value for this entry is a regular expression that will be compared against the SNMP description string of discovered devices, with NeDi discarding any devices that match the regular expression.</p>
<p>By default, the GroundWork NMS NeDi package defines the platform filter of "LaserJet|JETDIRECT|HP-UX|Linux", which matches most of the printers and Unix platforms that may otherwise be detected as infrastructure equipment.</p>
<p>Note that many modern small routers use Linux for their operating system, and the default filter string will automatically exclude those devices from discovery. If you have some of these devices and you wish to include them in your discovery process, you will need to remove the "|Linux" portion of the string (you may also need to include those devices in your static seedlist file in order for them to be discovered).</p>
<p><span style="color: #ff0000; font-weight: bold;"><font color="red"><b>Note:</b></font></span> The <span class="CodeInline">nedi.conf</span> file uses a precise syntax with entries and values separated by a single TAB character. You must use this syntax when editing the <span class="CodeInline">nedi.conf</span> file.</p>
<h3><a name="MiniTOCBookMark13" id="MiniTOCBookMark13"></a>Managing Device Definitions</h3>
<p>Whenever NeDi has discovered an infrastructure device, it will use a variety of secondary queries to obtain additional information about that device (this includes information such as the modules that are installed, the VLANs in use, and so forth). However, each vendor stores this information in different places, and in order for NeDi to know how to retrieve this data it must fist be able to determine the device type.</p>
<p>This is achieved by issuing an SNMP query for the device's "System Object ID", and then matching the result against a collection of device definition files. Essentially, the device definition files tell NeDi about the features that should be available on a specific device, and also provides the information that NeDi needs to query for that data. This includes high-level data such as the device icon and operating system, management data such as the SNMP OID to query for CPU and memory utilization, and discrete data such as the SNMP OID to query for interface descriptions and VLAN identifiers.</p>
<p>With the GroundWork NMS NeDi package, the device definition files are stored in the <span class="CodeInline">/usr/local/groundwork/nms/applications/nedi/sysobj/</span> directory. Each device definition is managed in a separate file, with the file names being the known SNMP OID values. Over 150 device definition files are provided with NeDi, however this is not an exhaustive collection of every possible device, and you may need to create your own definition file in order to fully utilize an old or relatively obscure device.</p>
<p>If you wish to create your own device definition file, you can either copy an existing definition that is similar to the desired device (such as copying a similar HP ProCurve switch definition file to another SNMP OID filename) and edit the resulting file, or you can use the Web-based "Defgen" tool to build a new file from scratch.</p>
<p>To use the Defgen tool, mouse-over the "Other" menu at the top of the screen, and then click on the "Defgen" menu item. Once the form has been filled out to your satisfaction, click the "Write" button to automatically create a new device definition file.</p>
<p>Note that the files created by Defgen are automatically stored in the <span class="CodeInline">/usr/local/groundwork/nms/applications/nedi/html/log/</span> directory, and the file must be copied to the <span class="CodeInline">/usr/local/groundwork/nms/applications/nedi/sysobj/</span> directory before it will be used by the nedi.pl discovery script. Also note that the <span class="CodeInline">nedi.pl</span> discovery script reads the device definition files on every discovery run, so any changes you make will be automatically incorporated the next time the device is discovered. The files in this directory must be readable by the <span class="CodeInline">nagios</span> user account in order for this to work properly.</p>
<h2><a name="MiniTOCBookMark14" id="MiniTOCBookMark14"></a>Performing Common NeDi Tasks</h2>
<p>As was discussed in the introduction, NeDi uses a variety of discovery technologies to locate the infrastructure devices across a network, then uses another set of technologies to probe and query the discovered devices for additional details, and then stores the discovery data in a set of dynamic databases which are then made available to administrators through the NeDi web interface.</p>
<p>A brief description of the most used web pages are provided in the remainder of this section. For more detailed discussion, refer to the <a href="http://www.nedi.ch/doku.php?id=gui:gui" target="_blank">online NeDi documentation</a>. Note that each NeDi web page also provides built-in help which is accessible by clicking on the life preserver icon in the top right corner of the page.</p>
<h3><a name="MiniTOCBookMark15" id="MiniTOCBookMark15"></a>Using the Search and Display Filters</h3>
<p>Every NeDi web page that provides a list view will initially present a search filter dialog that allows the user to limit the amount of data returned in the list results, and which also allows you to specify the fields that you want to include in the search output. The specific search filter will differ for each field, but generally looks similar to the following:</p>
<p><img src="Assets/nedi-search-filter_0.gif" alt="NeDi Search Filter" title="NeDi Search Filter" style="border: none;" width="670" height="176" border="0" /></p>
<p>The default search filters do not filter anything, so if you do not want to limit the search results you can simply click the "Show" button at the right of the dialog, and all of the known entries for the current resource type will be returned.</p>
<p>If you do want to filter the results, the search filter dialog allows you to define two different filters (these are the "Condition A" and "Condition B" inputs shown above), which can also be combined in a number of ways (this is controlled by the "Combination" input). By default, the "Condition A" filter is empty (meaning that it matches all entries), and the "Condition B" filter is completely ignored (this is indicated by the "Combination" input which shows only "Condition A").</p>
<p>Apart from the search filter criteria, the dialog box also contains a listbox of the known database fields for the current resource type, which allows the user to determine the fields that are returned. Note that the default set of fields will be different for each resource type (infrastructure device searches return different fields by default than the VLAN search, for example).</p>
<h3><a name="MiniTOCBookMark16" id="MiniTOCBookMark16"></a>Infrastructure Device List</h3>
<p>NeDi provides a simple table view of the discovered infrastructure devices, which allows you to quickly survey the network infrastructure. To view this data, mouse-over the "Devices" menu at the top of the screen, and then click on the "List" menu item. A search screen similar to the one described in the Using the Search and Display Filters section above will be displayed, which allows you to define any filters you may want to apply. If you want to view all of the discovered infrastructure devices, simply click on the "Show" button to the right, which will cause the screen to be reloaded with all of the known devices listed in a new table below the search filter, similar to the following:</p>
<p><img src="Assets/nedi-device-list_0.gif" alt="NeDi Device List" title="NeDi Device List" style="border: none;" width="670" height="276" border="0" /></p>
<p>By default, NeDi displays the following data for each of the discovered infrastructure devices:</p>
<ul style="list-style: url('../../../../Shared_Images/bullet01.gif');">
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Device name and icon</b></span> - The device name is determined from various lookup techniques, while the device icon is controlled by the device definition file that was chosen during the discovery process. Note that the device icon is a hyperlink that will redirect you to the detailed web page for that device, as described in the next section.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Primary IP address</b></span> - All routers and some switches typically have more than one IP address, and this field displays the device' primary address, as determined through a variety of algorithms. For some devices, the IP address will be a Telnet or SSH hyperlink that allows you to open an interactive terminal session with the primary address. The hyperlink is only available when the <span class="CodeInline">nedi.pl</span> Perl script was able to successfully login to the device during discovery. However, the discovery script will only attempt to connect with the device if NeDi knows how to use the platform's command-line interface, so some devices will not have a hyperlink even though they support Telnet and/or SSH access.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Device serial number</b></span> - The serial number provides a unique tracking method for infrastructure devices, and allows you to determine if a device has been replaced with another similar unit. Note that some devices do not have unique serial numbers, and this field will be empty in that scenario.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Platform description</b></span> - This field typically shows the model number of the device, although some devices do not provide this information.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>SNMP contact</b></span> - This field shows the SNMP contact information that was discovered when the device was probed.</p>
</li>
</ul>
<p>You can change the fields that are displayed by modifying the selected items in the "Display" filter input at the right of the search filter dialog box, if you wish.</p>
<h3><a name="MiniTOCBookMark17" id="MiniTOCBookMark17"></a>Infrastructure Device Detail Data</h3>
<p>NeDi provides a detailed view for each of the discovered infrastructure devices, which allows you to examine the configuration and operational aspects of the devices. To view this data, you can either click on a device' icon in the Device List web page (as was discussed in the preceding section), or you can mouse-over the "Devices" menu at the top of the screen, then click on the "Status" menu item, and then choose the desired device from the drop-down list that is presented. A screen similar to the following will then be presented, with detailed information about the selected device:</p>
<p><img src="Assets/nedi-device-detail_0.gif" alt="NeDi Device Detail" title="NeDi Device Detail" style="border: none;" width="670" height="420" border="0" /></p>
<p>The NeDi device status page displays a set of tables, each of which contain different types of data about the selected device. Note that the contents of each table will vary according to the capabilities of the device and the associated definition file. The tables that are presented are as follows:</p>
<ul style="list-style: url('../../../../Shared_Images/bullet01.gif');">
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Summary</b></span> - This table contains information about the device itself, such as its main IP address, the operating system in use, the SNMP version in use, and so forth. If the device definition describes how to gather the relevant data, this table will also contain thumbnail charts for CPU and memory utilization, as well as the operating temperature, with the thumbnail charts being hyperlinked to full-sized versions of those same charts. Note that the very top row in this table contains a set of icons, each of which are hyperlinked to specific functions. You can hold the mouse cursor over each of the icons to get balloon help for what the icon represents. Meanwhile, the IP address is a hyperlink that opens a Telnet or SSH terminal session with the target IP address (assuming that your Web browser is able to use the URLs). Also note that the SNMP and CLI fields may have clickable icons on the right, both of which allow you to retest the SNMP version and terminal emulation protocols that may be available on the device.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Modules</b></span> - This table lists the hardware modules that were discovered on the device via SNMP queries, using an OID that is specified in the device definition file. Some high-end devices may have multiple hardware components, while some smaller devices may not show any modules. To view the full list of all known modules, click on the "Devices" menu at the top of the screen, and then click on the "Modules" menu item. You will then be presented with a search filter dialog screen, similar to the one described in the "Using the Search and Display Filters" section above.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Links</b></span> - This table lists all of the known connections between this device and other infrastructure devices. These connections are automatically determined by NeDi during the discovery process, but static connections can also be created if needed (such as when a remote network is connected to the local network via PPP, and is not discoverable with the usual techniques). To browse through all of the known connections or to manage your own static connections, click on the "Topology" menu at the top of the screen, and then click on the "Linked" menu item. You will then be presented with a "Link Editor" which allows you to view, create, and manage links between the known infrastructure devices.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>VLANs</b></span> - If the selected device implements support for virtual LANs, and if the device definition file describes a way to retrieve VLAN configuration data via SNMP, then NeDi will report the configured VLANs and their friendly names.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Interfaces</b></span> - This table lists the interfaces that were discovered on the device, along with the supporting data was able to be retrieved. Most of this data is read from the standard SNMP OIDs for interfaces, but some of it is sourced from platform-specific SNMP OIDs that are listed in the device definition file. Note that the interface icon background color indicates whether or not a specific interface is active (green), inactive (yellow), or disabled (red). Also note that the network addresses in the right-most column are hyperlinked, and redirect to a dynamic mapping page that allows the administrator to manipulate a visual representation of that network. To view the full list of all known interfaces, click on the "Devices" menu at the top of the screen, and then click on the "Interfaces" menu item. You will then be presented with a search filter dialog screen, similar to the one described in the "Using the Search and Display Filters" section above.</p>
</li>
</ul>
<p>As stated above, the data that is used to populate these tables mostly comes from SNMP queries, and depends on the capabilities of the selected device, as well as the completeness of the device definition file. In some cases, a device may not implement a specific technology (such as a low-end switch that does not implement VLANs), or there may not be any known method for retrieving the data via SNMP.</p>
<h3><a name="MiniTOCBookMark18" id="MiniTOCBookMark18"></a>Node List</h3>
<p>NeDi provides a simple table view of the network nodes that have been discovered, which allows you to quickly survey the network as a whole. Note that this data is also provided for the infrastructure devices as well, thereby allowing you to view those devices' operational characteristics in the same way as other nodes. To view this data, mouse-over the "Nodes" menu at the top of the screen, and then click on the "List" menu item. A search screen similar to the one described in the Using the Search and Display Filters section above will be displayed, which allows you to define any filters you may want to apply. If you want to view all of the discovered network nodes, simply click on the "Show" button to the right, which will cause the screen to be reloaded with all of the known nodes listed in a new table below the search filter, similar to the following:</p>
<p><img src="Assets/nedi-node-list_0.gif" alt="Node List" title="Node List" style="border: none;" width="670" height="339" border="0" /></p>
<p>By default, NeDi displays the following data for each of the discovered nodes:</p>
<ul style="list-style: url('../../../../Shared_Images/bullet01.gif');">
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Node name and icon</b></span> - The name of the node is determined from various lookup techniques, while the node icon is determined by a hardware address mapping table that indicates the manufacturer who has been assigned that address. Note that the node icon is a hyperlink that will redirect you to the detailed web page for that node, as described in the next section.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Primary IP address</b></span> - The IP address associated with the hardware address. Note that the IP address is a hyperlink that will reload the node list with the selected IP address as a search filter, which allows the administrator to search for devices with duplicate addresses.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Device name and interface name</b></span> - The name and interface of the infrastructure device that the node is attached to. Note that the device name is a hyperlink that will reload the node list with the selected device as a search filter, while the interface name is a hyperlink that will reload the node list with the selected interface as a search filter.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>VLAN</b></span> - The VLAN identifier for the target device. Note that the VLAN ID is a hyperlink that will reload the node list with the selected VLAN ID as a search filter.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1">First Seen and Last Seen - The date and time when the device was first added to the database without having since been expired from the database, and the date and time when traffic from the device was last detected. Note that the brightness of the green background behind the First Seen field reflects the amount of time since the device was first added.</p>
</li>
</ul>
<p>You can change the fields that are displayed by modifying the selected items in the "Display" filter input at the right of the search filter dialog box.</p>
<h3><a name="MiniTOCBookMark19" id="MiniTOCBookMark19"></a>Node Detail Data</h3>
<p>NeDi provides a detailed view for each of the discovered network nodes that allows an administrator to examine the operational aspects of the nodes. Note that this data is also provided for the infrastructure devices as well, thereby allowing you to view those devices' operational characteristics in the same way as other nodes. To view this data, you can either click on a device' icon in the Device List web page (as was discussed in the preceding section), or you can mouse-over the "Nodes" menu at the top of the screen, then click on the "Status" menu item, and then enter the hardware address into the edit field that is presented. A screen similar to the following will then be presented, with detailed information about the selected node:</p>
<p><img src="Assets/nedi-node-detail_0.gif" alt="Node Detail" title="Node Detail" style="border: none;" width="670" height="434" border="0" /></p>
<p>The NeDi node status page displays a set of tables, each of which contain different types of data about the selected node. This data is mostly collected from the infrastructure devices, although some parts of it are collected from the node itself. The tables that are presented are as follows:</p>
<ul style="list-style: url('../../../../Shared_Images/bullet01.gif');">
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Summary</b></span> - Overview information about the node itself, such as its hardware address, the hardware manufacturer that was assigned with that address, the primary IP address that corresponds with the hardware address, and so forth. Most of these fields are identical to the fields that are available in the node list page, as described in the preceding section. Note that the very top row in this table contains a set of icons, each of which are hyperlinked to specific functions. You can hold the mouse cursor over each of the icons to get balloon help for what the icon represents. Also note that the NIC vendor field is a hyperlink that will query Google for the full business name and then redirect the Web browser to the first response.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Service</b></span> - These entries indicate whether or not the node is running a variety of common network services. The data in this table is populated by tests that are executed whenever the page is loaded. To view the full list of all known modules, click on the "Devices" menu at the top of the screen, and then click on the "Modules" menu item. You will then be presented with a search filter dialog screen, similar to the one described in the "Using the Search and Display Filters" section above.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Interface Traffic and Errors</b></span> - The first graph shows the network utilization of the node, while the second graph shows the number of errors that were recorded. These values are retrieved from the upstream infrastructure device with SNMP queries</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>IP Address Changes</b></span> - If the node has changed to a different IP address since it was first seen, the recorded change(s) will be displayed in this table.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-weight: bold;"><b>Interface Changes</b></span> - If the node has been moved to a different port or a different upstream infrastructure device since it was first seen, the recorded change(s) will be displayed in this table.</p>
</li>
</ul>
<p>As stated earlier, this data is also available for the infrastructure devices that have been discovered. As such, you can use the node detail page to view the information about the switches and routers too.</p>
<h2><a name="MiniTOCBookMark20" id="MiniTOCBookMark20"></a>Integrating NeDi Data with GroundWork Monitor</h2>
<p>The GroundWork NMS NeDi package provides scripts and automation schema definitions that allow administrators to export the host definition data out of NeDi and import that data into the GroundWork Monitor Configuration database. This process can be performed manually or automatically, as the administrator sees fit.</p>
<h3><a name="MiniTOCBookMark21" id="MiniTOCBookMark21"></a>Exporting Host Definitions from NeDi</h3>
<p>Administrators have two options for exporting data out of NeDi. First, you can use the NeDi "Export" web page to manually create text files containing all of the data from a specific table. If you wish to use this method, mouse-over the "Other" menu at the top of the screen, and then click on the "Export" menu item. For more information on using this tool, click the life-preserver icon in the top right corner of the screen.</p>
<p>The second method for exporting data—and the one that is preferred—is to use the <span class="CodeInline">/usr/local/groundwork/nms/tools/automation/scripts/extract_nedi.pl</span> Perl script included with the GroundWork NMS NeDi package, which exports data from the NeDi devices and nodes tables, and dumps the output into the <span class="CodeInline">/usr/local/groundwork/core/monarch/automation/data/nedi_data.txt</span> text file. This script generates a file with the following fields, each of which are separated from their neighbors by a pair of semi-colon characters (note that some fields are overloaded with multiple meanings, based on which NeDi table was used to populate the current row):</p>
<table cellspacing="0" width="700">
<col style="width: 15%;" />
<col style="width: 20%;" />
<col style="width: 65%;" />
<tr style="vertical-align: top;">
<td style="border: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBoldCenter">Field Name</p>
</td>
<td style="border-top: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBoldCenter">Field Data</p>
</td>
<td style="border-top: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBoldCenter">Notes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Name</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Device or node name</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">The friendly name for the infrastructure device or node.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">IP</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Device or node IP address</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">The primary IP address associated for the infrastructure device or node.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Description</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Device description</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">The description string for the infrastructure device.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">OS/OUI</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Device OS or Node OUI</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">The operating system in use on the infrastructure device, or the vendor name associated with the hardware address of the node.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Location</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Device location</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">The SNMP location string for the infrastructure device.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Type</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Device type</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">The model name of the infrastructure device.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Contact</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Device contact</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">The SNMP contact string for the infrastructure device.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 17.647%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Device</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">Node parent device</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 41.176%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">The parent device for the current node.</p>
</td>
</tr>
</table>
<p>Note that the <span class="CodeInline">extract_nedi.pl</span> Perl script is automatically executed as part of the <span class="CodeInline">nagios</span> user's <span class="CodeInline">crontab</span> file immediately after the <span class="CodeInline">nedi.pl</span> discovery script is executed (once every four hours, by default), which ensures that the output file always contains the most recent version of the discovery data.</p>
<h3><a name="MiniTOCBookMark22" id="MiniTOCBookMark22"></a>Importing Host Definitions into GroundWork Monitor</h3>
<p>The GroundWork NMS NeDi package provides two different models for importing the contents of the <span class="CodeInline">nedi_data.txt</span> text file into GroundWork Monitor's configuration subsystem, both of which are defined as schema templates for GroundWork Monitor's Auto-Discovery subsystem.</p>
<p>The first model is defined in the <span class="CodeInline">/usr/local/groundwork/core/monarch/automation/templates/schema-template-NeDi-host-import.xml</span> schema template, and integrates NeDi devices and nodes into the configuration subsystem by either adding new host entries or modifying existing host entries, depending on whether or not a host entry already exists in the configuration database for the device or node in question. If you wish to use this schema template, you must create an appropriate schema definition using the following steps:</p>
<ol>
<li class="p-Numbering">
<p class="Numbering">Open the Auto Discovery application from the main GroundWork Monitor menu.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Click the Automation menu item in the top menu bar to manage the automation schema definitions.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Click the New Schema button to create a new schema definition.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Give the new schema definition the exact name of "NeDi-host-import".</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Choose the "NeDi-host-import" template from the bottom drop-down box.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Click the "Add" button to finish creating the new schema definition.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">From the schema editor screen, verify that the data file contains the output from the NeDi database tables by clicking the "View" button in the "Data source" row, and then close the pop-up window when you are finished.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">If you wish to process the records now, click the "Process Records" button at the top of the schema editor screen, otherwise click the "Close" button to return to the schema definition window.</p>
</li>
</ol>
<p>The GroundWork NMS NeDi package also provides the <span class="CodeInline">/usr/local/groundwork/nms/tools/automation/scripts/auto_import_nedi_host.pl</span> Perl script, which can be used to automate the import process. This script looks for a schema definition entry with the name of "NeDi-host-import" and then executes that schema definition automatically. However, this script does not automatically commit the changes to the configuration database, so the changes will not be recognized until they are manually committed.</p>
<p>The second import model in the GroundWork NMS NeDi package is defined in the <span class="CodeInline">/usr/local/groundwork/core/monarch/automation/templates/ schema-template-NeDi-parent-child-sync.xml</span> schema template, which is designed to simply update the existing host entries with information about the host's parent device. If you wish to use this schema template, you must create an appropriate schema definition using the following steps:</p>
<ol>
<li class="p-Numbering">
<p class="Numbering">Open the Auto-Discovery application from the main GroundWork menu.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Click the Automation menu item in the top menu bar to manage the automation schema definitions.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Click the New Schema button to create a new schema definition.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Give the new schema definition the exact name of "NeDi-parent-child-sync".</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Choose the "NeDi-parent-child-sync" template from the bottom drop-down box.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Click the "Add" button to finish creating the new schema definition.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">From the schema editor screen, verify that the data file contains the output from the NeDi database tables by clicking the "View" button in the "Data source" row, and then close the pop-up window when you are finished.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">If you wish to process the records now, click the "Process Records" button at the top of the schema editor screen, otherwise click the "Close" button to return to the schema definition window.</p>
</li>
</ol>
<p>The GroundWork NMS NeDi package also provides the <span class="CodeInline">/usr/local/groundwork/nms/tools/automation/scripts/auto_import_nedi_sync.pl</span> Perl script which can be used to automate the synchronization process. This script looks for a schema definition entry with the name of "NeDi-parent-child-sync" and then executes that schema definition automatically. However, this script does not automatically commit the changes to the configuration database, so the changes will not be recognized until they are manually committed.</p>
<div style="width: 100%; position: relative;" id="footer">
<p class="Footer" style="font-size: 7pt; line-height: Normal; margin-top: 6pt; margin-bottom: 4pt;">GroundWork, Inc. ©2011</p>
</div>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
 if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  document.write("<div id='tooltip' class='WebHelpPopupMenu'><\/div>");
//]]>
</script><script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.writeIntopicBar)
        writeIntopicBar(0);


highlightSearch();
//-->
//]]>
</script>
</body>
</html>
