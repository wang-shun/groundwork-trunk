<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Adobe RoboHelp 8" />
<title>Defining Commands</title>
<link rel="StyleSheet" href="../../../../Bookshelf.css" type="text/css" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function ehlp_showtip(current,e,text)
{
  if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  {
    document.tooltip.document.write("<layer bgColor='yellow' style='border:1px solid black;font-size:12px;'>"+ text + "<\/layer>");
    document.tooltip.document.close();
    document.tooltip.left=e.pageX+5;
    document.tooltip.top=e.pageY+5;
    document.tooltip.visibility="show";
  }
}
function ehlp_hidetip()
{
  document.tooltip.visibility="hidden";
}
//]]>
</script>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
        origWidth = innerWidth;
        origHeight = innerHeight;
        onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
/*<![CDATA[*/
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
/*]]>*/
</style>

<script type="text/javascript" language="javascript1.2" src="../../../../whmsg.js">
</script>
<script type="text/javascript" language="javascript" src="../../../../whver.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whproxy.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whutils.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whlang.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whtopic.js">
</script>
</head>
<body>
<script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.gbWhTopic)
{
        var strUrl = document.location.href;
        var bc = 0;
        var n = strUrl.toLowerCase().indexOf("bc-");
        if(n != -1)
        {
                document.location.href = strUrl.substring(0, n);
                bc = strUrl.substring(n+3);
        }

        if (window.addTocInfo)
        {
        addButton("show",BTN_TEXT,"Show Table of Contents","","","","",0,0,"","","");

        }
        if (window.writeBtnStyle)
                writeBtnStyle();

        if (window.writeIntopicBar)
                writeIntopicBar(1);

        
        

        if (window.setRelStartPage)
        {
        setRelStartPage("../../../../Bookshelf.htm");

                autoSync(0);
                sendSyncInfo();
                sendAveInfoOut();
        }
}
else
        if (window.gbIE4)
                document.location.reload();

//-->
//]]>
</script>
<p style="margin-top: 0pt; color: #0000ff; font-size: 7pt;" align="right"><a href="../../../../Welcome_to_GroundWork_Monitor/index.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">Home</a> &gt; <a href="../../../usingapplications_aboutusingapplications.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">USING APPLICATIONS</a> &gt; <a href="../../configuration_aboutconfiguration.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">Configuration</a> &gt; <a href="../configuration_configurationscenarios.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">Configuration Scenarios</a>&#160;&gt;&#160;Defining Commands</p>
<p style="font-size: 7pt;">&#160;</p>
<script src="../../../../ehlpdhtm.js" type="text/javascript" language="JavaScript1.2">
</script>
<h1><img src="../../../../Shared_Images/square.gif" alt="square.gif" style="border: none;" width="15" height="15" border="0" /> Configuration Scenarios</h1>
<h3 align="right"><a href="../configuration_configurationscenarios.htm" title="Topic Home" onmouseover="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_showtip(this,event,'Topic Home');" onmouseout="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_hidetip();"><img src="../../../../Shared_Images/homeicon.gif" alt="Topic Home" title="Topic Home" style="border: none;" width="33" height="27" border="0" /></a> <img src="../../../../Shared_Images/printicon.gif" onclick="window.print()" alt="Print Page" title="Print Page" style="border: none;" width="33" height="27" border="0" /> <a href="mailto:support@groundworkopensource.com?subject=Defining Commands" title="Send Comments"><img src="../../../../Shared_Images/commentsicon.gif" alt="Send Comments" title="Send Comments" style="border: none;" width="33" height="27" border="0" /></a></h3>
<h2>Defining Commands</h2>
<p>A <span style="font-weight: bold;"><b>Command line</b></span>, which defines a command, is referenced in contact, host, and service definitions among other places. Commands that can be defined include service checks, service notifications, service event handlers, host checks, host notifications, and host event handlers. By default, <span style="font-style: italic;"><i>Configuration</i></span> uses <i>commands.cfg</i> to store check command definitions.</p>
<p>Command definitions can contain macros, but you must make sure that you include only those macros that are <i>valid</i> for the circumstances when the command will be used. Immediately prior to the execution of a command, <span style="font-style: italic;"><i>Nagios</i></span> will replace all macros in the command with their corresponding values. This allows you to define a few generic commands to handle all your needs.</p>
<p>For additional information on the use of macros select <a href="http://nagios.sourceforge.net/docs/1_0/macros.html" target="_blank"><img src="../../../../Shared_Images/nagios.gif" class="img_whs6" alt="Nagios Reference" title="Nagios Reference" width="56" height="15" border="0" /></a>.</p>
<h3>Step 1 - Select Resource</h3>
<p class="NormalIndent1" style="margin-left: 0px; font-size: 8pt;"><span><span><span style="font-size: 8pt;"><a class="dropspot" href="javascript:TextPopup(this)" id="a3" name="a3"><font size="1" style="font-size:8pt;"><img src="../../../../Shared_Images/screenshoticon.gif" title="View Screenshot" alt="screenshoticon.gif" style="border: none;" width="29" height="27" border="0" /><span style="font-size: 8pt;"><font size="1" style="font-size:8pt;">Show/Hide</font></span></font></a></span></span></span></p>
<div class="droptext" id="POPUP378632352" style="display: none;">
<p class="Caption">Figure: Defining Commands</p>
<p class="Figure"><img src="Assets/configuration_step1selectresource.gif" alt="configuration_step1selectresource.gif" style="border: none;" width="700" height="553" border="0" /></p>
</div>
<ol>
<li class="p-Numbering">
<p class="Numbering">Select <b>Commands</b> from the <span style="font-style: italic;"><i>Configuration</i></span> page.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select <b>New</b>.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">In the <b style="font-weight: normal; font-style: italic;">Select Resource</b> screen, check the <span style="font-weight: bold;"><b>resource macro</b></span> to configure. This is used to specify an optional resource file that can contain <span class="CodeInline">$USERn$</span> macro definitions. <span class="CodeInline">$USERn$</span> macros are useful for storing usernames, passwords, and items commonly used in command definitions (like directory paths). User macros can be defined in one or more resource files. <span style="font-style: italic;"><i>Nagios</i></span> supports up to thirty-two user macros (<span class="CodeInline">$USER1$</span> through <span class="CodeInline">$USER32$</span>).</p>
</li>
<li class="p-Numbering">
<p class="Numbering">After selecting the resource macro, the screen will change and the selected macro's options will appear at the top of the screen. Select a <b>Plugin</b> to associate with the resource macro from the drop-down list. The selected plugin will check local or remote resources or services of some type. This is incorporated into the command line.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select <b>Next</b> to continue.</p>
</li>
</ol>
<h3>Step 2 - New Command</h3>
<p class="NormalIndent1" style="margin-left: 0px; font-size: 8pt;"><span><span><span style="font-size: 8pt;"><a class="dropspot" href="javascript:TextPopup(this)" id="a4" name="a4"><font size="1" style="font-size:8pt;"><img src="../../../../Shared_Images/screenshoticon.gif" title="View Screenshot" alt="screenshoticon.gif" style="border: none;" width="29" height="27" border="0" /><span style="font-size: 8pt;"><font size="1" style="font-size:8pt;">Show/Hide</font></span></font></a></span></span></span></p>
<div class="droptext" id="POPUP379153185" style="display: none;">
<p class="Caption">Figure: Defining Commands</p>
<p class="Figure"><img src="Assets/configuration_step2newcommand.gif" alt="configuration_step2newcommand.gif" style="border: none;" width="700" height="293" border="0" /></p>
</div>
<ol>
<li class="p-Numbering">
<p class="Numbering">In the <b>Command Wizard</b> screen, enter a name for the command.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Next, specify a command type: <b>Check</b> = service/host check commands, handlers; <b>Notify</b> = notification commands; <b>Other</b> = other commands (i.e. performance data collectors).</p>
</li>
<li class="p-Numbering">
<p class="Numbering">The <span style="font-weight: bold;"><b>Command line directiv</b></span>e is used to define what is actually executed by <span style="font-style: italic;"><i>Nagios</i></span> when the command is used for service or host checks, notifications, or event handlers. This field can be edited and before the command line is executed, all valid macros are replaced with their respective values. See the <span style="font-style: italic;"><i>Nagios</i></span> documentation on macros for determining when you can use different macros. Note that the command line is not surrounded in quotes. Also, if you want to pass a dollar sign ($) on the command line, you have to escape it with another dollar sign.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">The <span style="font-weight: bold;"><b>Test</b></span> area of the <span style="font-style: italic;"><i>Command Wizard</i></span> screens enable you to test the command line for a host and with arguments. When you click the <span style="font-style: italic;"><i>Test</i></span> button this parses through the command definition, performs the macro substitutions, inserts the hostname from the host box, puts the resulting command into a shell command line and executes, returning the results of the execution in the box to the right.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select <b>Add</b> to add the new command. <b>Cancel</b> will exit the command wizard without saving.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">You will be prompted that the command has been saved. Select <b>Continue</b>.</p>
</li>
</ol>
<div style="width: 100%; position: relative;" id="footer">
<p class="Footer" style="font-size: 7pt; line-height: Normal; margin-top: 6pt; margin-bottom: 4pt;">GroundWork, Inc. ©2011</p>
</div>
<script type="text/javascript" language="JavaScript1.2">
//<![CDATA[
        if( typeof( TextPopupInit ) != 'function' ) TextPopupInit = new Function();
        TextPopupInit('a3','POPUP378632352');
        TextPopupInit('a4','POPUP379153185');
//]]>
</script><script type="text/javascript" language="JavaScript">
//<![CDATA[
 if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  document.write("<div id='tooltip' class='WebHelpPopupMenu'><\/div>");
//]]>
</script><script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.writeIntopicBar)
        writeIntopicBar(0);


highlightSearch();
//-->
//]]>
</script>
</body>
</html>
