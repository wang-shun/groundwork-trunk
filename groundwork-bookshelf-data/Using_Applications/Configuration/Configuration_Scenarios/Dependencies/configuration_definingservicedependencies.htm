<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Adobe RoboHelp 8" />
<title>Defining Service Dependencies</title>
<link rel="StyleSheet" href="../../../../Bookshelf.css" type="text/css" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function ehlp_showtip(current,e,text)
{
  if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  {
    document.tooltip.document.write("<layer bgColor='yellow' style='border:1px solid black;font-size:12px;'>"+ text + "<\/layer>");
    document.tooltip.document.close();
    document.tooltip.left=e.pageX+5;
    document.tooltip.top=e.pageY+5;
    document.tooltip.visibility="show";
  }
}
function ehlp_hidetip()
{
  document.tooltip.visibility="hidden";
}
//]]>
</script>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
        origWidth = innerWidth;
        origHeight = innerHeight;
        onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
/*<![CDATA[*/
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
/*]]>*/
</style>

<script type="text/javascript" language="javascript1.2" src="../../../../whmsg.js">
</script>
<script type="text/javascript" language="javascript" src="../../../../whver.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whproxy.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whutils.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whlang.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whtopic.js">
</script>
</head>
<body>
<script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.gbWhTopic)
{
        var strUrl = document.location.href;
        var bc = 0;
        var n = strUrl.toLowerCase().indexOf("bc-");
        if(n != -1)
        {
                document.location.href = strUrl.substring(0, n);
                bc = strUrl.substring(n+3);
        }

        if (window.addTocInfo)
        {
        addButton("show",BTN_TEXT,"Show Table of Contents","","","","",0,0,"","","");

        }
        if (window.writeBtnStyle)
                writeBtnStyle();

        if (window.writeIntopicBar)
                writeIntopicBar(1);

        
        

        if (window.setRelStartPage)
        {
        setRelStartPage("../../../../Bookshelf.htm");

                autoSync(0);
                sendSyncInfo();
                sendAveInfoOut();
        }
}
else
        if (window.gbIE4)
                document.location.reload();

//-->
//]]>
</script>
<p style="margin-top: 0pt; color: #0000ff; font-size: 7pt;" align="right"><a href="../../../../Welcome_to_GroundWork_Monitor/index.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">Home</a> &gt; <a href="../../../usingapplications_aboutusingapplications.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">USING APPLICATIONS</a> &gt; <a href="../../configuration_aboutconfiguration.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">Configuration</a> &gt; <a href="../configuration_configurationscenarios.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">Configuration Scenarios</a>&#160;&gt;&#160;Defining Service Dependencies</p>
<p>&#160;</p>
<script src="../../../../ehlpdhtm.js" type="text/javascript" language="JavaScript1.2">
</script>
<h1><img src="../../../../Shared_Images/square.gif" alt="square.gif" style="border: none;" width="15" height="15" border="0" /> Configuration Scenarios</h1>
<h3 align="right"><a href="../configuration_configurationscenarios.htm" title="Topic Home" onmouseover="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_showtip(this,event,'Topic Home');" onmouseout="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_hidetip();"><img src="../../../../Shared_Images/homeicon.gif" alt="homeicon.gif" style="border: none;" width="33" height="27" border="0" /></a> <img src="../../../../Shared_Images/printicon.gif" onclick="window.print()" alt="Print Page" title="Print Page" style="border: none;" width="33" height="27" border="0" /> <a href="mailto:support@groundworkopensource.com?subject=Service Dependencies" title="Send Comments"><img src="../../../../Shared_Images/commentsicon.gif" alt="Send Comments" title="Send Comments" style="border: none;" width="33" height="27" border="0" /></a></h3>
<h2>Service Dependencies</h2>
<p><span style="font-weight: bold;"><b>Service Dependencies</b></span> are optional and allow you to suppress notifications and active checks of services based on the status of one or more other services.</p>
<ul style="list-style: url('../../../../Shared_Images/bullet01.gif');">
<li class="p-Bullet1">
<p class="Bullet1">A service can be dependent on one or more other services</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1">A service can be dependent on services which are not associated with the same host</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1">Service dependencies are not inherited (unless specifically configured)</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1">Service dependencies can be used to cause service execution and service notifications to be suppressed under different circumstances (OK, WARNING, UNKNOWN, and/or CRITICAL states)</p>
</li>
</ul>
<p>Before <span style="font-style: italic;"><i>Nagios</i></span> executes a service check or sends notifications out for a service, it will check to see if the service has any dependencies. If it doesn't have any dependencies, the check is executed or the notification is sent out as it normally would be. If the service <i>does</i> have one or more dependencies, <span style="font-style: italic;"><i>Nagios</i></span> will check each dependency entry as follows:</p>
<ul style="list-style: url('../../../../Shared_Images/bullet01.gif');">
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-style: italic;"><i>Nagios</i></span> gets the current status of the service that is being <i>depended upon</i>.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1"><span style="font-style: italic;"><i>Nagios</i></span> compares the current status of the service that is being <i>depended upon</i> against either the execution or notification failure options in the dependency definition (whichever one is relevant at the time).</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1">If the current status of the service that is being <i>depended upon</i> matches one of the failure options, the dependency is said to have failed and <span style="font-style: italic;"><i>Nagios</i></span> will break out of the dependency check loop.</p>
</li>
<li class="p-Bullet1">
<p class="Bullet1">If the current state of the service that is being <i>depended upon</i> does not match any of the failure options for the dependency entry, the dependency is said to have passed and <span style="font-style: italic;"><i>Nagios</i></span> will go on and check the next dependency entry.</p>
</li>
</ul>
<h3>Defining Service Dependencies</h3>
<p style="font-size: 8pt;"><span><font size="1" style="font-size:8pt;"><span><span><a class="dropspot" href="javascript:TextPopup(this)" id="a2" style="font-size: 8pt;" name="a2"><img src="../../../../Shared_Images/screenshoticon.gif" title="View Screenshot" alt="screenshoticon.gif" style="border: none;" width="29" height="27" border="0" />Show/Hide</a></span></span></font></span></p>
<div class="droptext" id="POPUP386169679" style="display: none;">
<p class="Caption">Figure: Defining Service Dependencies</p>
<p class="Figure"><img src="Assets/configuration_definingservicedependencies.gif" alt="configuration_definingservicedependencies.gif" style="border: none;" width="763" height="321" border="0" /></p>
</div>
<ol>
<li class="p-Numbering">
<p class="Numbering">Select <b>Services</b> from the <span style="font-style: italic;"><i>Configuration</i></span> page, select <b>Service Dependencies</b> from the navigation tree, and select <b>New</b>.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">In the <b>Service Dependency Template</b> screen, specify a <span style="font-weight: bold;"><b>Name</b></span>, (e.g. <span style="font-style: italic;"><i>Example</i></span>) for the service dependency.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select a Parent <span style="font-weight: bold;"><b>Service name</b></span> from the drop-down box. This specifies the service being dependent upon.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Next, select the <span style="font-weight: bold;"><b>Execution Failure Criteria</b></span>.</p>
</li>
</ol>
<p class="Numbering" style="margin-left: 40px;">Execution dependencies are used to restrict when <i>active</i> checks of a service can be performed. Passive checks are not restricted by execution dependencies. This criteria determines when the dependent service <span style="text-decoration: underline;"><u>should not</u></span> be executed. If the service that is being depended upon (e.g. <span style="font-style: italic;"><i>ssh_disk_root</i></span>) is in one of the failure states we specify, the dependent service will not be executed.</p>
<p class="Numbering" style="margin-left: 40px;">Valid options are a combination of one or more of the following: <b>Okay checked</b> fail on an OK state, <b>Warning checked</b> fail on a WARNING state, <b>Unknown checked</b> fail on an UNKNOWN state, and <b>Critical checked</b> fail on a CRITICAL state. If you specify n (none) as an option, the execution dependency will never fail and checks of the dependent service will always be executed. Example: If you specify Okay, Critical, and Unknown for execution failure criteria, the dependent service will not be executed if the service that's being depended upon is in either an OK, a CRITICAL, or an UNKNOWN state.</p>
<ol start="5" type="1">
<li class="p-Numbering">
<p class="Numbering">Continue with selecting the <span style="font-weight: bold;"><b>Notification Failure Criteria</b></span>.</p>
</li>
</ol>
<p class="Numbering" style="margin-left: 40px;">If <i>all</i> of the notification dependency tests for the service <i>passed</i>, <span style="font-style: italic;"><i>Nagios</i></span> will send notifications out for the service as it normally would. If even just one of the notification dependencies for a service fails, <span style="font-style: italic;"><i>Nagios</i></span> will temporarily repress notifications for that (dependent) service . This criteria determines when notifications for the dependent service <span style="text-decoration: underline;"><u>should not</u></span> be sent out. If the service that is being depended upon (e.g. <span style="font-style: italic;"><i>ssh_disk_root</i></span>) is in one of the failure states we specify, notifications for the dependent service will not be sent out to contacts.</p>
<p class="Numbering" style="margin-left: 40px;">Valid options are a combination of one or more of the following: <b>Okay checked</b> fail on an OK state, <b>Warning checked</b> fail on a WARNING state, <b>Unknown checked</b> fail on an UNKNOWN state, and <b>Critical checked</b> fail on a CRITICAL state. If you specify n (none) as an option, the notification dependency will never fail and notifications for the dependent service will always be sent out. Example: If you specify Warning in this field, the notifications for the dependent service will not be sent out if the service that is being depended upon is in a WARNING state.</p>
<ol start="6" type="1">
<li class="p-Numbering">
<p class="Numbering">Select <b>Save</b>.</p>
</li>
</ol>
<p>Next, we can apply service dependencies in the <span style="font-style: italic;"><i>Manage Service</i></span> or the <span style="font-style: italic;"><i>Manage Host Service</i></span> dependencies screens.</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1"><a href="configuration_applyingservicedependencies.htm" style="font-weight: normal;">Applying Service Dependencies</a></p>
</li>
</ul>
<div style="width: 100%; position: relative;" id="footer">
<p class="Footer" style="font-size: 7pt; line-height: Normal; margin-top: 6pt; margin-bottom: 4pt;">GroundWork, Inc. ©2011</p>
</div>
<script type="text/javascript" language="JavaScript1.2">
//<![CDATA[
        if( typeof( TextPopupInit ) != 'function' ) TextPopupInit = new Function();
        TextPopupInit('a2','POPUP386169679');
//]]>
</script><script type="text/javascript" language="JavaScript">
//<![CDATA[
 if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  document.write("<div id='tooltip' class='WebHelpPopupMenu'><\/div>");
//]]>
</script><script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.writeIntopicBar)
        writeIntopicBar(0);


highlightSearch();
//-->
//]]>
</script>
</body>
</html>
