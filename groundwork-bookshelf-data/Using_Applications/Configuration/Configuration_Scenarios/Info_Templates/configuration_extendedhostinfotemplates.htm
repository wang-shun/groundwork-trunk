<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Adobe RoboHelp 8" />
<title>Extended Info Templates</title>
<link rel="StyleSheet" href="../../../../Bookshelf.css" type="text/css" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function ehlp_showtip(current,e,text)
{
  if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  {
    document.tooltip.document.write("<layer bgColor='yellow' style='border:1px solid black;font-size:12px;'>"+ text + "<\/layer>");
    document.tooltip.document.close();
    document.tooltip.left=e.pageX+5;
    document.tooltip.top=e.pageY+5;
    document.tooltip.visibility="show";
  }
}
function ehlp_hidetip()
{
  document.tooltip.visibility="hidden";
}
//]]>
</script>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
        origWidth = innerWidth;
        origHeight = innerHeight;
        onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
/*<![CDATA[*/
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
/*]]>*/
</style>

<script type="text/javascript" language="javascript1.2" src="../../../../whmsg.js">
</script>
<script type="text/javascript" language="javascript" src="../../../../whver.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whproxy.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whutils.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whlang.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whtopic.js">
</script>
</head>
<body>
<script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.gbWhTopic)
{
        var strUrl = document.location.href;
        var bc = 0;
        var n = strUrl.toLowerCase().indexOf("bc-");
        if(n != -1)
        {
                document.location.href = strUrl.substring(0, n);
                bc = strUrl.substring(n+3);
        }

        if (window.addTocInfo)
        {
        addButton("show",BTN_TEXT,"Show Table of Contents","","","","",0,0,"","","");

        }
        if (window.writeBtnStyle)
                writeBtnStyle();

        if (window.writeIntopicBar)
                writeIntopicBar(1);

        
        

        if (window.setRelStartPage)
        {
        setRelStartPage("../../../../Bookshelf.htm");

                autoSync(0);
                sendSyncInfo();
                sendAveInfoOut();
        }
}
else
        if (window.gbIE4)
                document.location.reload();

//-->
//]]>
</script>
<p style="margin-top: 0pt; color: #0000ff; font-size: 7pt;" align="right"><a href="../../../../Welcome_to_GroundWork_Monitor/index.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">Home</a> &gt; <a href="../../../usingapplications_aboutusingapplications.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">USING APPLICATIONS</a> &gt; <a href="../../configuration_aboutconfiguration.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">Configuration</a> &gt; <a href="../configuration_configurationscenarios.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">Configuration Scenarios</a>&#160;&gt;&#160;Extended Info Templates</p>
<p>&#160;</p>
<h1><img src="../../../../Shared_Images/square.gif" alt="square.gif" style="border: none;" width="15" height="15" border="0" /> Configuration Scenarios</h1>
<h3 align="right"><a href="../configuration_configurationscenarios.htm" title="Topic Home" onmouseover="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_showtip(this,event,'Topic Home');" onmouseout="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_hidetip();"><img src="../../../../Shared_Images/homeicon.gif" alt="homeicon.gif" style="border: none;" width="33" height="27" border="0" /></a> <img src="../../../../Shared_Images/printicon.gif" onclick="window.print()" alt="Print Page" title="Print Page" style="border: none;" width="27" height="27" border="0" /> <a href="mailto:support@groundworkopensource.com?subject=Configuring Extended Host Info Templates" title="Send Comments"><img src="../../../../Shared_Images/commentsicon.gif" alt="commentsicon.gif" style="border: none;" width="33" height="27" border="0" /></a></h3>
<h2>Configuring Extended host Info Templates</h2>
<p>Extended host and service information entries are basically used to make the output from the status, statusmap, statuswrl, and extinfo CGIs look good. They have no effect on monitoring and are completely optional. For example, under <span style="font-style: italic;"><i>Generating Extended Host Info Templates from Logos for the Nagios GUI's</i></span> below, the figure shows a server icon next to each Host. This icon image is designated in the <span style="font-style: italic;"><i>Extended Host Info Template</i></span> as <span class="CodeInline">server.png</span> in the <span style="font-style: italic;"><i>Status Map Image</i></span> property field.</p>
<h3>Step 1 - Extended Host Info Template Properties</h3>
<ol>
<li class="p-Numbering">
<p class="Numbering">Select <b>Hosts</b> from the <span style="font-style: italic;"><i>Configuration</i></span> page.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Expand the <b>Host extended info</b> drop-down menu.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select <b>New</b>.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">In the <b>Extended Host Info Template Properties</b> screen described in the table below.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select <b>Add</b> to add the new extended host info template.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">You will be prompted that the template has been saved. Select <b>Continue</b>.<b><span style="color: #ff0000;"><font color="red"><br />
Note</font></span>:</b> To copy an existing template select <b>Copy</b> from the Extended Host Info Template options. This will let you name and edit the copied properties for a new template. To modify or delete a template select <b>Modify</b>. You will then be able to edit and <b>Save</b> a modified template. Select <b>Delete</b> to remove a selected template, <b>Rename</b> to change the name, or <b>Cancel</b> to exit out without any changes.</p>
</li>
</ol>
<table style="margin-left: 40px;" cellspacing="0" width="700">
<col style="width: 25%;" />
<col style="width: 75%;" />
<tr style="vertical-align: top;">
<td style="border: Solid 2px #ffffff; width: 25%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBold"><b style="font-weight: bold;">Extended Host Info Template Name</b></p>
</td>
<td style="border-top: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 75%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">[Required] Name of the Extended Host Info Template.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 25%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBold">Notes</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 75%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">[Optional] Used to define a string of notes pertaining to the host. If you specify a note here, you will see it in the extended information CGI (when you are viewing information about the specified host).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 25%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBold"><b style="font-weight: bold;">Notes URL</b></p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 75%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">[Optional] This option is used to define a URL that can be used to provide more information about the Host. If you specify an URL, you will see a link that says 'Notes About This Host' in the extended information CGI (when you are viewing information about the specified Host). Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. /cgi-bin/nagios/). This can be very useful if you want to make detailed information on the Host, emergency contact methods, etc. available to other support staff. Also, as this is a template, you may use macros $HOSTNAME$ and $HOSTADDRESS$ in the URL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 25%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBold">Action URL</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 75%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">[Optional] This directive is used to define an optional URL that can be used to provide more actions to be performed on the host. If you specify an URL. you will see a link that says Extra Host Actions in the extended information CGI (when your are viewing information about the specified host). Any valid URL can be used. If you planning on using relative paths, the vase path will be the same as what is used to access the CGIs (e.g. /cgi-bin/nagios/).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 25%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBold"><b style="font-weight: bold;">Icon Image</b></p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 75%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">[Optional] This variable is used to define the name of a GIF, PNG, or JPG image that should be associated with this Host. This image will be displayed in the status and extended information CGIs. The image will look best if it is 40x40 pixels in size. Images for Hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. /usr/local/nagios/share/images/logos).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 25%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBold"><b style="font-weight: bold;">Icon Image Alt</b></p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 75%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">[Optional] This variable is used to define an optional string that is used in the ALT tag of the image specified by the &lt;icon_image&gt; argument. The ALT tag is used in the status, extended information and statusmap CGIs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 25%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBold"><b style="font-weight: bold;">VRML Image</b></p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 75%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">[Optional] This variable is used to define the name of a GIF, PNG, or JPG image that should be associated with this Host. This image will be used as the texture map for the specified Host in the statuswrl CGI. Unlike the image you use for the &lt;icon_image&gt; variable, this one should probably not have any transparency. If it does, the Host object will look a bit weird. Images for Hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. /usr/local/nagios/share/images/logos).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 25%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBold"><b style="font-weight: bold;">Statusmap Image</b></p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 75%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">[Optional] This variable is used to define the name of an image that should be associated with this Host in the statusmap CGI. You can specify a JPEG, PNG, and GIF image if you want, although I would strongly suggest using a GD2 format image, as other image formats will result in a lot of wasted CPU time when the statusmap image is generated. GD2 images can be created from PNG images by using the pngtogd2 utility supplied with Thomas Boutell's gd library. The GD2 images should be created in uncompressed format in order to minimize CPU load when the statusmap CGI is generating the network map image. The image will look best if it is 40x40 pixels in size. You can leave these option blank if you are not using the statusmap CGI. Images for Hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. /usr/local/nagios/share/images/logos).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 25%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBold"><b style="font-weight: bold;">2d Coords</b></p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 75%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">[Optional] This variable is used to define coordinates to use when drawing the Host in the statusmap CGI. Coordinates should be given in positive integers, as the correspond to physical pixels in the generated image. The origin for drawing (0,0) is in the upper left hand corner of the image and extends in the positive x direction (to the right) along the top of the image and in the positive y direction (down) along the left hand side of the image. For reference, the size of the icons drawn is usually about 40x40 pixels (text takes a little extra space). The coordinates you specify here are for the upper left hand corner of the Host icon that is drawn. <b>Note:</b> Don't worry about what the maximum x and y coordinates that you can use are. The CGI will automatically calculate the maximum dimensions of the image it creates based on the largest x and y coordinates you specify.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 25%; padding-right: 10px; padding-left: 10px;" bgcolor="#1B3A83">
<p class="NormalTableBold"><b style="font-weight: bold;">3d Coords</b></p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; width: 75%; padding-right: 10px; padding-left: 10px;" bgcolor="#C0C0C0">
<p class="NormalTable">[Optional] This variable is used to set coordinates to use when drawing the Host in the statuswrl CGI. Coordinates can be positive or negative real numbers. The origin for drawing is (0.0,0.0,0.0). For reference, the size of the Host cubes drawn is 0.5 units on each side (text takes a little more space). The coordinates you specify here are used as the center of the Host cube.</p>
</td>
</tr>
</table>
<h3>How Do I Apply an Extended Host Info Template to a Host Profile?</h3>
<p>You can apply an extended host info template within a host profile which will add the template properties to all hosts associated with the host profile.</p>
<ol>
<li class="p-Numbering">
<p class="Numbering">Select <b>Profiles</b> from the <span style="font-style: italic;"><i>Configuration</i></span> page.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Expand the <b>Host Profiles</b> option.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select <b>Modify</b>, (for new host profiles follow the same procedure).</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select the <b>Host Profile</b> to add an extended host info template.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select the drop-down box for <b>Extended Host Info Template</b> and select an existing template.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select <b>Save</b>.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Next you can assign hosts to use this host profile with the extended host info template by selecting the <b>Assign Hosts</b> tab. After adding the hosts make sure you <b>Save</b> your changes. As a last step make sure you select the <b>Apply</b> tab, check the <b>Apply Detail to Hosts</b> and select <b>Apply</b>.</p>
<p class="Numbering"><b style="font-weight: bold;"><span style="color: #ff0000;"><font color="red">Note</font></span>:</b> Assigning a host profile directly from within the hosts option versus the host profile creates the association so that the host can be managed from the host profile, but there is no other effect on the host configuration. In other words, if you are in hosts and adding or changing a host profile the host profile will update ONLY the Service properties and not the host detail (including extended host info template). Tip: Work within the host profile when possible.</p>
</li>
</ol>
<h3>How Do I Apply an Extended Host Info Template to a Host?</h3>
<p>You can also add the template properties directly to an individual host.</p>
<ol>
<li class="p-Numbering">
<p class="Numbering">Select <b>Hosts</b> from the <span style="font-style: italic;"><i>Configuration</i></span> page.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select a host to add the an extended host info template.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select the drop-down box for <b>Extended Host Info Template</b> and select an existing template.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select <b>Save</b>.</p>
</li>
</ol>
<h3 class="Numbering">Generating Extended Host Info Templates from Logos for the Nagios GUI's</h3>
<p>Use the logos in <span class="CodeInline">/usr/local/groundwork/nagios/share/images/logos</span> (you can place your own logos here also if you wish) and run <span class="CodeInline">/usr/local/groundwork/tools/profile_scripts/gen_hostextinfo.pl</span> to generate extended host info templates. You will need three types of files; <span class="CodeInline">gif</span>, <span class="CodeInline">png</span>, and <span class="CodeInline">gd2</span>, for complete templates. The file names should be identical (except for the extensions). The file names should also be descriptive of the object to which they will be assigned.</p>
<p><span style="font-weight: bold; color: #ff0000;"><font color="red"><b>Note</b></font></span>: <span class="CodeInline">gd</span> is a graphics library. It allows your code to quickly draw images complete with lines, arcs, text, multiple colors, cut and paste from other images, and flood fills, and write out the result as a <span class="CodeInline">png</span> or <span class="CodeInline">jpeg</span> file. There is a useful tool to create <span class="CodeInline">gd2</span> files from <span class="CodeInline">png</span> files: <span class="CodeInline">/usr/local/groundwork/bin/pngtogd2</span>.</p>
<p>After running <span class="CodeInline">gen_hostextinfo.pl</span> you will find the templates ready to import under <b>Configuration</b>, <b>Profiles</b>, <b>Profile Importer</b>.</p>
<p class="Caption">Figure: Extended Host Info Template - Status Map Image</p>
<p class="Figure"><img src="Assets/configuration_hostsstatusmap.gif" alt="Status Map" title="Status Map" style="border: none;" width="700" height="593" border="0" /></p>
<div style="width: 100%; position: relative;" id="footer">
<p class="Footer" style="font-size: 7pt; line-height: Normal; margin-top: 6pt; margin-bottom: 4pt;">GroundWork, Inc. ©2011</p>
</div>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
 if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  document.write("<div id='tooltip' class='WebHelpPopupMenu'><\/div>");
//]]>
</script><script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.writeIntopicBar)
        writeIntopicBar(0);


highlightSearch();
//-->
//]]>
</script>
</body>
</html>
