<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Adobe RoboHelp 8" />
<title>Creating a New Service</title>
<link rel="StyleSheet" href="../../../../Bookshelf.css" type="text/css" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function ehlp_showtip(current,e,text)
{
  if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  {
    document.tooltip.document.write("<layer bgColor='yellow' style='border:1px solid black;font-size:12px;'>"+ text + "<\/layer>");
    document.tooltip.document.close();
    document.tooltip.left=e.pageX+5;
    document.tooltip.top=e.pageY+5;
    document.tooltip.visibility="show";
  }
}
function ehlp_hidetip()
{
  document.tooltip.visibility="hidden";
}
//]]>
</script>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
        origWidth = innerWidth;
        origHeight = innerHeight;
        onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
/*<![CDATA[*/
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
/*]]>*/
</style>

<script type="text/javascript" language="javascript1.2" src="../../../../whmsg.js">
</script>
<script type="text/javascript" language="javascript" src="../../../../whver.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whproxy.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whutils.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whlang.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../../../whtopic.js">
</script>
</head>
<body>
<script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.gbWhTopic)
{
        var strUrl = document.location.href;
        var bc = 0;
        var n = strUrl.toLowerCase().indexOf("bc-");
        if(n != -1)
        {
                document.location.href = strUrl.substring(0, n);
                bc = strUrl.substring(n+3);
        }

        if (window.addTocInfo)
        {
        addButton("show",BTN_TEXT,"Show Table of Contents","","","","",0,0,"","","");

        }
        if (window.writeBtnStyle)
                writeBtnStyle();

        if (window.writeIntopicBar)
                writeIntopicBar(1);

        
        

        if (window.setRelStartPage)
        {
        setRelStartPage("../../../../Bookshelf.htm");

                autoSync(0);
                sendSyncInfo();
                sendAveInfoOut();
        }
}
else
        if (window.gbIE4)
                document.location.reload();

//-->
//]]>
</script>
<p style="margin-top: 0pt; color: #0000ff; font-size: 7pt;" align="right"><a href="../../../../Welcome_to_GroundWork_Monitor/index.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">Home</a> &gt; <a href="../../../usingapplications_aboutusingapplications.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">USING APPLICATIONS</a> &gt; <a href="../../configuration_aboutconfiguration.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">Configuration</a> &gt; <a href="../configuration_configurationscenarios.htm" style="color: #0000ff; font-size: 7pt; text-decoration: none;">Configuration Scenarios</a>&#160;&gt;&#160;Creating New Services</p>
<p>&#160;</p>
<script src="../../../../ehlpdhtm.js" type="text/javascript" language="JavaScript1.2">
</script>
<h1><img src="../../../../Shared_Images/square.gif" alt="square.gif" style="border: none;" width="15" height="15" border="0" /> Configuration Scenarios</h1>
<h3 align="right"><a href="../configuration_configurationscenarios.htm" title="Topic Home" onmouseover="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_showtip(this,event,'Topic Home');" onmouseout="if ((parseInt(navigator.appVersion) == 4) &amp;&amp; (navigator.appName == 'Netscape')) ehlp_hidetip();"><img src="../../../../Shared_Images/homeicon.gif" alt="homeicon.gif" style="border: none;" width="33" height="27" border="0" /></a> <img src="../../../../Shared_Images/printicon.gif" onclick="window.print()" alt="Print Page" title="Print Page" style="border: none;" width="27" height="27" border="0" /> <a href="mailto:support@groundworkopensource.com?subject=Creating a New Service" title="Send Comments"><img src="../../../../Shared_Images/commentsicon.gif" alt="commentsicon.gif" style="border: none;" width="33" height="27" border="0" /></a></h3>
<h2>Creating a new Service and Managing Existing</h2>
<p>This section covers how to setup a new service, including selecting a service template or specific attributes and configuring the service check. Additionally, the <span style="font-style: italic;"><i>Managing Services</i></span> sections reviews how to selecting actions to apply to the listed hosts.</p>
<h3>Step 1 - New Service</h3>
<p style="font-size: 8pt;"><span><font size="1" style="font-size:8pt;"><span><span><a class="dropspot" href="javascript:TextPopup(this)" id="a5" style="font-size: 8pt;" name="a5"><img src="../../../../Shared_Images/screenshoticon.gif" title="View Screenshot" alt="screenshoticon.gif" style="border: none;" width="29" height="27" border="0" />Show/Hide</a></span></span></font></span></p>
<div class="droptext" id="POPUP380068127" style="display: none;">
<p class="Caption">Figure: Step 1 - New Service</p>
<p class="Figure"><img src="Assets/configuration_step1newservice.gif" alt="configuration_step1newservice.gif" style="border: none;" width="600" height="81" border="0" /></p>
</div>
<ol>
<li class="p-Numbering">
<p class="Numbering">Select <b>Services</b> from the <span style="font-style: italic;"><i>Configuration</i></span> page.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select <b>New service</b>. (You could also copy an existing service into a new service by selecting <span style="font-weight: bold;"><b>Clone service</b></span> versus <span style="font-weight: bold;"><b>New service</b></span> from the <span style="font-style: italic;"><i>Service</i></span> menu.)</p>
</li>
<li class="p-Numbering">
<p class="Numbering">In the <b>New Service</b> screen, enter a required <span style="font-style: italic;"><i>Service Name</i></span>. Example: <span class="CodeInline">check-disk-sda1</span>. When naming the service you should use a standard naming convention to make it easier to tell what is going on later (e.g. ssh_disk). Note: <span style="font-style: italic;"><i>GroundWork Monitor</i></span> do not support back-slashes in host and service names.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Next, select a required service template. A service template is useful when you have common attributes for multiple services. A service template incorporates multiple service detail directives and service check definitions. Example: <span class="CodeInline">generic-service</span>.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select <b>Add</b> to go to the next screen, <span style="font-style: italic;"><i>Manage Service</i></span>. The <span style="font-style: italic;"><i>Manage Service</i></span> screen incorporates five tabs including <span style="font-style: italic;"><i>Service Detail</i></span>, <span style="font-style: italic;"><i>Service Check</i></span>, <span style="font-style: italic;"><i>Service Dependencies</i></span>, <span style="font-style: italic;"><i>Service Profiles</i></span>, <span style="font-style: italic;"><i>Service Externals</i></span> (optional), and <span style="font-style: italic;"><i>Apply Hosts</i></span>.</p>
</li>
</ol>
<h3>Step 2 - Service Detail</h3>
<p style="font-size: 8pt;"><span><a class="dropspot" href="javascript:TextPopup(this)" id="a6" style="font-size: 8pt;" name="a6"><font size="1" style="font-size:8pt;"><img src="../../../../Shared_Images/screenshoticon.gif" title="View Screenshot" alt="screenshoticon.gif" style="border: none;" width="29" height="27" border="0" />Show/Hide</font></a></span></p>
<div class="droptext" id="POPUP380796060" style="display: none;">
<p class="Caption">Figure: Step 2 - Service Detail</p>
<p class="Figure"><img src="Assets/configuration_step2servicedetail.gif" alt="configuration_step2servicedetail.gif" style="border: none;" width="600" height="646" border="0" /></p>
</div>
<ol>
<li class="p-Numbering">
<p class="Numbering">In the <b>Service Detail</b> tab, you have the option to accept all the inherited properties from the previously selected template or to individually uncheck a directive to override the template values.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select <b>Save</b> to add the new service. You will be prompted in the next screen that the service has been save.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select <b>Close</b>.</p>
</li>
</ol>
<p class="Numbering" style="margin-left: 40px;"><span style="font-weight: bold;"><b>Note:</b></span> Selecting <b>Delete</b> removes the current service and <b>Rename</b> is used to change the name of the current service.</p>
<h3>Step 3 - Service Check</h3>
<p style="font-size: 8pt;"><span><font size="1" style="font-size:8pt;"><span><span><a class="dropspot" href="javascript:TextPopup(this)" id="a7" style="font-size: 8pt;" name="a7"><img src="../../../../Shared_Images/screenshoticon.gif" title="View Screenshot" alt="screenshoticon.gif" style="border: none;" width="29" height="27" border="0" />Show/Hide</a></span></span></font></span></p>
<div class="droptext" id="POPUP378881549" style="display: none;">
<p class="Caption">Figure: Step 3 - Service Check</p>
<p class="Figure"><img src="Assets/configuration_step3servicecheck.gif" alt="configuration_step3servicecheck.gif" style="border: none;" width="600" height="442" border="0" /></p>
</div>
<p>Here we will configure the service check for the new service. You can create as many services as you like. If you want to use some of the other options on the plugins, you'll need to create new commands that set those options, and use them to create your services. <span style="font-style: italic;"><i>GroundWork Monitor</i></span> comes loaded with many of the commonly used Services already pre-configured.</p>
<ol>
<li class="p-Numbering">
<p class="Numbering">Select the <b>Service Check</b> tab.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">De-select the <b>Inherit check from template</b> box which enables you to define a specific check command for this service. Select the command (e.g. <span class="CodeInline">check_by_ssh_disk</span>) from the drop-down list. <span style="font-style: italic;"><i>GroundWork Monitor</i></span> comes with a lot of standard commands already defined for you.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Next, the <span class="CodeInline">ARG1!ARG2!ARG3</span> in the command line should be filled in to reflect the arguments to pass to the plugin. To run an example, use <span class="CodeInline">20%!10%!/</span> to check the <span class="CodeInline">/</span> partition and give a warning when less than <span class="CodeInline">20%</span> is free, and a critical alert when less than <span class="CodeInline">10%</span> is free.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">You can then test the service against any host from within this service check screen.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Select <b>Save</b> to save the service check with the new service.</p>
</li>
</ol>
<p class="Numbering" style="margin-left: 40px; color: #ff0000; font-weight: bold;">Notes:</p>
<div style="margin-left: 2em">
<ul>
<li class="P-Bullet1">
<p class="Bullet1">When making changes you must select <span style="font-weight: bold;"><b>Save</b></span> for each tab. If you do not select <span style="font-weight: bold;"><b>Save</b></span> and go to another tab you will lose your changes.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">Use the <span style="font-weight: bold;"><b>Apply Hosts</b></span> tab to push the service changes to hosts that have this service. See <span style="font-weight: bold;"><b>Managing Services</b></span> below.</p>
</li>
</ul>
</div>
<h3>Step 4 - Managing Services - Apply Hosts</h3>
<p>This step is used when managing services that have been assigned to hosts. Services can be assigned to host(s), using the <span style="font-weight: bold;"><b>Configuration</b></span>&gt;<span style="font-weight: bold;"><b>Hosts</b></span>&gt;<span style="font-weight: bold;"><b>Host wizard</b></span>, <span style="font-weight: bold;"><b>Configuration</b></span>&gt;<span style="font-weight: bold;"><b>Hosts</b></span>&gt;<span style="font-weight: bold;"><b>Clone host</b></span>, or <span style="font-weight: bold;"><b>Configuration</b></span>&gt;<span style="font-weight: bold;"><b>Hosts&gt;Hosts</b></span> menu options.</p>
<p>Once a service has been assigned to a host(s), that becomes a stable copy separate from the original generic service definition. If you modify the generic service definition (under Configuration&gt;Services) and want to have those changes reflected in the host-service copies of the service, the service changes will need to be pushed to these assigned host(s).</p>
<p>By selecting an existing service name in <span style="font-weight: bold;"><b>Configuration</b></span> &gt;<span style="font-weight: bold;"><b>Services</b></span> you have access to manage the service detail, service check, dependencies, and profiles. After making any service changes you will need to use the <span style="font-weight: bold;"><b>Apply Hosts</b></span> tab to indicate the <span style="font-style: italic;"><i>Service properties action(s)</i></span> and <span style="font-style: italic;"><i>Host services action</i></span> to be taken. The <span style="font-weight: bold;"><b>Hosts</b></span> drop-down box, in the&#160;<span style="font-weight: bold;"><b>Apply Host</b></span> tab, lists all hosts that have this service (e.g. <span class="Code">local_cpu_httpd</span>). The checked service properties actions will be applied to the host-service (e.g. <span class="Code">local_cpu_httpd</span>) on all of these hosts:</p>
<p style="font-weight: bold;">Service properties action(s):</p>
<ul>
<li class="P-Bullet1" style="font-weight: normal;">
<p class="Bullet1">Apply service check</p>
</li>
<li class="P-Bullet1" style="font-weight: normal;">
<p class="Bullet1">Apply contact groups</p>
</li>
<li class="P-Bullet1" style="font-weight: normal;">
<p class="Bullet1">Apply custom object variables</p>
</li>
<li class="P-Bullet1" style="font-weight: normal;">
<p class="Bullet1">Apply service extended info</p>
</li>
<li class="P-Bullet1" style="font-weight: normal;">
<p class="Bullet1">Apply service escalation</p>
</li>
<li class="P-Bullet1" style="font-weight: normal;">
<p class="Bullet1" style="font-weight: normal;">Apply dependencies</p>
</li>
</ul>
<p style="font-weight: bold;"><span style="font-weight: bold;"><b>Host-Services action(s):</b></span></p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">Replace existing host-service properties (force inheritance) - All service properties are removed from the service (e.g. <span class="Code">local_cpu_httpd</span>) on the listed hosts and replaced with those from this modified service.</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">Merge existing host-service properties (preserve overrides) - Any existing service property already on a listed host's-service, but <i>not</i> in this service, remains unchanged on the host-service, while service properties in this service are added or updated. Note that if you removed service properties or values from this service, those now-unreferenced service property values will not be deleted from the host services when you perform this merge operation. To make that happen, you will need to either use <i>Replace existing host service properties</i>, or go to the host service records and adjust them directly.</p>
</li>
<li class="P-Bullet1">
<p class="append">Merging with existing host service externals is treated specially. Only host service externals which were never modified after being applied to the host service will be updated in a merge operation. This behavior preserves local overrides to the host service external values.</p>
</li>
</ul>
<h4>Apply Hosts</h4>
<ol type="1">
<li class="p-Numbering">
<p class="Numbering">Check <span style="font-weight: bold;"><b>Service properties action(s)</b></span> to apply.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">Check <span style="font-weight: bold;"><b>Host services</b></span> action to apply.</p>
</li>
<li class="p-Numbering">
<p class="Numbering"><span style="text-decoration: underline;"><u>Double check</u></span> your service changes, the set of hosts that are assigned this service, the service properties you have checked to apply, and how you want to modify the existing host-services.</p>
</li>
<li class="p-Numbering">
<p class="Numbering">When you're ready, select <span style="font-weight: bold;"><b>Apply</b></span>.</p>
</li>
</ol>
<p class="Caption" style="margin-left: 40px;">Figure: Step 4 - Apply Hosts</p>
<p class="Figure" style="margin-left: 41px;"><img src="Assets/configuration_step4applyhosts.gif" alt="configuration_step4applyhosts.gif" style="border: none;" width="700" height="635" border="0" /></p>
<div style="width: 100%; position: relative;" id="footer">
<p class="Footer" style="font-size: 7pt; line-height: Normal; margin-top: 6pt; margin-bottom: 4pt;">GroundWork, Inc. ©2011</p>
</div>
<script type="text/javascript" language="JavaScript1.2">
//<![CDATA[
        if( typeof( TextPopupInit ) != 'function' ) TextPopupInit = new Function();
        TextPopupInit('a5','POPUP380068127');
        TextPopupInit('a6','POPUP380796060');
        TextPopupInit('a7','POPUP378881549');
//]]>
</script><script type="text/javascript" language="JavaScript">
//<![CDATA[
 if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == 'Netscape'))
  document.write("<div id='tooltip' class='WebHelpPopupMenu'><\/div>");
//]]>
</script><script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.writeIntopicBar)
        writeIntopicBar(0);


highlightSearch();
//-->
//]]>
</script>
</body>
</html>
