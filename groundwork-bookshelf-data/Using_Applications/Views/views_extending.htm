<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="search-keywords" content="Views" />
<meta name="generator" content="Adobe RoboHelp 8" />
<title>Extending</title>
<link rel="StyleSheet" href="../../Bookshelf.css" type="text/css" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
        origWidth = innerWidth;
        origHeight = innerHeight;
        onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
/*<![CDATA[*/
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
/*]]>*/
</style>

<script type="text/javascript" language="javascript1.2" src="../../whmsg.js">
</script>
<script type="text/javascript" language="javascript" src="../../whver.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../whproxy.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../whutils.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../whlang.js">
</script>
<script type="text/javascript" language="javascript1.2" src="../../whtopic.js">
</script>
</head>
<body>
<script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.gbWhTopic)
{
        var strUrl = document.location.href;
        var bc = 0;
        var n = strUrl.toLowerCase().indexOf("bc-");
        if(n != -1)
        {
                document.location.href = strUrl.substring(0, n);
                bc = strUrl.substring(n+3);
        }

        if (window.addTocInfo)
        {
        addTocInfo("USING APPLICATIONS\nViews\nExtending");
addButton("show",BTN_TEXT,"Show Table of Contents","","","","",0,0,"","","");

        }
        if (window.writeBtnStyle)
                writeBtnStyle();

        if (window.writeIntopicBar)
                writeIntopicBar(1);

        
        

        if (window.setRelStartPage)
        {
        setRelStartPage("../../Bookshelf.htm");

                autoSync(0);
                sendSyncInfo();
                sendAveInfoOut();
        }
}
else
        if (window.gbIE4)
                document.location.reload();

//-->
//]]>
</script><script type="text/javascript" language="JavaScript1.2" src="../../ehlpdhtm.js">
</script><script type="text/javascript" language="javascript">
//<![CDATA[
document.write("<p  style=\"text-align:right;color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\">");
AddMasterBreadcrumbs("../../Bookshelf.htm", "color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;", "&gt;", "Home", "../../Welcome_to_GroundWork_Monitor/index.htm");
document.write("<a style=\"color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\" href=\"../usingapplications_aboutusingapplications.htm\">USING APPLICATIONS<\/a> &gt; <a style=\"color:#0000ff;font-family:Arial;font-size:7pt;font-weight: normal;font-style: normal;text-decoration: none;\" href=\"views_interfaces.htm\">Views<\/a> &gt; Extending<\/p>");
//]]>
</script>
<p>&#160;</p>
<h1><a name="MiniTOCBookMark1" id="MiniTOCBookMark1"></a><img src="../../Shared_Images/square.gif" alt="square.gif" style="border: none;" width="15" height="15" border="0" /> Views</h1>
<h3 align="right"><img src="../../Shared_Images/homeicon.gif" alt="Topic Home" title="Topic Home" style="border: none;" width="33" height="27" border="0" /> <img src="../../Shared_Images/printicon.gif" onclick="window.print()" alt="Print Page" title="Print Page" style="border: none;" width="33" height="27" border="0" /> <a href="mailto:support@groundworkopensource.com?subject=NagVis Extending" title="Send Comments"><img src="../../Shared_Images/commentsicon.gif" alt="Send Comments" title="Send Comments" style="border: none;" width="33" height="27" border="0" /></a></h3>
<span class="PageTitle">NagVis Extending</span>
<p align="left">Table&#160;of&#160;Contents:&#160;<a class="dropspot" href="javascript:TextPopup(this)" id="MTHotSpot47789" name="MTHotSpot47789"><span class="MTText">Show</span><span class="MTText" style="display: none;">Hide</span></a></p>
<script type="text/javascript" language="JavaScript1.2">
//<![CDATA[
TextPopupInit('MTHotSpot47789', 'MTPOPUP47789');
//]]>
</script>
<div align="left" class="droptext" id="MTPOPUP47789" style="display: none;">
<ul style="text-align:left; list-style-type: circle;">
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark2">Add own Iconsets</a>
<ul style="list-style-type: circle;">
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark3">Example</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark4">Solution</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark5">What is an iconset?</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark6">Which Programme Should I Use To Create an&#160;iconset?</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark7">Implementing the iconset</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark8">The Test</a></li>
</ul>
</li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark9">Add own Shapes</a>
<ul style="list-style-type: circle;">
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark10">What is a Shape?</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark11">Which Programme Should I Use To Create a Shape?</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark12">Implementing the Shape</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark13">The Test</a></li>
</ul>
</li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark14">Language file format</a>
<ul style="list-style-type: circle;">
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark15">General Information</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark16">Build Your Own</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark17">Macros</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark18">Default Macros</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark19">Special Chars</a></li>
</ul>
</li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark20">Install Templates</a>
<ul style="list-style-type: circle;">
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark21">Unpack Template</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark22">Install NagVis-Template</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark23">Configure</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark24">Header-Templates</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark25">Hover-Templates</a></li>
</ul>
</li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark26">Custom Context Menu Actions</a>
<ul style="list-style-type: circle;">
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark27">Introduction</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark28">Quick How-To</a></li>
<li style="margin-left: 0px;margin-top: 0px;"><a href="#MiniTOCBookMark29">Perspective</a></li>
</ul>
</li>
</ul>
</div>
<h2><a name="MiniTOCBookMark2" id="MiniTOCBookMark2"></a>Add own Iconsets</h2>
<h3><a name="MiniTOCBookMark3" id="MiniTOCBookMark3"></a>Example</h3>
<p>Your boss is coming in and telling you that a technician needs a map with more than 250 hosts clearly laid out. You think: “Hey, that’s not possible, with a full description for every host!” The font in the background image is not the problem, but the <span class="CodeInline">std_small-iconset</span> from <span style="font-style: italic;"><i>NagVis</i></span> is too big for such a request.</p>
<h3><a name="MiniTOCBookMark4" id="MiniTOCBookMark4"></a>Solution</h3>
<p>Build your own iconset.</p>
<h3><a name="MiniTOCBookMark5" id="MiniTOCBookMark5"></a>What is an iconset?</h3>
<p>A complete iconset consists of 11 files. These files are png images which are named like this:</p>
<table cellspacing="0" width="800">
<col width="400" />
<col width="400" />
<tr style="height: 0px;">
<td style="vertical-align: top; border-top: Solid 2px #ffffff; border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTableBoldCenter" style="color: #000000;">Filename</p>
</td>
<td style="vertical-align: top; border-top: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTableBoldCenter" style="color: #000000;">Description</p>
</td>
</tr>
<tr style="height: 0px;">
<td style="vertical-align: top; border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">&lt;set&gt;_ack.png</p>
</td>
<td style="vertical-align: top; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">Acknowledged problem</p>
</td>
</tr>
<tr style="height: 0px;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">&lt;set&gt;_error.png</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">Error while fetching status</p>
</td>
</tr>
<tr style="height: 0px;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">&lt;set&gt;_unknown.png</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">Unknown state</p>
</td>
</tr>
<tr style="height: 0px;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">&lt;set&gt;_critical.png</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">Critical state</p>
</td>
</tr>
<tr style="height: 0px;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">&lt;set&gt;_ok.png</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">Ok state</p>
</td>
</tr>
<tr style="height: 0px;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">&lt;set&gt;_up.png</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">Up state (Host)</p>
</td>
</tr>
<tr style="height: 0px;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">&lt;set&gt;_down.png</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">Down state (Host)</p>
</td>
</tr>
<tr style="height: 0px;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">&lt;set&gt;_sack.png</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">Acknowledged problem (Service)</p>
</td>
</tr>
<tr style="height: 0px;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">&lt;set&gt;_warning.png</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">Warning state</p>
</td>
</tr>
</table>
<p><span style="font-style: italic;"><i>NagVis</i></span> checks for the <span class="CodeInline">&lt;set&gt;_ok.png</span> image to list the iconsets, meaning there has to be a <span class="CodeInline">&lt;set&gt;_ok.png</span> image to have a complete iconset which can be choosen in WUI.</p>
<h3><a name="MiniTOCBookMark6" id="MiniTOCBookMark6"></a>Which Programme Should I Use To Create an&#160;iconset?</h3>
<p>Almost every graphic art software has the ability to build PNG-files. In this example Photoshop is used to create a smaller version of the std_small iconset called std_mini.</p>
<table cellspacing="0" width="800">
<col width="400" />
<col width="400" />
<col width="400" />
<tr style="height: 0px;">
<td style="vertical-align: top; border-top: Solid 2px #ffffff; border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTableBoldCenter" style="color: #000000;">Iconset</p>
</td>
<td style="vertical-align: top; border-top: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTableBoldCenter" style="color: #000000;">Icon Size</p>
</td>
<td style="vertical-align: top; border-top: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTableBoldCenter" style="color: #000000;">Icon Map</p>
</td>
</tr>
<tr style="height: 0px;">
<td style="vertical-align: top; border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">std_small</p>
</td>
<td style="vertical-align: top; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">16×16 pixel</p>
</td>
<td style="vertical-align: top; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable"><img src="Assets/iconset-std_small.jpg" alt="iconset-std_small.jpg" style="border: none;" width="153" height="16" border="0" /></p>
</td>
</tr>
<tr style="height: 0px;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">mini</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable">9×9 pixel</p>
</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTable"><img src="Assets/iconset-std_mini.jpg" alt="iconset-std_mini.jpg" style="border: none;" width="90" height="9" border="0" /></p>
</td>
</tr>
</table>
<h3><a name="MiniTOCBookMark7" id="MiniTOCBookMark7"></a>Implementing the iconset</h3>
<p>To implement the set in your NagVis installation, copy all files to the iconset folder. It is in: <span class="CodeInline">/usr/local/groundwork/nagvis/images/iconsets</span></p>
<h3><a name="MiniTOCBookMark8" id="MiniTOCBookMark8"></a>The Test</h3>
<p>Open one of your maps and add a new host-icon. You should now be able to select: <span class="CodeInline">std_mini as iconset</span></p>
<h2><a name="MiniTOCBookMark9" id="MiniTOCBookMark9"></a>Add own Shapes</h2>
<p>You can add "stateless Icons" to your maps, we call them shapes. These icons are completely like the other icons, they just have no state.</p>
<h3><a name="MiniTOCBookMark10" id="MiniTOCBookMark10"></a>What is a Shape?</h3>
<p>A shape is nothing else than a simple image. We recommend to use PNG as format for the shapes.</p>
<h3><a name="MiniTOCBookMark11" id="MiniTOCBookMark11"></a>Which Programme Should I Use To Create a Shape?</h3>
<p>Almost every graphic art software has the ability to build PNG-files.</p>
<h3><a name="MiniTOCBookMark12" id="MiniTOCBookMark12"></a>Implementing the Shape</h3>
<p>The shapes are placed in: <span class="CodeInline">/usr/local/groundwork/nagvis/images/shapes</span></p>
<p>Just copy them to this directory, then you can use them in your maps.</p>
<h3><a name="MiniTOCBookMark13" id="MiniTOCBookMark13"></a>The Test</h3>
<p>Open one of your maps and add a new shape-icon. You should now be able to select your own shapes.</p>
<h2><a name="MiniTOCBookMark14" id="MiniTOCBookMark14"></a>Language file format</h2>
<h3><a name="MiniTOCBookMark15" id="MiniTOCBookMark15"></a>General Information</h3>
<p>The <span style="font-style: italic;"><i>GroundWork</i></span> language settings are taken by default from your language settings in "My Preferences". The language format are gettext language files. For details about gettext see the <a href="http://www.gnu.org/software/gettext/" target="_blank">official gettext page</a>.</p>
<p>The language files are stored in the language specific subdirectories: <span class="CodeInline">/usr/local/groundwork/nagvis/share/frontend/nagvis-js/locale</span></p>
<p>The english language file is <span class="CodeInline">en_US/LC_MESSAGES/nagvis.mo</span>.</p>
<p>The files with .po extension are the sources which have to be compiled to .mo files.</p>
<p>By default the following languages are supported in the current <span style="font-style: italic;"><i>NagVis</i></span> versions:</p>
<ul>
<li class="P-Bullet1">
<p class="Bullet1">english</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">german</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">french</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">spanish</p>
</li>
<li class="P-Bullet1">
<p class="Bullet1">brazilian portugese</p>
</li>
</ul>
<p>Any other language setting outside the above will default to English.</p>
<h3><a name="MiniTOCBookMark16" id="MiniTOCBookMark16"></a>Build Your Own</h3>
<p>Your language is not supported by <span style="font-style: italic;"><i>NagVis</i></span>? No problem! You can easily build your own language file.</p>
<p>If you built a new language file or fixed sth. in existing language files you're welcome to submit the file to us so we can implement it in the next NagVis release or publish it on Nagvis.org.</p>
<h3><a name="MiniTOCBookMark17" id="MiniTOCBookMark17"></a>Macros</h3>
<p>There is support for replacing given strings with some other values.</p>
<p>An example for a macro is the string <span class="CodeInline">[USER]</span>. This string will be replaced before displaying in NagVis when the language entry supports it.</p>
<h3><a name="MiniTOCBookMark18" id="MiniTOCBookMark18"></a>Default Macros</h3>
<p>Default Macros are sth. like HTML-Tags which don't have to be defined by the user. At the moment the following default macros are supported:</p>
<table cellspacing="0" width="800">
<col width="400" />
<col width="400" />
<tr style="height: 0px;">
<td style="vertical-align: top; border-top: Solid 2px #ffffff; border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTableBoldCenter" style="color: #000000;">Macro</p>
</td>
<td style="vertical-align: top; border-top: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">
<p class="NormalTableBoldCenter" style="color: #000000;">Replaced by</p>
</td>
</tr>
<tr style="height: 0px;">
<td style="vertical-align: top; border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">[i]</td>
<td style="vertical-align: top; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">&lt;i&gt;</td>
</tr>
<tr style="height: 0px;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">[/i]</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">&lt;/i&gt;</td>
</tr>
<tr style="height: 0px;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">[b]</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">&lt;b&gt;</td>
</tr>
<tr style="height: 0px;">
<td style="border-left: Solid 2px #ffffff; border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">[/b]</td>
<td style="border-right: Solid 2px #ffffff; border-bottom: Solid 2px #ffffff; vertical-align: top; padding-right: 5px; padding-left: 5px;" bgcolor="#EEEEEE">&lt;/b&gt;</td>
</tr>
</table>
<h3><a name="MiniTOCBookMark19" id="MiniTOCBookMark19"></a>Special Chars</h3>
<p>Special chars like ä,ö,ü,",',... have to be set as HTML-entities (e.g. &amp;nbsp;)</p>
<h2><a name="MiniTOCBookMark20" id="MiniTOCBookMark20"></a>Install Templates</h2>
<p>You can add templates to customize the look of header- and hover-menus. You can get some of these templates at the NagVis template download page.</p>
<p><i style="font-style: italic;">Please note:</i> The directory structure changed between the NagVis version several times. So there may be compatibility problems between the versions.</p>
<h3><a name="MiniTOCBookMark21" id="MiniTOCBookMark21"></a>Unpack Template</h3>
<p>Unpack the NagVis template in a path of your choice.</p>
<p class="CodeGroup">tar xvzf NagVis-Template-&lt;name&gt;-&lt;version&gt;.tar.gz</p>
<h3><a name="MiniTOCBookMark22" id="MiniTOCBookMark22"></a>Install NagVis-Template</h3>
<p>Merge the <span style="font-style: italic;"><i>NagVis-Template</i></span> directory tree with your <span style="font-style: italic;"><i>NagVis Folder</i></span>:</p>
<p>Default: <span class="CodeInline">/usr/local/groundwork/nagvis/share/userfiles/templates</span></p>
<p class="CodeGroup">cp -r nagvis /usr/local/groundwork/nagvis/share/userfiles/templates</p>
<h3><a name="MiniTOCBookMark23" id="MiniTOCBookMark23"></a>Configure</h3>
<p>Now you should be able to use the new template in <span style="font-style: italic;"><i>NagVis</i></span>. You only have to configure the maps or objects to use the template.</p>
<h3><a name="MiniTOCBookMark24" id="MiniTOCBookMark24"></a>Header-Templates</h3>
<p>You can set the header template in the main configuration of NagVis or in the global section of the map configuration. For details see <a href="views_configurationformat.htm">Map Configuration Format Description</a>.</p>
<h3><a name="MiniTOCBookMark25" id="MiniTOCBookMark25"></a>Hover-Templates</h3>
<p>You can set the hover template in the main configuration for all your maps, in the global section of a map for all the objects on this map or in each object for having a custom hover menu for special objects. For details see <a href="views_configurationformat.htm">Map Configuration Format Description</a>.</p>
<h2><a name="MiniTOCBookMark26" id="MiniTOCBookMark26"></a>Custom Context Menu Actions</h2>
<h3><a name="MiniTOCBookMark27" id="MiniTOCBookMark27"></a>Introduction</h3>
<p><img src="Assets/nagvis-1.4-context-ssh-1.png" alt="nagvis-1.4-context-ssh-1.png" style="border: none; margin-left: 3px; margin-right: 3px; margin-top: 3px; margin-bottom: 3px;" width="211" height="119" align="left" border="0" />The context menus basically are right-click menus on the status icons. You can customize these menus by simply editing some template files. The template files are simple html files including some macros which are replaced during render time in <span style="font-style: italic;"><i>NagVis</i></span>.</p>
<p>The context menus give you the ability to improve your administrative workflow with the monitoring information dramatically. Imagine you have a NagVis map as the primary user interface to gather status information about your systems and even as a base to control your systems. Imagine you can view status information from <span style="font-style: italic;"><i>NagVis</i></span> and simply connect to the problematic systems by ssh or via terminal session by just two clicks. It is also possible to store some default recover jobs in scripts or anything else.</p>
<p>Take a look at this guide to get some ideas of the power of this new feature.</p>
<h3><a name="MiniTOCBookMark28" id="MiniTOCBookMark28"></a>Quick How-To</h3>
<p>This is a quick how-to to add a "connect by ssh" option to the NagVis hosts context menu. Most of the changes have to be made on the client browsers to get it handle ssh connections. In this guide I am using the firefox on Ubuntu. It is no problem to get this work on other systems like Windows.</p>
<ol type="1">
<li>
<p class="Numbering">Read basics about context templates</p>
</li>
</ol>
<ol start="2" type="1">
<li>
<p class="Numbering" style="margin-left: 0px;">Create custom context template</p>
</li>
</ol>
<p style="margin-left: 40px;">Just copy the default context template:</p>
<p class="GroupCode2">cd /usr/local/groundwork/nagvis</p>
<p class="GroupCode2">cp share/userfiles/templates/default.context.html share/userfiles/templates/default-ssh.context.html</p>
<p style="margin-left: 40px;">Now add a line to the host specific macro section like follows:</p>
<p class="GroupCode2">&lt;li&gt;&lt;a href="ssh://[address]"&gt;[lang_connect_by_ssh]&lt;/a&gt;&lt;/li&gt;</p>
<p style="margin-left: 40px;">The template is finished.</p>
<ol start="3" type="1">
<li>
<p class="Numbering">Configure host to use the new template</p>
</li>
</ol>
<p style="margin-left: 40px;">Set the option to use the new template called default-ssh:</p>
<p class="GroupCode2">context_menu=true</p>
<p class="GroupCode2">context_template=default-ssh</p>
<p style="margin-left: 40px;">You can set this option in the global section of a map, in a host object or even a template which is used in a host object.</p>
<ol start="4" type="1">
<li>
<p class="Numbering">Configure your client to handle ssh:// uris</p>
</li>
</ol>
<p style="margin-left: 40px;">In this case I configure firefox on Ubuntu Linux. This may differ on your system. Open <span class="CodeInline">about:config</span> in your firefox. Add some new options:</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;"><span style="font-weight: bold;"><b>Name</b></span>: network.protocol-handler.app.ssh</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;"><span style="font-weight: bold;"><b>Type</b></span>: String</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;"><span style="font-weight: bold;"><b>Value</b></span>: /usr/local/bin/ssh-connect-handler</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;">&#160;</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;"><span style="font-weight: bold;"><b>Name</b></span>: network.protocol-handler.expose.ssh</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;"><span style="font-weight: bold;"><b>Type</b></span>: Boolean</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;"><span style="font-weight: bold;"><b>Value</b></span>: true</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;">&#160;</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;"><span style="font-weight: bold;"><b>Name</b></span>: network.protocol-handler.external.ssh</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;"><span style="font-weight: bold;"><b>Type</b></span>: Boolean</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;"><span style="font-weight: bold;"><b>Value</b></span>: true</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;">&#160;</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;"><span style="font-weight: bold;"><b>Name</b></span>: network.protocol-handler.warn-external.ssh</p>
<p style="margin-left: 40px; margin-top: 6px; margin-bottom: 6px; line-height: Normal;"><span style="font-weight: bold;"><b>Type</b></span>: Boolean</p>
<p style="margin-left: 40px;"><span style="font-weight: bold;"><b>Value</b></span>: false</p>
<ol start="5" type="1">
<li>
<p class="Numbering">Create a handler script</p>
</li>
</ol>
<p style="margin-left: 40px;">Create the script at the given script path. In my case it is: <span class="CodeInline">/usr/local/bin/ssh-connect-handler</span></p>
<p style="margin-left: 40px;">#!/bin/bash</p>
<p style="margin-left: 40px;">xterm -e ssh ${1#ssh:\/\/*}</p>
<p style="margin-left: 40px;">You need to make this script executable.</p>
<p class="GroupCode2">chmod +x /usr/local/bin/ssh-connect-handler</p>
<ol start="6" type="1">
<li>
<p class="Numbering">Test handler script:</p>
</li>
</ol>
<p style="margin-left: 40px;">Just enter <span class="CodeInline">ssh://&lt;test-host&gt;</span> in your browser address bar and press enter. If an xterm with the ssh session opens everything is ok here.</p>
<ol start="7" type="1">
<li>
<p class="Numbering">Test context links:</p>
</li>
</ol>
<p style="margin-left: 40px;">Now open the map you configured the new context template usage. Then right-click the host you configured and hit the menu entry "Connect by ssh". A terminal window should open now.</p>
<h3><a name="MiniTOCBookMark29" id="MiniTOCBookMark29"></a>Perspective</h3>
<p>With this knowledge you are ready to configure <span style="font-style: italic;"><i>NagVis</i></span> to be the core of your daily administrative and monitoring tasks. Be creative now!</p>
<p>We like you to give us some feedback on this feature and how you use it.</p>
<div style="width: 100%; position: relative;" id="footer">
<p class="Footer" style="font-size: 7pt; line-height: Normal; margin-top: 6pt; margin-bottom: 4pt;">GroundWork, Inc. ©2011</p>
</div>
<script type="text/javascript" language="javascript1.2">
//<![CDATA[
<!--
if (window.writeIntopicBar)
        writeIntopicBar(0);


highlightSearch();
//-->
//]]>
</script>
</body>
</html>
