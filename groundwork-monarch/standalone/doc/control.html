<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en">
  <head>
<title>Using the Control Option</title>
<link rel="stylesheet" type="text/css" href="/monarch/groundwork.css"/>
  </head>
  <body>
<!-- Start Main table-->
<table class="main" border="0" cellpadding="1" cellspacing="0">
  <tbody>
  <tr>
    <td valign="top"><h1 class="chapter"> <img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> Using the Control Option</h1>
    <h4>Copyright 2006 GroundWork Open Source, Inc. ("GroundWork").<br />
    All rights reserved. Use is subject to GroundWork commercial license.</h4>
<!-- Start Main Contents -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
  <tbody>
  <tr class="windowHeader">
    <td class="windowHeader">Contents</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
<!-- TOC -->
    <ul class="level01">
        <li><a href="#s5chapter12a">How Do I View My Current Nagios&#174; and Configuration Folders?</a></li>
        <li><a href="#s5chapter12b">How Do I View/Edit Settings in the Nagios&#174; CGI Configuration?</a></li>
        <li><a href="#s5chapter12c">How Do I View/Edit Settings in Nagios&#174; Main Configuration?</a></li>
        <li><a href="#s5chapter12d">How Do I View Nagios&#174; Resource Macros?</a></li>
        <li><a href="#s5chapter12e">How Do I Load a Nagios&#174; Configuration?</a></li>
        <li><a href="#s5chapter12g">How Do I Run a Pre Flight Test?</a></li>
        <li><a href="#s5chapter12h">How Do I Commit a Nagios&#174; Configuration?</a></li>
    </ul>
    </td>
  </tr>
</tbody>
</table>
    </td>
  </tr>
  <tr>
    <td>
<!-- Start Section 3 -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
<tbody>
  <tr class="windowHeader">
    <td class="windowHeader"><a name="section1"></a>Using the Control Option</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
<!-- How Do I Use Setup -->
    <a name="s5chapter12a"></a><h1 class="chapter"> <img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I View My Current Nagios&#174; and Configuration Folders?</h1>
<hr />
    <h2 class="smMargin">Setup</h2>
    <ol>
      <li>Select <b>Control</b> from the Configuration menu options.</li>
      <li>Select <b>Setup</b>.</li>
      <li>The <b>Setup</b> screen showing the current Nagios&#174; and Configuration folders will be displayed, (see <b>Table 5.12.1a.</b> below).</li>
      <li>You can also enable Externals from this screen by chekcing the box next to <b>Enable Externals</b>. Host and Service Externals will then show up under the Host and Service Configuration options.</li>
      <li>After any edits select <b>Save</b>. You will be prompted in the next screen that the changes to setup have been accepted. Select <b>Close</b>. <b>Cancel</b> will exit you out of the Setup screen without saving changes.
    <h4>Figure 5.12.1a. Setup</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter12_1a.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.12.1a. Setup</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" class="row1"><b>Nagios&#174; Version</b></td>
    <td>The Nagios&#174; version you are using.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Nagios&#174; etc</b></td>
    <td>Path to the folder containing nagios.cfg.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Nagios&#174; Bin</b></td>
    <td>Path to the folder containing the Nagios&#174; binary.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Configuration Home</b></td>
    <td>The Configuration installation path. Your web server must have read write access.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Backup dir</b></td>
    <td>This folder is used to backup your Nagios&#174; files and the Monarch database. Your web server must have read write access.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Enable Externals</b></td>
    <td>This is an advanced feature that requires some knowledge of PERL. Externals are configuration data not directly related to Nagios&#174;, but can be useful when integrating other tools. Externals can be assigned to hosts and services. Your knowledge of PERL will be required to modify MonarchExternals.pm. Check this box and Save Setup to display the Run Externals option in the left navigation. Select Run Externals to execute your code in  MonarchExternals.pm.</td>
  </tr>
</tbody>
</table>
      </li>
    </ol>
    </td>
  </tr>
</tbody>
</table>
    </td>
  </tr>
  <tr>
    <td>
<!-- Start Section 4 -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
<tbody>
  <tr class="windowHeader">
    <td class="windowHeader"><a name="section1"></a>Using the Control Option</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
<!-- How Do I Use Nagios CGI -->
    <a name="s5chapter12b"></a><h1 class="chapter"> <img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I View/Edit Settings in Nagios&#174; CGI?</h1>
<hr />
    <h2 class="smMargin">Step 1 - Nagios&#174; CGI Configuration</h2>
    <ol>
      <li>Select <b>Control</b> from the Configuration menu options.</li>
      <li>Select <b>Nagios&#174; CGI Configuration</b>.</li>
      <li>In the <b>Setup</b> screen, enter the properties (see <b>Table 5.12.2a</b> below).</li>
      <li>Select <b>Save and Next</b> to proceed to the next screen.
    <h4>Figure 5.12.2a. Nagios&#174; CGI Configuration Page 1</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter12_2a.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.12.2a. Nagios&#174; CGI Configuration Page 1</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" class="row1"><b>Physical HTML Path</b></td>
    <td>This is the path where the HTML files for Nagios&#174; reside.  This value is used to locate the logo images needed by the statusmap and statuswrl CGIs.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>URL HTML Path</b></td>
    <td>This is the path portion of the URL that corresponds to the physical location of the Nagios&#174; HTML files (as defined above). This value is used by the CGIs to locate the online documentation and graphics.  If you access the Nagios&#174; pages with a URL like http://www.myhost.com/nagios, this value should be '/nagios' (without the quotes).</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Context Sensitive Help</b></td>
    <td>This option determines whether or not a context-sensitive help icon will be displayed for most of the CGIs. Values: unchecked = disables context-sensitive help checked = enables context-sensitive help.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Nagios&#174; Check Command</b></td>
    <td>This is the full path and filename of the program used to check the status of the Nagios&#174; process.  It is used only by the CGIs and is completely optional.  However, if you don't use it, you'll see warning messages in the CGIs about the Nagios&#174; process not running and you won't be able to execute any commands from the web interface.  The program should follow the same rules as plugins; the return codes are the same as for the plugins, it should have timeout protection, it should output something to STDIO, etc. (Note: If you are using the check_nagios plugin here, the first argument should be the physical path to the status log, the second argument is the number of minutes that the status log contents should be 'fresher' than, and the third argument is the string that should be matched from the output of the 'ps' command in order to locate the running Nagios&#174; process.  That process string is going to vary depending on how you start Nagios&#174;.  Run the 'ps' command manually to see what the command line entry for the Nagios&#174; process looks like.)</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Use Authentication</b></td>
    <td>This option controls whether or not the CGIs will use any authentication when displaying Host and Service information, as well as committing commands to Nagios&#174; for processing. Read the HTML documentation to learn how the authorization works! (NOTE: It is a really *bad* idea to disable authorization, unless you plan on removing the command CGI (cmd.cgi)!)  Failure to do so will leave you wide open to kiddies messing with Nagios&#174; and possibly hitting you with a denial of Service attack by filling up your drive by continuously writing to your command file! Setting this value to unchecked will cause the CGIs to *not* use authentication (bad idea), while checked will make them use the authentication functions (the default).</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Default User</b></td>
    <td>Setting this variable will define a default user name that can access pages without authentication.  This allows people within a secure domain (i.e., behind a firewall) to see the current status without authenticating.  You may want to use this to avoid basic authentication if you are not using a secure server since basic authentication transmits passwords in the clear. Important:  Do not define a default username unless you are running a secure web server and are sure that everyone who has access to the CGIs has been authenticated in some manner!  If you define this variable, anyone who has not authenticated to the web server will inherit all rights you assign to this user!</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>System/Process Information Access</b></td>
    <td>This option is a comma separated list of all usernames that have access to viewing the Nagios&#174; process information as provided by the Extended Information CGI (extinfo.cgi).  By default, *no one* has access to this unless you choose to not use authorization.  You may use an asterisk (*) to authorize any user who has authenticated to the web server.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>System/Process Command Access</b></td>
    <td>This option is a comma separated list of all usernames that can issue shutdown and restart commands to Nagios&#174; via the command CGI (cmd.cgi).  Users in this list can also change the program mode to active or standby. By default, *no one* has access to this unless you choose to not use authorization. You may use an asterisk (*) to authorize any user who has authenticated to the web server.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Configuration Information Access</b></td>
    <td>This option is a comma separated list of all usernames that can view ALL configuration information (Hosts, commands, etc). By default, users can only view configuration information for the Hosts and Services they are contacts for. You may use an asterisk (*) to authorize any user who has authenticated to the web server.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Global Host Information Access</b></td>
    <td>This is a comma separated list of names of authenticated users who can view status and configuration information for all Hosts. Users in this list are also automatically authorized to view information for all Services. Users in this list are not automatically authorized to issue commands for all Hosts or Services. If you want users able to issue commands for all Hosts and Services as well, you must add them to the authorized_for_all_host_commands variable.</td>
  </tr>
</tbody>
</table>
</li>
</ol>
    <h2 class="smMargin">Step 2 - Nagios&#174; CGI Configuration</h2>
    <ol>
      <li>In the <b>Nagios&#174; CGI Configuration Page 2</b> screen, enter the properties (see <b>Table 5.12.2b</b> below).</li>
      <li>Select <b>Save and Done</b> to finalize changes.</li>
      <li>A screen will be displayed confirming your save. Select <b>Continue</b>.
    <h4>Figure 5.12.2b. Nagios&#174; CGI Configuration Page 2</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter12_2b.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.12.2b. Nagios&#174; CGI Configuration Page 2</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" class="row1"><b>Global Host Command Access</b></td>
    <td>This is a comma separated list of names of authenticated users who can issue commands for all Hosts via the command CGI. Users in this list are also automatically authorized to issue commands for all Services. Users in this list are not automatically authorized to view status or configuration information for all Hosts or Services. If you want users able to view status and configuration information for all Hosts and Services as well, you must add them to the authorized_for_all_hosts variable.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Global Service Information Access</b></td>
    <td>This is a comma separated list of names of authenticated users who can view status and configuration information for all Services. Users in this list are not automatically authorized to view information for all Hosts. Users in this list are not automatically authorized to issue commands for all Services. If you want users able to issue commands for all Services as well, you must add them to the authorized_for_all_service_commands variable.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Global Service Command Access</b></td>
    <td>This is a comma separated list of names of authenticated users who can issue commands for all Services via the command CGI. Users in this list are not automatically authorized to issue commands for all Hosts. Users in this list are not automatically authorized to view status or configuration information for all Hosts. If you want users able to view status and configuration information for all Services as well, you must add them to the authorized_for_all_services variable.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Statusmap Background Image</b></td>
    <td>This option allows you to specify an image to be used as a background in the statusmap CGI.  It is assumed that the image resides in the HTML images path (i.e. /usr/local/nagios/share/images). This path is automatically determined by appending '/images' to the path specified by the 'physical_html_path' directive. Note:  The image file must be in GD2 format!</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Default Statusmap Layout</b></td>
    <td>This option allows you to specify the default layout method the statusmap CGI should use for drawing Hosts.  If you do not use this option, the default is to use user-defined coordinates.  Valid options are as follows: User-defined coordinates, Depth layers, Collapsed tree, Balanced tree, Circular, Circular (Marked Up)</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Default Statuswrl Layout</b></td>
    <td>This option allows you to specify the default layout method the statuswrl (VRML) CGI should use for drawing Hosts.  If you do not use this option, the default is to use user-defined coordinates.  Valid options are as follows: User-defined coordinates, Collapsed tree, Balanced tree, Circular</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Statuswrl Include</b></td>
    <td>This option allows you to include your own objects in the generated VRML world.  It is assumed that the file resides in the HTML path (i.e. /usr/local/nagios/share).</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Ping Syntax</b></td>
    <td>This option determines what syntax should be used when attempting to ping a Host from the WAP interface (using the statuswml CGI).  You must include the full path to the ping binary, along with all required options.  The $HOSTADDRESS$ macro is substituted with the address of the Host before the command is executed.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Refresh Rate</b></td>
    <td>This option allows you to specify the refresh rate in seconds of various CGIs (status, statusmap, extinfo, and outages).</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Audio Alerts</b></td>
    <td>These options allow you to specify an optional audio file that should be played in your browser window when there are problems on the network.  The audio files are used only in the status CGI.  Only the sound for the most critical problem will be played.  Order of importance (higher to lower) is as follows: unreachable Hosts, down Hosts, critical Services, warning Services, and unknown Services. If there are no visible problems, the sound file optionally specified by 'normal_sound' variable will be played. Note: All audio files must be placed in the /media subdirectory under the HTML path (i.e. /usr/local/nagios/share/media/).</td>
  </tr>
</tbody>
</table>
      </li>
    </ol>
    </td>
  </tr>
</tbody>
</table>
    </td>
  </tr>
  <tr>
    <td>
<!-- Start Section 5 -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
<tbody>
  <tr class="windowHeader">
    <td class="windowHeader"><a name="section1"></a>Using the Control Option</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
<!-- How Do I Use Nagios Main Configuration -->
    <a name="s5chapter12c"></a><h1 class="chapter"> <img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I View/Edit Settings in the Nagios&#174; Main Configuration?</h1>
<hr />
    <h2 class="smMargin">Step 1 - Using Nagios&#174; Main Configuration</h2>
    <ol>
      <li>Select <b>Control</b> from the Configuration menu options.</li>
      <li>Expand the <b>Nagios&#174; Main Configuration</b> drop-down menu.</li>
      <li>Select <b>Load Nagios&#174; Cfg</b> option.</li>
      <li>In the <b>Nagios&#174; Main Configuration Page 1</b> screen, enter the properties (see <b>Table 5.12.3a.</b> below).</li>
      <li>Select <b>Save and Next</b> to proceed to the next screen.
    <h4>Figure 5.12.3a. Nagios&#174; Main Configuration Page 1</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter12_3a.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.12.3a. Nagios&#174; Main Configuration Page 1</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Log File</b></td>
    <td>This is the main log file where Service and Host events are logged for historical purposes.  This should be the first option specified in the config file!</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Object Cache File</b></td>
    <td>This directive is used to specify a file in which a cached copy of object definitions should be stored. The cache file is (re)created every time Nagios&#174; is (re)started and is used by the CGIs. It is intended to speed up config file caching in the CGIs and allow you to edit the source object config files while Nagios&#174; is running without affecting the output displayed in the CGIs.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Resource File</b></td>
    <td>This is an optional resource file that contains $USERx$ macro definitions. Multiple resource files can be specified by using multiple resource_file definitions.  The CGIs will not attempt to read the contents of resource files, so information that is considered to be sensitive (usernames, passwords, etc) can be defined as macros in this file and restrictive permissions (600) can be placed on this file.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Status File</b></td>
    <td>This is where the current status of all monitored Services and Hosts is stored.  Its contents are read and processed by the CGIs. The contents of the status file are deleted every time Nagios&#174; restarts.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Aggregated Status Updates Option</b></td>
    <td>This option determines whether or not Nagios&#174; will aggregate updates of Host, Service, and program status data. If you do not enable this option, status data is updated every time a Host or Service check occurs. This can result in high CPU loads and file I/O if you are monitoring a lot of Services. If you want Nagios&#174; to only update status data (in the status file) every few seconds (as determined by the status_update_interval option), enable this option. If you want immediate updates, disable it. I would highly recommend using aggregated updates (even at short intervals) unless you have good reason not to.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Aggregated Status Data Update Interval</b></td>
    <td>This setting determines how often (in seconds) that Nagios&#174; will update status data in the status file. The minimum update interval is five seconds. If you have disabled aggregated status updates (with the aggregate_status_updates option), this option has no effect.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Nagios&#174; User</b></td>
    <td>This determines the effective user that Nagios&#174; should run as. You can either supply a username or a UID.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Nagios&#174; Group</b></td>
    <td>This determines the effective group that Nagios&#174; should run as. You can either supply a group name or a GID.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Enable Notifications</b></td>
    <td>This option determines whether or not Nagios&#174; will send out Notifications when it initially (re)starts. If this option is disabled, Nagios&#174; will not send out Notifications for any Host or Service. Note: If you have state retention enabled, Nagios&#174; will ignore this setting when it (re)starts and use the last known setting for this option (as stored in the state retention file), unless you disable the use_retained_program_state option. If you want to change this option when state retention is active (and the use_retained_program_state is enabled), you'll have to use the appropriate external command or change it via the web interface.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Execute Service Checks</b></td>
    <td>This option determines whether or not Nagios&#174; will execute Service checks when it initially (re)starts. If this option is disabled, Nagios&#174; will not actively execute any Service checks and will remain in a sort of "sleep" mode (it can still accept passive checks unless you've disabled them). This option is most often used when configuring backup monitoring servers, as described in the documentation on redundancy, or when setting up a distributed monitoring environment. Note: If you have state retention enabled, Nagios&#174; will ignore this setting when it (re)starts and use the last known setting for this option (as stored in the state retention file), unless you disable the use_retained_program_state option. If you want to change this option when state retention is active (and the use_retained_program_state is enabled), you'll have to use the appropriate external command or change it via the web interface.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Accept Passive Service Checks</b></td>
    <td>This option determines whether or not Nagios&#174; will accept passive Service checks when it initially (re)starts. If this option is disabled, Nagios&#174; will not accept any passive Service checks. Note: If you have state retention enabled, Nagios&#174; will ignore this setting when it (re)starts and use the last known setting for this option (as stored in the state retention file), unless you disable the use_retained_program_state option. If you want to change this option when state retention is active (and the use_retained_program_state is enabled), you'll have to use the appropriate external command or change it via the web interface.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Execute Host Checks</b></td>
    <td>This option determines whether or not Nagios&#174; will execute on-demand and regularly scheduled Host checks when it initially (re)starts. If this option is disabled, Nagios&#174; will not actively execute any Host checks, although it can still accept passive Host checks unless you've disabled them. This option is most often used when configuring backup monitoring servers, as described in the documentation on redundancy, or when setting up a distributed monitoring environment. Note: If you have state retention enabled, Nagios&#174; will ignore this setting when it (re)starts and use the last known setting for this option (as stored in the state retention file), unless you disable the use_retained_program_state option. If you want to change this option when state retention is active (and the use_retained_program_state is enabled), you'll have to use the appropriate external command or change it via the web interface. Checked = Execute Host checks.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Accept Passive Host Checks</b></td>
    <td>This option determines whether or not Nagios&#174; will accept passive Host checks when it initially (re)starts. If this option is disabled, Nagios&#174; will not accept any passive Host checks. Note: If you have state retention enabled, Nagios&#174; will ignore this setting when it (re)starts and use the last known setting for this option (as stored in the state retention file), unless you disable the use_retained_program_state option. If you want to change this option when state retention is active (and the use_retained_program_state is enabled), you'll have to use the appropriate external command or change it via the web interface. Checked = Accept passive host checks</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Enable Event Handlers</b></td>
    <td>This option determines whether or not Nagios&#174; will run event handlers when it initially (re)starts. If this option is disabled, Nagios&#174; will not run any Host or Service event handlers. Note: If you have state retention enabled, Nagios&#174; will ignore this setting when it (re)starts and use the last known setting for this option (as stored in the state retention file), unless you disable the use_retained_program_state option. If you want to change this option when state retention is active (and the use_retained_program_state is enabled), you'll have to use the appropriate external command or change it via the web interface.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Log Rotation Method</b></td>
    <td>This is the log rotation method that Nagios&#174; should use to rotate the main log file. Values are as follows. n = None - don't rotate the log. h = Hourly rotation (top of the hour). d = Daily rotation (midnight every day). w = Weekly rotation (midnight on Saturday evening). m = Monthly rotation (midnight last day of month)</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Log Archive Path</b></td>
    <td>This is the directory where archived (rotated) log files should be placed (assuming you've chosen to do log rotation).</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Check External Commands</b></td>
    <td>This option allows you to specify whether or not Nagios&#174; should check for external commands (in the command file defined below).  By default Nagios&#174; will *not* check for external commands, just to be on the cautious side.  If you want to be able to use the CGI command interface you will have to enable this.  Setting this value to unchecked disables command checking (the default), other values enable it.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Command Check Interval</b></td>
    <td>This is the interval at which Nagios&#174; should check for external commands. This is a value  of the interval_length that you specify later.  If you leave that at its default value of 60 (seconds), a value of 1 here will cause Nagios&#174; to check for external commands every minute.  If you specify a number followed by an 's' (i.e. 15s), this will be interpreted to mean actual seconds rather than a multiple of the interval_length variable. Note: In addition to reading the external command file at regularly scheduled intervals, Nagios&#174; will also check for external commands after event handlers are executed. NOTE: Setting this value to -1 causes Nagios&#174; to check the external command file as often as possible.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>External Command File</b></td>
    <td>This is the file that Nagios&#174; checks for external command requests. It is also where the command CGI will write commands that are submitted by users, so it must be writeable by the user that the web server is running as (under Linux, usually 'nobody').  Permissions should be set at the directory level instead of on the file, as the file is deleted every time its contents are processed.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Downtime File</b></td>
    <td>This is the file that Nagios&#174; will use for storing Host and Service downtime data.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Comment File</b></td>
    <td>This is the file that Nagios&#174; will use for storing Host and Service comments.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Lock File</b></td>
    <td>This is the lockfile that Nagios&#174; will use to store its PID number in when it is running in daemon mode.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>State Retention Option</b></td>
    <td>This setting determines whether or not Nagios&#174; will save state information for Services and Hosts before it shuts down. Upon startup Nagios&#174; will reload all saved Service and Host state information before starting to monitor.  This is useful for maintaining long-term data on state statistics, etc, but will slow Nagios&#174; down a bit when it (re)starts.  Since it's only a one-time penalty, I think its well worth the additional startup delay. Checked = enabled.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>State Retention File</b></td>
    <td>This is the file that Nagios&#174; should use to store Host and Service state information before it shuts down. The state information in this file is also read immediately prior to starting to monitor the network when Nagios&#174; is restarted. This file is used only if the preserve_state_information variable is checked.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Retention Update Interval</b></td>
    <td>This setting determines how often (in minutes) that Nagios&#174; will automatically save retention data during normal operation. If you set this value to 0, Nagios&#174; will not save retention data at regular intervals, but it will still save retention data before shutting down or restarting.  If you have disabled state retention, this option has no effect.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Use Retained Program State</b></td>
    <td>This setting determines whether or not Nagios&#174; will set program status variables based on the values saved in the retention file.  If you want to use retained program status information, set this value to 1.  If not, set this value to 0.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Use Retained Scheduling Info Option</b></td>
    <td>This setting determines whether or not Nagios&#174; will retain scheduling info (next check times) for hosts and services when it restarts. If you are adding a large number (or percentage) of hosts and services, I would recommend disabling this option when you first restart Nagios&#174;, as it can adversely skew the spread of initial checks. Otherwise you will probably want to leave it enabled. 0 = Don't use retained scheduling info and 1 = Use retained scheduling info (default).</td>
  </tr>
</tbody>
</table>
</li>
</ol>
    <h2 class="smMargin">Step 2 - Using Nagios&#174; Main Configuration</h2>
    <ol>
      <li>In the <b>Nagios&#174; Main Configuration Page 2</b> screen, enter the properties (see <b>Table 5.12.3b.</b> below).</li>
      <li>Select <b>Save and Next</b> to proceed to the next screen.
    <h4>Figure 5.12.3b. Nagios&#174; Main Configuration Page 2</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter12_3b.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.12.3b. Nagios&#174; Main Configuration Page 2</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Syslog Logging Option</b></td>
    <td>If you want messages logged to the syslog facility, as well as the NetAlarm log file set this option to checked.  If not, set it to unchecked.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Log Notifications</b></td>
    <td>If you don't want Notifications to be logged, set this value to unchecked. If Notifications should be logged, set the value to checked.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Host Check Retry Logging Option</b></td>
    <td>If you don't want Host check retries to be logged, set this value to unchecked.  If retries should be logged, set the value to checked.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Service Check Retry Logging Option</b></td>
    <td>If you don't want Service check retries to be logged, set this value to unchecked.  If retries should be logged, set the value to checked.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Event Handler Logging Option</b></td>
    <td>If you don't want Host and Service event handlers to be logged, set this value to unchecked.  If event handlers should be logged, set the value to checked.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Initial States Logging Option</b></td>
    <td>If you want Nagios&#174; to log all initial Host and Service states to the main log file (the first time the Service or Host is checked) you can enable this option by setting this value to checked.  If you are not using an external application that does long term state statistics reporting, you do not need to enable this option.  In this case, set the value to unchecked.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>External Command Logging Option</b></td>
    <td>If you don't want Nagios&#174; to log external commands, set this value to unchecked.  If external commands should be logged, set this value to checked. Note: This option does not include logging of passive Service checks - see the option below for controlling whether or not passive checks are logged.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Passive Check Logging Option</b></td>
    <td>If you don't want Nagios&#174; to log passive Service checks, set this value to unchecked.  If passive Service checks should be logged, set this value to checked.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Global Host Event Handler</b></td>
    <td>This option allows you to specify a Host event handler command that is to be run for every Host state change. The global event handler is executed immediately prior to the event handler that you have optionally specified in each Host definition. The command argument is the short name of a command definition that you define in your Host configuration file. Read the Nagios&#174; HTML docs for more information.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Global Service Event Handler</b></td>
    <td>This option allows you to specify a Service event handler command that is to be run for every Host state change. The global event handler is executed immediately prior to the event handler that you have optionally specified in each Service definition. The command argument is the short name of a command definition that you define in your Host configuration file. Read the Nagios&#174; HTML docs for more information.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Sleep Time</b></td>
    <td>This is the number of seconds to sleep between checking for system events and Service checks that need to be run.  I would recommend *not* changing this from its default value of 1 second.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Inter Check Delay Method</b></td>
    <td>This is the method that Nagios&#174; should use when initially 'spreading out' Service checks when it starts monitoring. The default is to use smart delay calculation, which will try to space all Service checks out evenly to minimize CPU load. Using the dumb setting will cause all checks to be scheduled at the same time (with no delay between them)!  This is not a good thing for production, but is useful when testing the parallelization functionality. None: selected = None - don't use any delay between checks. Dumb: selected = Use a 'dumb' delay of 1 second between checks. Smart: selected = Use 'smart' inter-check delay calculation. Delay: selected = Enter an user-specified delay of x.xx seconds.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Max Service Check Spread</b></td>
    <td>This option determines the maximum number of minutes from when Nagios&#174; starts that all Services (that are scheduled to be regularly checked) are checked. This option will automatically adjust the Service inter-check delay (if necessary) to ensure that the initial checks of all Services occur within the timeframe you specify. In general, this option will not have an effect on Service check scheduling if scheduling information is being retained using the use_retained_scheduling_info option.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Service Interleave Factor</b></td>
    <td>This variable determines how Service checks are interleaved. Interleaving the Service checks allows for a more even distribution of Service checks and reduced load on remote Hosts.  Setting this value to 1 is equivalent to how versions of Nagios&#174; previous to 0.0.5 did Service checks.  Set this value to s (smart) for automatic calculation of the interleave factor unless you have a specific reason to change it. Smart: selected = Use 'smart' interleave factor calculation. Value: selected = Enter an interleave factor of x, where x is a number greater than or equal to 1.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Service Reaper Frequency</b></td>
    <td>This is the frequency (in seconds!) that Nagios&#174; will process the results of Services that have been checked.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Host Inter Check Delay Method</b></td>
    <td>This option allows you to control how Host checks that are scheduled to be checked on a regular basis are initially 'spread out' in the event queue. Using a 'smart' delay calculation (the default) will cause Nagios&#174; to calculate an average check interval and spread initial checks of all Hosts out over that interval, thereby helping to eliminate CPU load spikes. Using no delay is generally not recommended. Using no delay will cause all Host checks to be scheduled for execution at the same time. Values are as follows: None = Don't use any delay - schedule all Host checks to run immediately (i.e. at the same time!). Dumb = Use a 'dumb' delay of 1 second between Host checks. Smart = Use a 'smart' delay calculation to spread Host checks out evenly (default). Use a user-specified delay of x.xx seconds.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Max Host Check Spread</b></td>
    <td>This option determines the maximum number of minutes from when Nagios&#174; starts that all Hosts (that are scheduled to be regularly checked) are checked. This option will automatically adjust the Host inter-check delay (if necessary) to ensure that the initial checks of all Hosts occur within the timeframe you specify. In general, this option will not have an effect on Host check scheduling if scheduling information is being retained using the use_retained_scheduling_info option.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Max Concurrent Service Checks</b></td>
    <td>This option allows you to specify the maximum number of Service checks that can be run in parallel at any given time. Specifying a value of 1 for this variable essentially prevents any Service checks from being parallelized.  A value of 0 will not restrict the number of concurrent checks that are being executed.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Timing Interval Length</b></td>
    <td>This is the seconds per unit interval as used in the host/contact/service configuration files.  Setting this to 60 means that each interval is one minute long (60 seconds).  Other settings have not been tested much, so your mileage is likely to vary...</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Auto-rescheduling Option</b></td>
    <td>This option determines whether or not Nagios&#174; will attempt to automatically reschedule active Host and Service checks to 'smooth' them out over time. This can help to balance the load on the monitoring server, as it will attempt to keep the time between consecutive checks consistent, at the expense of executing checks on a more rigid schedule. Checked = enabled. WARNING: THIS IS AN EXPERIMENTAL FEATURE AND MAY BE REMOVED IN FUTURE VERSIONS. ENABLING THIS OPTION CAN DEGRADE PERFORMANCE - RATHER THAN INCREASE IT - IF USED IMPROPERLY!</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Auto-rescheduling Interval</b></td>
    <td>This option determines how often (in seconds) Nagios&#174; will attempt to automatically reschedule checks. This option only has an effect if the auto_reschedule_checks option is enabled. WARNING: THIS IS AN EXPERIMENTAL FEATURE AND MAY BE REMOVED IN FUTURE VERSIONS. ENABLING THE AUTO-RESCHEDULING OPTION CAN DEGRADE PERFORMANCE - RATHER THAN INCREASE IT - IF USED IMPROPERLY!</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Auto-rescheduling Window</b></td>
    <td>This option determines the 'window' of time (in seconds) that Nagios&#174; will look at when automatically rescheduling checks. Only Host and Service checks that occur in the next X seconds (determined by this variable) will be rescheduled. This option only has an effect if the auto_reschedule_checks option is enabled. WARNING: THIS IS AN EXPERIMENTAL FEATURE AND MAY BE REMOVED IN FUTURE VERSIONS. ENABLING THE AUTO-RESCHEDULING OPTION CAN DEGRADE PERFORMANCE - RATHER THAN INCREASE IT - IF USED IMPROPERLY!</td>
  </tr>
</tbody>
</table>
</li>
</ol>
    <h2 class="smMargin">Step 3 - Using Nagios&#174; Main Configuration</h2>
    <ol>
      <li>In the <b>Nagios&#174; Main Configuration Page 3</b> screen, enter the properties (see <b>Table 5.12.3c.</b> below).</li>
      <li>Select <b>Save and Next</b> to proceed to the next screen.
    <h4>Figure 5.12.3c. Nagios&#174; Main Configuration Page 3</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter12_3c.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.12.3c. Nagios&#174; Main Configuration Page 3</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Aggressive Host Checking Option</b></td>
    <td>Nagios&#174; tries to be smart about how and when it checks the status of Hosts. In general, disabling this option will allow Nagios&#174; to make some smarter decisions and check Hosts a bit faster. Enabling this option will increase the amount of time required to check Hosts, but may improve reliability a bit. Unless you have problems with Nagios&#174; not recognizing that a Host recovered, it is strongly recommended that you DO NOT enable this option. Values: checked = enable Aggressive Host checking, unchecked = do not aggressively check Hosts.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Flap Detection Option</b></td>
    <td>This option determines whether or not Nagios&#174; will try to detect Hosts and Services that are 'flapping'. Flapping occurs when a Host or Service changes between states too frequently.  When Nagios&#174; detects that a Host or Service is flapping, it will temporarily suppress Notifications for that Host/Service until it stops flapping.  Flap detection is very experimental, so read the HTML documentation before enabling this feature! Values: checked = enable flap detection unchecked = disable flap detection (default)</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Service Flap Detection Thresholds</b></td>
    <td>Read the Nagios&#174; HTML documentation on flap detection for an explanation of what this option does.  This option has no effect if flap detection is disabled.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Host Flap Detection Thresholds</b></td>
    <td>Read the Nagios&#174; HTML documentation on flap detection for an explanation of what this option does.  This option has no effect if flap detection is disabled.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Soft State Dependencies</b></td>
    <td>This option determines whether or not Nagios&#174; will use soft Service state information when checking Service dependencies. Normally Nagios&#174; will only use the latest hard Service state when checking dependencies. If you want it to use the latest state (regardless of whether its a soft or hard state type), enable this option.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Timeout Values</b></td>
    <td>These options control how much time Nagios&#174; will allow various types of commands to execute before killing them off.  Options are available for controlling maximum time allotted for Service checks, Host checks, event handlers, Notifications, the ocsp command, and performance data commands.  All values are in seconds.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Obsess Over Services</b></td>
    <td>This determines whether or not Nagios&#174; will obsess over Service checks and run the ocsp_command defined below.  Unless you're planning on implementing distributed monitoring, do not enable this option.  Read the HTML docs for more information on implementing distributed monitoring. Values: checked = obsess over services, unchecked = do not obsess (default)</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>OCSP Command</b></td>
    <td>This is the command that is run for every Service check that is processed by Nagios&#174;.  This command is executed only if the obsess_over_service option (above) is set to 1.  The command argument is the short name of a command definition that you define in your Host configuration file. Read the HTML docs for more information on implementing distributed monitoring.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Obsess Over Hosts Option</b></td>
    <td>This value determines whether or not Nagios&#174; will 'obsess' over host check results and run the obsessive compulsive host processor command you define. I know - funny name, but it was all I could think of. This option is useful for performing distributed monitoring. If you're not doing distributed monitoring, don't enable this option. Checked = enabled.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Obsessive Compulsive Host Processor Command</b></td>
    <td>This option allows you to specify a command to be run after every host check, which can be useful in distributed monitoring. This command is executed after any event handler or notification command. The command argument is the short name of a command definition that you define in your object configuration file. The maximum amount of time that this command can run is controlled by the ochp_timeout option. This command is only executed if the obsess_over_hosts option is enabled globally and if the obsess_over_host directive in the host definition is enabled.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Process Performance Data</b></td>
    <td>This determines whether or not Nagios&#174; will process performance data returned from Service and Host checks.  If this option is enabled, Host performance data will be processed using the Host perfdata command (defined below) and Service performance data will be processed using the Service perfdata command (also defined below).  Read the HTML docs for more information on performance data. Values: checked = process performance data, unchecked = do not process performance data.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Host Perfdata Command</b></td>
    <td>This option allows you to specify a command to be run after every Host check to process Host performance data that may be returned from the check. The command argument is the short name of a command definition that you define in your object configuration file. This command is only executed if the process_performance_data option is enabled globally and if the process_perf_data directive in the Host definition is enabled.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Service Perfdata Command</b></td>
    <td>This option allows you to specify a command to be run after every Service check to process Service performance data that may be returned from the check. The command argument is the short name of a command definition that you define in your object configuration file. This command is only executed if the process_performance_data option is enabled globally and if the process_perf_data directive in the Service definition is enabled.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Host Performance Data File</b></td>
    <td>This option allows you to specify a file to which Host performance data will be written after every Host check. Data will be written to the performance file as specified by the host_perfdata_file_template option. Performance data is only written to this file if the process_performance_data option is enabled globally and if the process_perf_data directive in the Host definition is enabled.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Service Performance Data File</b></td>
    <td>This option allows you to specify a file to which Service performance data will be written after every Service check. Data will be written to the performance file as specified by the service_perfdata_file_template option. Performance data is only written to this file if the process_performance_data option is enabled globally and if the process_perf_data directive in the Service definition is enabled.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Host Performance Data File Template</b></td>
    <td>This option determines what (and how) data is written to the Host performance data file. The template may contain macros, special characters (\t for tab, \r for carriage return, \n for newline) and plain text. A newline is automatically added after each write to the performance data file.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Service Performance Data File Template</b></td>
    <td>This option determines what (and how) data is written to the Service performance data file. The template may contain macros, special characters (\t for tab, \r for carriage return, \n for newline) and plain text. A newline is automatically added after each write to the performance data file.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Host Performance Data File Mode</b></td>
    <td>This option determines whether the Host performance data file is opened in write or append mode. Unless the file is a named pipe, you will probably want to use the default mode of append. a = Open file in append mode. w = Open file in write mode.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Service Performance Data File Mode</b></td>
    <td>This option determines whether the Service performance data file is opened in write or append mode. Unless the file is a named pipe, you will probably want to use the default mode of append. a = Open file in append mode. w = Open file in write mode.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Host performance Data File Processing Interval</b></td>
    <td>This option allows you to specify the interval (in seconds) at which the Host performance data file is processed using the Host performance data file processing command. A value of 0 indicates that the performance data file should not be processed at regular intervals.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Service Performance Data File Processing Interval</b></td>
    <td>This option allows you to specify the interval (in seconds) at which the Service performance data file is processed using the Service performance data file processing command. A value of 0 indicates that the performance data file should not be processed at regular intervals.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Host Performance Data File Processing Command</b></td>
    <td>This option allows you to specify the command that should be executed to process the Host performance data file. The command argument is the short name of a command definition that you define in your object configuration file. The interval at which this command is executed is determined by the host_perfdata_file_processing_interval directive.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Service Performance Data File Processing Command</b></td>
    <td>This option allows you to specify the command that should be executed to process the Service performance data file. The command argument is the short name of a command definition that you define in your object configuration file. The interval at which this command is executed is determined by the service_perfdata_file_processing_interval directive.</td>
  </tr>
</tbody>
</table>
</li>
</ol>
    <h2 class="smMargin">Step 4 - Using Nagios&#174; Main Configuration</h2>
    <ol>
      <li>In the <b>Nagios&#174; Main Configuration Page 4</b> screen, enter the properties (see <b>Table 5.12.3d.</b> below).</li>
      <li>Select <b>Save and Done</b> to keep the changes.</li>
      <li>A screen will be displayed confirming your save. Select <b>Continue</b>.
    <h4>Figure 5.12.3d. Nagios&#174; Main Configuration Page 4</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter12_3d.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.12.3d. Nagios&#174; Main Configuration Page 4</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Check for Orphaned Services</b></td>
    <td>This determines whether or not Nagios&#174; will periodically check for orphaned Services.  Since Service checks are not rescheduled until the results of their previous execution instance are processed, there exists a possibility that some checks may never get rescheduled.  This seems to be a rare problem and should not happen under normal circumstances. If you have problems with Service checks never getting rescheduled, you might want to try enabling this option. Values: checked = enable checks, unchecked = disable checks.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Check Service Freshness Option</b></td>
    <td>This option determines whether or not Nagios&#174; will periodically check the 'freshness' of Service results.  Enabling this option is useful for ensuring passive checks are received in a timely manner. Values: checked = enabled freshness checking, unchecked = disable freshness checking.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Service Freshness Check Interval</b></td>
    <td>This setting determines how often (in seconds) Nagios&#174; will check the 'freshness' of Service check results.  If you have disabled Service freshness checking, this option has no effect.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Check Host Freshness Option</b></td>
    <td>This option determines whether or not Nagios&#174; will periodically check the 'freshness' of Host checks. Enabling this option is useful for helping to ensure that passive Host checks are received in a timely manner. Checked = enabled.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Host Freshness Check Interval</b></td>
    <td>This setting determines how often (in seconds) Nagios&#174; will periodically check the 'freshness' of Host check results. If you have disabled Host freshness checking (with the check_host_freshness option), this option has no effect.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Date Format</b></td>
    <td>This option determines how short dates are displayed. US: MM-DD-YYYY HH:MM:SS, Euro DD-MM-YYYY HH:MM:SS, ISO8601 YYYY-MM-DD HH:MM:SS,Strict-ISO8601 YYYY-MM-DDTHH:MM:SS</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Illegal Object name Chars</b></td>
    <td>This option allows you to specify illegal characters that cannot be used in Host names, Service descriptions, or names of other object types.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Illegal Macro Output Chars</b></td>
    <td>This option allows you to specify illegal characters that are stripped from macros before being used in Notifications, event handlers, etc.  This DOES NOT affect macros used in Service or Host check commands. The following macros are stripped of the characters you specify: $OUTPUT$, $PERFDATA$.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Admin Email</b></td>
    <td>The email address of the administrator of *this* machine (the one doing the monitoring).  Nagios&#174; never uses this value itself, but you can access this value by using the $ADMINEMAIL$ macro in your Notification commands.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Admin Pager</b></td>
    <td>The pager number/address for the administrator of *this* machine. Nagios&#174; never uses this value itself, but you can access this value by using the $ADMINPAGER$ macro in your Notification commands.</td>
  </tr>
</tbody>
</table>
      </li>
    </ol>
    </td>
  </tr>
</tbody>
</table>
    </td>
  </tr>
  <tr>
    <td>
<!-- Start Section 6 -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
<tbody>
  <tr class="windowHeader">
    <td class="windowHeader"><a name="section1"></a>Using the Control Option</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
<!-- How Do I Use Nagios Resource Macros -->
    <a name="s5chapter12d"></a><h1 class="chapter"> <img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I View Nagios&#174; Resource Macros?</h1>
<hr />
    <h2 class="smMargin">Nagios&#174; Resource Macros</h2>
    <ol>
      <li>Select <b>Control</b> from the Configuration menu options.</li>
      <li>Select <b>Nagios&#174; Resource Macros</b>.</li>
      <li>In the <b>Nagios&#174; Resource Macros</b> screen select the macro to be configured.</li>
      <li>Select <b>Update</b> to save changes.
    <h4>Figure 5.12.4a. Nagios&#174; Resource Macros</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter12_4a.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.12.4a. Nagios&#174; Resource Macros</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" class="row1" width="30%"><b>Select Resource Macro</b></td>
    <td>Check the box of the Resource Macro to create/edit. The Macro will then be displayed at the top of the screen. Enter the Macro for the selected user. You may also add a comment which will be displayed as a mouse over in the listing of Resource Macros. Select <b>Update</b> to save any changes. Changes will then be displayed in the lower screen.</td>
  </tr>
</tbody>
</table>
      </li>
    </ol>
    </td>
  </tr>
</tbody>
</table>
    </td>
  </tr>
  <tr>
    <td>
<!-- Start Section 7 -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
<tbody>
  <tr class="windowHeader">
    <td class="windowHeader"><a name="section1"></a>Using the Control Option</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
<!-- How Do I Load Nagios Configuration -->
    <a name="s5chapter12e"></a><h1 class="chapter"> <img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I Load a Nagios&#174; Configuration?</h1>
<hr />
    <p>If you are a Nagios&#174; user, it's likely that you already have a working configuration that you would like to start with. If you are using Nagios&#174; 1.x, and would like to upgrade to 2.0, GroundWork Monitor Professional is an excellent way to convert existing files. Simply copy your existing files to the GroundWork server, change the path values in the nagios.cfg file to the <code class="bookshelfcode">/usr/local/groundwork/nagios/etc</code> directory for the configuration files, and change the location of the log file to <code class="bookshelfcode">/usr/local/groundwork/nagios/var/log</code> dir. You can then use the Configuration tab to load your files into the configuration package.</p>
    <p>Look under the Control submenu, and chose the Load option. Then, simply change the version of Nagios&#174; in the setup option, and the next time you commit changes, they will be in Nagios&#174; 2.0 format. Any missing directives that Nagios&#174; 2.0 requires will be detected on a Pre Flight Test, and you can easily add them via the web interface.</p>
    <h2 class="smMargin">Load Nagios&#174; Configuration</h2>
    <ol>
      <li>Select <b>Control</b> from the Configuration menu options.</li>
      <li>Select <b>Load</b>.</li>
      <li>In the <b>Load Nagios&#174; Configuration</b> screen it is suggested that the <b>Backup</b> option be used before updating the Nagios&#174; Configuration.</li>
      <li>After selecting <b>Backup</b> the next screen confirms the Backup and lists where the Backup is located. Select <b>Load</b> to continue.</li>
      <li>In the <b>Load Nagios&#174; Object Files</b> screen, the following four <b>Load Options</b> are displayed, select one of the options (and <i>Load Escalations</i> if desired:<br />
      <ul class="level01">
        <li>Update (default): Add and update objects from the file definitions. Note: Escalations are excluded unless you select <i>Load Escalations</i> below. Please note that Profile file associations revert to default values. Host Profiles: hosts.cfg and Service Profiles: services.cfg.</li>
        <li>Load Escalations: Replace Escalations from the file definitions. There is not option to update Escalations.</li>
        <li>Purge All: Completely clear all Nagios&#174; records, including profiles and their associations, from the database. This option will re-populate the database from the file definitions.</li>
        <li>Purge Nice: clear Nagios&#174; service related records, including Services, Service Dependencies, Service Templates, and Escalations, but preserve Hosts, Commands, Time Periods, Contacts, and Profiles (including Service Profiles). This option will update Hosts, Commands, Time Periods and Contacts from the file definitions. Service Profiles remain as empty vessels. Please note the Profile file associations revert to default values. Host Profiles: hosts.cfg and Service Profiles: services.cfg.</li></li>
      </ul>
      <li>Select <b>Load</b> to process the Nagios&#174; Object Files. You get an AJAX enabled status message and event log showing the progress. At the top of the screen the message <i>Please keep this page open until status reads finished</i>. 
      <li>Select <b>Continue</b> to finish. 
    <h4>Figure 5.12.5a. Load Nagios&#174; Configuration - Backup/Load/Abort</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter12_5a.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
    <h4>Table 5.12.5a. Load Nagios&#174; Configuration</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" class="row1" width="30%"><b>Load</b></td>
    <td>Select <b>Load</b> if you are sure you want to update or drop all Nagios&#174; records in the database. Should you choose to continue it is strongly recommended that you first select the <b>Backup</b> option.</td>
  </tr>
  <tr>
    <td valign="top" class="row1" width="30%"><b>Backup</b></td>
    <td>Select <b>Backup</b> to backup Nagios&#174; records in the database.</td>
  </tr>
  <tr>
    <td valign="top" class="row1" width="30%"><b>Abort</b></td>
    <td>Abort or cancel loading of Nagios&#174; records.</td>
  </tr>
</tbody>
</table>
    <h4>Figure 5.12.5b. Load Nagios&#174; Configuration - Load Options</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter12_5b.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      </li>
    </ol>
    </td>
  </tr>
</tbody>
</table>
    </td>
  </tr>
  <tr>
    <td>
<!-- Start Section 9 -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
<tbody>
  <tr class="windowHeader">
    <td class="windowHeader"><a name="section1"></a>Using the Control Option</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
<!-- How Do I Run a Preflight Test -->
    <a name="s5chapter12g"></a><h1 class="chapter"> <img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I Run a Pre Flight Test?</h1>
<hr />
    <h2 class="smMargin">Nagios&#174; Pre Flight Test</h2>
    <ol>
      <li>Select <b>Control</b> from the Configuration menu options.</li>
      <li>Select <b>Pre Flight Test</b>.</li>
      <li>The Pre Flight Test will be run and a list of <b>Results</b> will appear on the next screen.</li>
      <li>Select <b>Continue</b> to complete.
    <h4>Figure 5.12.7a. Nagios&#174; Pre Flight Test</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter12_7a.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      </li>
    </ol>
    </td>
  </tr>
</tbody>
</table>
    </td>
  </tr>
  <tr>
    <td>
<!-- Start Section 10 -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
<tbody>
  <tr class="windowHeader">
    <td class="windowHeader"><a name="section1"></a>Using the Control Option</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
<!-- How Do I Commit My Configuration -->
    <a name="s5chapter12h"></a><h1 class="chapter"> <img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I Commit a Nagios&#174; Configuration?</h1>
<hr />
    <h2 class="smMargin">Nagios&#174; Commit</h2>
    <ol>
      <li>Select <b>Control</b> from the Configuration menu options.</li>
      <li>Select <b>Commit</b>.</li>
      <li>In the <b>Nagios&#174; Commit</b> screen you will be prompted to <b>Backup</b> the active Nagios&#174; configuration</li>
      <li>Select <b>Commit</b> to overwrite the active Nagios&#174; configuration and restart Nagios&#174;.
    <h4>Figure 5.12.8a. Nagios&#174; Commit</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter12_8a.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.12.8a. Nagios&#174; Commit</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" class="row1" width="30%"><b>Commit</b></td>
    <td>Select <b>Commit</b> to Overwrite your active Nagios&#174; configuration and restarts Nagios&#174;.</td>
  </tr>
  <tr>
    <td valign="top" class="row1" width="30%"><b>Backup</b></td>
    <td>Select <b>Backup</b> to backup Nagios&#174; records in the database.</td>
  </tr>
  <tr>
    <td valign="top" class="row1" width="30%"><b>Abort</b></td>
    <td>Abort or cancel loading of Nagios&#174; records.</td>
  </tr>
</tbody>
</table>
      </li>
    </ol>
    </td>
  </tr>
</tbody>
</table>
    </td>
  </tr>
<!-- End -->
</tbody>
</table>
  </body>
</html>