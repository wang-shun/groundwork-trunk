<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en">
  <head>
<title>Configuring Hosts</title>
<link rel="stylesheet" type="text/css" href="/monarch/groundwork.css"/>
  </head>
  <body>
<!-- Start Main table-->
<table class="main" border="0" cellpadding="1" cellspacing="0">
  <tbody>
  <tr>
    <td valign="top">
    <h1 class="chapter"><img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> Configuring Hosts</h1>
    <h4>Copyright 2006 GroundWork Open Source, Inc. ("GroundWork").<br />
    All rights reserved. Use is subject to GroundWork commercial license.</h4>
<!-- Start Main Contents -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
  <tbody>
  <tr class="windowHeader">
    <td class="windowHeader">Contents</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
<!-- TOC -->
    <ul class="level01">
        <li><a href="#s5chapter5a">How Do I Define a New Host?</a></li>
        <li><a href="#s5chapter5b">How Do I Configure a Host Template?</a></li>
        <li><a href="#s5chapter5c">How Do I Create a New Host Group?</a></li>
        <li><a href="#s5chapter5d">How Do I Create a Parent/Child Relationship?</a></li>
        <li><a href="#s5chapter5e">How Do I Create Extended Host Info Templates?</a></li>
        <li><a href="#s5chapter5f">How Do I Create Host Dependencies?</a></li>
    </ul>
    </td>
  </tr>
</tbody>
</table>
    </td>
  </tr>
  <tr>
    <td>
<!-- Start Section 1 -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
<tbody>
  <tr class="windowHeader">
    <td class="windowHeader"><a name="section1"></a>Configuring Hosts</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
<!-- How do I define a new Host -->
    <a name="s5chapter5a"></a><h1 class="chapter"><img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I Define a New Host?</h1>
<hr />
    <h2 class="smMargin">Step 1 - Host Vitals</h2>
    <ol>
      <li>Select <b>Hosts</b> from the Configuration menu options.</li>
      <li>Select <b>Host Wizard</b>.</li>
      <li>In the <b>Host Wizard</b> screen, enter the properties (see <b>Table 5.5.1a.</b> below).</li>
      <li>Select <b>Next</b> to go to the <b>Host Properties 1</b> screen.<br /><br />
      <b>Note</b>: To copy an existing Host select <b>Clone</b> from the Hosts options. This will let you name a new Host, provide the IP address, and then attach an existing Host's properties. You can then edit and save the new Host. To find an existing Host you can use the <b>Search host</b> option under Hosts. Here you can enter the Host name or address. A list of matching Hosts will be displayed. Typing in just one or a series of characters will provide you with all Hosts that start with the specified sequence.
    <h4>Figure 5.5.1a. Host Vitals</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter5_1a.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.5.1a. Host Vitals</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Name</b></td>
    <td>[Required] Name of Host.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Alias</b></td>
    <td>[Required] This directive is used to define a longer name or description used to identify the Host. It is provided in order to allow you to more easily identify a particular Host.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Address</b></td>
    <td>[Required] This directive is used to define the address of the Host. Normally, this is an IP address, although it could really be anything you want (so long as it can be used to check the status of the Host). You can use a FQDN to identify the Host instead of an IP address, but if DNS Services are not available this could cause problems. When used properly, the $HOSTADDRESS$ macro will contain this address. <b>Note:</b> If you do not specify an address directive in a Host definition, the name of the Host will be used as its address. A word of caution about doing this, however - if DNS fails, most of your Service checks will fail because the plugins will be unable to resolve the Host name.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Host Profile</b></td>
    <td>[Optional] Host Profiles can be used to aid the design and management of Hosts.</td>
  </tr>
</tbody>
</table>
      </li>
    </ol>
    <h2 class="smMargin">Step 2 - Host Properties 1</h2>
    <ol>
      <li>In the <b>Host Properties 1</b> screen enter the properties (see <b>Table 5.5.1b.</b> below).</li>
      <li>Select <b>Next</b> to go to the <b>Host Properties 2</b> screen.
    <h4>Figure 5.5.1b. Host Properties 1</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter5_1b.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
    <h4>Table 5.5.1b. Host Properties 1</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Name</b></td>
    <td>Named Host.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Host Template</b></td>
    <td>[Required] Select the Host template most suitable for this Host.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Parents</b></td>
    <td>[Optional] Assign this Host one or more parents. Parent child relationships may also be managed via Hosts>Parent Child. </td>
  </tr>
</tbody>
</table>
      </li>
    </ol>
    <h2 class="smMargin">Step 3 - Host Properties 2</h2>
    <ol>
      <li>In the <b>Host Properties 2</b> screen enter the properties (see <b>Table 5.5.1c.</b> below).</li>
      <li>Select <b>Next</b> to go to the <b>Select Services</b> screen.
    <h4>Figure 5.5.1c. Host Properties 2</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter5_1c.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
    <h4>Table 5.5.1c. Host Properties 2</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Host Groups</b></td>
    <td>[Optional] Assign this Host one or more Host Groups. Host Groups  may also be managed via Hosts>Host Groups.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Extended Host Info</b></td>
    <td>[Optional] Defines extended Host information for this Host profile. The template controls the icon and url link as seen in Nagios&#174;.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>2d Status Map Coords</b></td>
    <td>[Optional] Defines the Host's position in the Nagios&#174; 2d status map. Coordinates should be given in positive integers, as they correspond to physical pixels in the generated image. The origin for drawing (0,0) is in the upper left hand corner of the image and extends in the positive x direction (to the right) along the top of the image and in the positive y direction (down) along the left hand side of the image. For reference, the size of the icons drawn is usually about 40x40 pixels (text takes a little extra space). The coordinates you specify here are for the upper left hand corner of the Host icon that is drawn. <b>Note:</b> Don't worry about what the maximum x and y coordinates that you can use are. The CGI will automatically calculate the maximum dimensions of the image it creates based on the largest x and y coordinates you specify.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>3d Status Map Coords</b></td>
    <td>[Optional] Defines the Host's position in the Nagios&#174; 3d status map.  Coordinates can be positive or negative real numbers. The origin for drawing is (0.0,0.0,0.0). For reference, the size of the Host cubes drawn is 0.5 units on each side (text takes a little more space). The coordinates you specify here are used as the center of the Host cube.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Host Escalation Tree</b></td>
    <td>[Optional] Select an escalation tree appropriate for this Host. To avoid amplified notifications (i.e. multiple notifications for the same event), a Host escalation assigned to this Host should not also be assigned to a Host Group in which the Host is a member.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Service Escalation Tree</b></td>
    <td>[Optional] Select an escalation tree appropriate for Services on this Host. When a Service escalation is assigned to a Host, all Services on that Host use the same escalation tree. To avoid amplified notifications (i.e. multiple notifications for the same event), a Service escalation assigned to a Service name should not also be assigned to the Host or the Host Group.</td>
  </tr>
</tbody>
</table>
      </li>
    </ol>
    <h2 class="smMargin">Step 4 - Select Services</h2>
    <ol>
      <li>In the <b>Select Services</b> screen enter the properties (see <b>Table 5.5.1d.</b> below).</li>
      <li>Select <b>Next</b> to proceed to the final screen.
    <h4>Figure 5.5.1d. Select Services</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter5_1d.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
    <h4>Table 5.5.1d. Select Services</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Service Profiles</b></td>
    <td>This is the list of Service Profiles that have been added to this Host.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Include/Modify/Discard Service Name</b></td>
    <td>You will see a list of Services are derived from the Service Profile (if one was selected) in the last step. Each Service has an option to Include/Modify/Discard. <b>Include</b> accepts this Service as is with its default settings. <b>Modify</b> accepts this Service but prompts for changes. <b>Discard</b> does not include this Service on this Host. <b>Add Profile</b> adds additional Service profiles to this Hosts. <b>Add to list</b> adds a Service not included in the profile.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Select Service Profile</b></td>
    <td>[Optional] Select additional Service Profiles to add to this Host.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Select Other Services</b></td>
    <td>[Optional] Select other Services to add to this Host. Click on Service and select <b>Add to List</b>.</td>
  </tr>
</tbody>
</table>
      </li>
    </ol>
    <h2 class="smMargin">Step 5 - Final Screen</h2>
    <ol>
      <li>On the final New Host Wizard screen, select <b>Save as Profile</b> to complete the process and save the new Host as a Host Profile, select <b>Save</b> on the next screen to save the Profile. Select <b>Continue</b> to begin again at the <b>Host Vitals</b> screen to reconfigure the new Host.
    <h4>Figure 5.5.1e. Final Screen</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter5_1e.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      </li>
     </ol>
    </td>
  </tr>
</tbody>
</table>
<!-- Start Section 2 -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
<tbody>
  <tr class="windowHeader">
    <td class="windowHeader"><a name="section1"></a>Configuring Hosts</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
<!-- How Do I Configure a Host Template -->
    <a name="s5chapter5b"></a><h1 class="chapter"><img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I Configure a Host Template?</h1>
<hr />
    <h2 class="smMargin">Step 1 - Host Template Properties</h2>
    <ol>
      <li>Select <b>Hosts</b> from the Configuration menu options.</li>
      <li>Expand the <b>Host Templates</b> drop-down menu.</li>
      <li>Select <b>New</b>.</li>
      <li>In the <b>Host Template Properties</b> screen, enter the properties (see <b>Table 5.5.2a.</b> below).</li>
      <li>Select <b>Add</b> to add the new template.<br /><br />
      <b>Note:</b> To copy an existing template select <b>Copy</b> from the Host Template options. This will let you name and edit the copied properties for a new template. To modify or delete a template select <b>Modify</b>. You will then be able to edit and <b>Save</b> a modified template. Select <b>Delete</b> to remove a selected template, <b>Rename</b> to change the name, or <b>Cancel</b> to exit out without any changes.
    <h4>Figure 5.5.2a. Host Template Properties</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter5_2a.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.5.2a. Host Template Properties</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Name</b></td>
    <td>[Required] Name of Host Template.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Process Perf Data</b></td>
    <td>[Optional] This directive is used to determine whether or not the processing of performance data is enabled for Hosts using this template. Values:  <b>Unchecked</b> disable performance data processing, <b>Checked</b> enable performance data processing.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Retain Status Information</b></td>
    <td>[Optional] This directive is used to determine whether or not status-related information about the Host is retained across program restarts. This is only useful if you have enabled state retention using the retain_state_information directive. Value:  <b>Unchecked</b> disable status information retention, <b>Checked</b> enable status information retention.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Flap Detection Enabled</b></td>
    <td>[Optional] This directive is used to determine whether or not flap detection is enabled for Hosts using this template. Values:  <b>Unchecked</b> disable Host flap detection, <b>Checked</b> enable Host flap detection.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Low Flap Threshold</b></td>
    <td>[Optional] This directive is used to specify the low state change threshold used in flap detection for Hosts using this template. If you set this directive to a value of 0, the program-wide value specified by the low_host_flap_threshold directive will be used.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>High Flap Threshold</b></td>
    <td>[Optional] This directive is used to specify the high state change threshold used in flap detection for Hosts using this template. If you set this directive to a value of 0, the program-wide value specified by the high_host_flap_threshold directive will be used.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Retain Nonstatus Information</b></td>
    <td>[Optional] This directive is used to determine whether or not non-status information about the Host is retained across program restarts. This is only useful if you have enabled state retention using the retain_state_information directive. Value:  <b>Unchecked</b> disable non-status information retention, <b>Checked</b> enable non-status information retention.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Active Checks Enabled</b></td>
    <td>This directive is used to determine whether or not active checks (either regularly scheduled or on-demand) of this Host are enabled. Values: <b>Unchecked</b> disable active Host checks, <b>Checked</b> enable active Host checks.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Passive Checks Enabled</b></td>
    <td>This directive is used to determine whether or not passive checks are enabled for this Host. Values: <b>Unchecked</b> disable passive Host checks, <b>Checked</b> enable passive Host checks.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Obsess Over Host</b></td>
    <td>This directive determines whether or not checks for the Host will be 'obsessed' over using the ochp_command (defined in Nagios&#174; main configuration). <b>Checked</b> is enabled</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Check Freshness</b></td>
    <td>This directive is used to determine whether or not freshness checks are enabled for Hosts using this template. <b>Checked</b> enable freshness checks.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Freshness Threshold</b></td>
    <td>This directive is used to specify the freshness threshold (in seconds) for Hosts using this template. If you set this directive to a value of 0, Nagios&#174; will determine a freshness threshold to use automatically.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Check Command</b></td>
    <td>Host templates: Optional. This directive is used to specify the short name of the command that should be used to check if the Host is up or down. Typically, this command would try and ping the Host to see if it is 'alive'. The command must return a status of OK (0) or Nagios&#174; will assume the Host is down. If you leave this argument blank, the Host will not be checked - Nagios&#174; will always assume the Host is up. This is useful if you are monitoring printers or other devices that are frequently turned off. The maximum amount of time that the notification command can run is controlled by the host_check_timeout option.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Max Check Attempts</b></td>
    <td>[Required] This directive is used to define the number of times that Nagios&#174; will retry the Host check command if it returns any state other than an OK state. Setting this value to 1 will cause Nagios&#174; to generate an alert without retrying the Host check again. <b>Note:</b>  If you do not want to check the status of the Host, you must still set this to a minimum value of 1. To bypass the Host check, just leave the check_command option blank.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Check Interval</b></td>
    <td>[Optional] <b>Note:</b> Do NOT enable regularly scheduled checks of a Host unless you absolutely need to! Host checks are already performed on-demand when necessary, so there are few times when regularly scheduled checks would be needed. Regularly scheduled Host checks can negatively impact performance. This directive is used to define the number of "time units" between regularly scheduled checks of the Host. Unless you've changed the interval_length directive from the default value of 60, this number will mean minutes.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Event Handler Enabled</b></td>
    <td>[Optional] This directive is used to determine whether or not the event handler for Hosts using this template is enabled. Values:  <b>Unchecked</b> disable Host event handler, <b>Checked</b> enable Host event handler.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Event Handler</b></td>
    <td>[Optional] This directive is used to specify the short name of the command that should be run whenever a change in the state of the Host is detected (i.e. whenever it goes down or recovers). The maximum amount of time that the event handler command can run is controlled by the event_handler_timeout option.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Notifications Enabled</b></td>
    <td>[Optional] This directive is used to determine whether or not Notifications for Hosts using this template are enabled. Values:  <b>Unchecked</b> Disable Host Notifications, <b>Checked</b> Enable Host Notifications.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Notification Interval</b></td>
    <td>[Required] This directive is used to define the number of 'time units' to wait before re-notifying a contact that this server is still down or unreachable. Unless you've changed the interval_length directive from the default value of 60, this number will mean minutes. If you set this value to 0, Nagios&#174; will not re-notify contacts about problems for Hosts using this template - only one problem notification will be sent out.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Notification Period</b></td>
    <td>[Required] This directive is used to specify the short name of the time period during which notifications of events for Hosts using this template can be sent out to contacts. If a Host goes down, becomes unreachable, or recoveries during a time which is not covered by the Time Period, no notifications will be sent out.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Notification Options</b></td>
    <td>[Required] This directive is used to determine when notifications for the Host should be sent out. Valid options are a combination of one or more of the following:  <b>Down checked</b> send notifications on a DOWN state, <b>Unreachable checked</b> send notifications on an UNREACHABLE state, and <b>Recovery checked</b> send notifications on recoveries (OK state). If you specify <b>n</b> (none) as an option, no Host Notifications will be sent out. Example:  If you specify Down and Recovery, Notifications will only be sent out when the Host goes DOWN and when it recovers from a DOWN state.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Stalking Options</b></td>
    <td>[Optional] This directive determines which Host states 'stalking' is enabled for. Valid options are a combination of one or more of the following:  <b>Up checked</b> stalk on UP states, <b>Down checked</b> stalk on DOWN states, and <b>Unreachable checked</b> stalk on UNREACHABLE states.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Contact Groups</b></td>
    <td>This is a list of the short names of the contact groups that should be notified whenever there are problems (or recoveries) with this Host.</td>
  </tr>
</tbody>
</table>
      </li>
    </ol>
    </td>
  </tr>
</tbody>
</table>
<!-- Start Section 3 -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
<tbody>
  <tr class="windowHeader">
    <td class="windowHeader"><a name="section1"></a>Configuring Hosts</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
    <a name="s5chapter5c"></a><h1 class="chapter"><img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I Create a New Host Group?</h1>
<hr />
    <h2 class="smMargin">Step 1 - Host Group Properties</h2>
    <ol>
      <li>Select <b>Hosts</b> from the Configuration menu options.</li>
      <li>Expand the <b>Host Groups</b> drop-down menu.</li>
      <li>Select <b>New</b>.</li>
      <li>In the <b>Host Group Properties</b> screen, enter the properties (see <b>Table 5.5.3a.</b> below).</li>
      <li>Select <b>Add</b> to save the new Host Group.<br /><br />
      <b>Note:</b> To copy an existing Host Group select <b>Copy</b> from the Host Groups options. This will let you name and edit the copied properties for a new Host Group. To modify or delete a Host Group select <b>Modify</b>. You will then be able to edit and <b>Save</b> a modified Host Group. Select <b>Delete</b> to remove a selected Host Group, <b>Rename</b> to change the name, or <b>Cancel</b> to exit out without any changes.
    <h4>Figure 5.5.3a. Host Group Properties</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter5_3a.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.5.3a. Host Group Properties</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Name</b></td>
    <td>[Required] Name of Host Group. <b>Note:</b> Use a unique Host Group name and do not label Host Groups and Contact Groups the same name.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Alias</b></td>
    <td>[Required] This directive is used to define a longer name or description used to identify the Host Group. It is provided in order to allow you to more easily identify a particular Host Group.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Members</b></td>
    <td>[Required] This is a list of the short names of Hosts that should be included in this Host Group.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Contact Group</b></td>
    <td>[Required] This is a list the contact groups that should be notified whenever there are problems (or recoveries) with any of the Hosts in this Host Group.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Host Group Escalation ID</b></td>
    <td>[Optional] Select the Host Group Escalation Tree applicable to this Host Group (see Escalations>Escalation Trees). (Note Nagios&#174; 2.x users may use this directive or the Host escalation id directive to achieve the same result.)</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Host Escalation ID</b></td>
    <td>[Optional] Select the Host escalation tree applicable to this Host Group in (see Escalations -> Escalation Trees). All Hosts in the Host Group receive the same Host escalation.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Service Escalation ID</b></td>
    <td>[Optional] Select the Service escalation tree applicable to this Host Group in (see Escalations -> Escalation Trees). All Services on each Host in the Host Group receive the same Host escalation.</td>
  </tr>
</tbody>
</table>
      </li>
    </ol>
    </td>
  </tr>
</tbody>
</table>
<!-- Start Section 4 -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
<tbody>
  <tr class="windowHeader">
    <td class="windowHeader"><a name="section1"></a>Configuring Hosts</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
    <a name="s5chapter5d"></a><h1 class="chapter"><img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I Create a Parent/Child Relationship?</h1>
<hr />
    <h2 class="smMargin">Step 1 - Parent Child Properties</h2>
    <ol>
      <li>Select <b>Hosts</b> from the Configuration menu options.</li>
      <li>Expand the <b>Parent Child</b> drop-down menu.</li>
      <li>Select <b>New</b>.</li>
      <li>In the <b>Parent Child</b> screen, enter the properties (see <b>Table 5.5.4a.</b> below).</li>
      <li>Select <b>Save</b> to create the Parent/Child Relationship.<br /><br />
      <b>Note:</b> To modify or delete an existing Parent Child relationship <b>Modify</b>. You will then be able to edit and <b>Save</b> a modified relationship. Select <b>Delete</b> to remove a selected Parent Child relationship, or <b>Cancel</b> to exit out without any changes.
    <h4>Figure 5.5.4a. Parent Child Properties</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter5_4a.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.5.4a. Parent Child Properties</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Parent Host</b></td>
    <td>[Required] Name of the Parent Host. Available Hosts will be listed in the drop-down box.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Children</b></td>
    <td>Dependent Child Hosts of the Parent Host. Select the Host and the <b>Add</b> button.</td>
  </tr>
</tbody>
</table>
      </li>
    </ol>
    </td>
  </tr>
</tbody>
</table>
<!-- Start Section 3 -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
<tbody>
  <tr class="windowHeader">
    <td class="windowHeader"><a name="section1"></a>Configuring Hosts</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
    <a name="s5chapter5e"></a><h1 class="chapter"><img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I Create Extended Host Info Templates?</h1>
<hr />
    <h2 class="smMargin">Step 1 - Extended Host Info Template Properties</h2>
    <ol>
      <li>Select <b>Hosts</b> from the Configuration menu options.</li>
      <li>Expand the <b>Host extended info</b> drop-down menu.</li>
      <li>Select <b>New</b>.</li>
      <li>In the <b>Extended Host Info Template Properties</b> screen, enter the properties (see <b>Table 5.5.5a.</b> below).</li>
      <li>Select <b>Add</b> to add the new Extended Host Info Template.</li>
      <li>You will be prompted that the template has been saved. Select <b>Continue</b>.<br /><br />
      <b>Note:</b> To copy an existing template select <b>Copy</b> from the Extended Host Info Template options. This will let you name and edit the copied properties for a new template. To modify or delete a template select <b>Modify</b>. You will then be able to edit and <b>Save</b> a modified template. Select <b>Delete</b> to remove a selected template, <b>Rename</b> to change the name, or <b>Cancel</b> to exit out without any changes.
    <h4>Figure 5.5.5a. Extended Host Info Template Properties</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter5_5a.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.5.5a. Extended Host Info Template Properties</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Name</b></td>
    <td>[Required] Name of the Extended Host Info Template.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Notes URL</b></td>
    <td>[Optional] This option is used to define a URL that can be used to provide more information about the Host. If you specify an URL, you will see a link that says 'Notes About This Host' in the extended information CGI (when you are viewing information about the specified Host). Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. /cgi-bin/nagios/). This can be very useful if you want to make detailed information on the Host, emergency contact methods, etc. available to other support staff. Also, as this is a template, you may use macros $HOSTNAME$ and $HOSTADDRESS$ in the URL.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Icon Image</b></td>
    <td>[Optional] This variable is used to define the name of a GIF, PNG, or JPG image that should be associated with this Host. This image will be displayed in the status and extended information CGIs. The image will look best if it is 40x40 pixels in size. Images for Hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. /usr/local/nagios/share/images/logos).</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Icon Image Alt</b></td>
    <td>[Optional] This variable is used to define an optional string that is used in the ALT tag of the image specified by the &#60;icon_image&#62; argument. The ALT tag is used in the status, extended information and statusmap CGIs.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>VRML Image</b></td>
    <td>[Optional] This variable is used to define the name of a GIF, PNG, or JPG image that should be associated with this Host. This image will be used as the texture map for the specified Host in the statuswrl CGI. Unlike the image you use for the &#60;icon_image&#62; variable, this one should probably not have any transparency. If it does, the Host object will look a bit weird. Images for Hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. /usr/local/nagios/share/images/logos).</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Statusmap Image</b></td>
    <td>[Optional] This variable is used to define the name of an image that should be associated with this Host in the statusmap CGI. You can specify a JPEG, PNG, and GIF image if you want, although I would strongly suggest using a GD2 format image, as other image formats will result in a lot of wasted CPU time when the statusmap image is generated. GD2 images can be created from PNG images by using the pngtogd2 utility supplied with Thomas Boutell's gd library. The GD2 images should be created in uncompressed format in order to minimize CPU load when the statusmap CGI is generating the network map image. The image will look best if it is 40x40 pixels in size. You can leave these option blank if you are not using the statusmap CGI. Images for Hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. /usr/local/nagios/share/images/logos).</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>2d Coords</b></td>
    <td>[Optional] This variable is used to define coordinates to use when drawing the Host in the statusmap CGI. Coordinates should be given in positive integers, as the correspond to physical pixels in the generated image. The origin for drawing (0,0) is in the upper left hand corner of the image and extends in the positive x direction (to the right) along the top of the image and in the positive y direction (down) along the left hand side of the image. For reference, the size of the icons drawn is usually about 40x40 pixels (text takes a little extra space). The coordinates you specify here are for the upper left hand corner of the Host icon that is drawn. <b>Note:</b>  Don't worry about what the maximum x and y coordinates that you can use are. The CGI will automatically calculate the maximum dimensions of the image it creates based on the largest x and y coordinates you specify.</td>
  </tr>
  <tr>
    <td valign="top" width="30%" class="row1"><b>3d Coords</b></td>
    <td>[Optional] This variable is used to set coordinates to use when drawing the Host in the statuswrl CGI. Coordinates can be positive or negative real numbers. The origin for drawing is (0.0,0.0,0.0). For reference, the size of the Host cubes drawn is 0.5 units on each side (text takes a little more space). The coordinates you specify here are used as the center of the Host cube.</td>
  </tr>
</tbody>
</table>
      </li>
    </ol>
    <a name="s5chapter5e2"></a><h1 class="chapter"><img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I Apply an Extended Host Info Template to a Host Profile?</h1>
<hr />
    <p>You can apply an Extended Host Info Template within a Host Profile which will add the template properties to all Hosts associated with the Host Profile.</p>
    <ol>
      <li>Select <b>Profiles</b> from the Configuration menu options.</li>
      <li>Expand the <b>Host Profiles</b> option.</li>
      <li>Select <b>Modify</b>, (for New Host Profiles follow the same procedure).</li>
      <li>Select the <b>Host Profile</b> to add an Extended Host Info Template to.</li>
      <li>Select the drop-down box for <b>Extended Host Info Template</b> and select an existing template.</li>
      <li>Select <b>Save</b>.</li>
      <li>Next you can assign Hosts to use this Host Profile with the Extended Host Info Template by selecting the <b>Assign Hosts</b> tab. After adding the Hosts make sure you <b>Save</b> your changes. As a last step make sure you select the <b>Apply</b> tab, check the <b>Apply Detail to Hosts</b> and select <b>Apply</b>.<br />
      <p><b>Note:</b> Assigning a Host Profile directly from within the Hosts option versus the Host Profile creates the association so that the Host can be managed from the Host Profile, but there is no other effect on the Host configuration. In other words, if you are in Hosts and adding or changing a Host Profile the Host Profile will update ONLY the Service properties and not the Host detail (including Extended Host Info Template). Tip: Work within the Host Profile when possible.</p></li>
    </ol>
    <a name="s5chapter5e3"></a><h1 class="chapter"><img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I Apply an Extended Host Info Template to a Host?</h1>
<hr />
    <p>You can also add the template properties directly to an individual Host.</p>
    <ol>
      <li>Select <b>Hosts</b> from the Configuration menu options.</li>
      <li>Select a Host to add the an Extended Host Info Template.</li>
      <li>Select the drop-down box for <b>Extended Host Info Template</b> and select an existing template.</li>
      <li>Select <b>Save</b>.</li>
    </ol>
    </td>
  </tr>
</tbody>
</table>
<!-- Start Section 3 -->
<table class="window" cellpadding="5" cellspacing="1" width="100%">
<tbody>
  <tr class="windowHeader">
    <td class="windowHeader"><a name="section1"></a>Configuring Hosts</td>
  </tr>
  <tr>
    <td class="bookshelf_textBg">
    <a name="s5chapter5f"></a><h1 class="chapter"><img src="/monarch/doc/images/square.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" /> How Do I Create Host Dependencies?</h1>
<hr />
    <h2 class="smMargin">Step 1 - Host Dependency Properties</h2>
    <ol>
      <li>Select <b>Hosts</b> from the Configuration menu options.</li>
      <li>Expand the <b>Host Dependencies</b> drop-down menu.</li>
      <li>Select <b>New</b>.</li>
      <li>In the <b>Host Dependency Properties</b> screen, enter the properties (see <b>Table 5.5.6a.</b> below).</li>
      <li>Select <b>Add</b> to create the new Host Dependency.</li>
      <li>You will be notified on the next screen that the Host Dependency has been saved, select <b>Continue</b>.<br /><br />
      <b>Note:</b> To modify or delete a Host Dependency select <b>Modify</b> from the Host Dependencies options. You will then be able to edit and <b>Save</b> a modified Host Dependency. Select <b>Delete</b> to remove a selected Host Dependency, or <b>Cancel</b> to exit out without any changes.
    <h4>Figure 5.5.6a. Host Dependency Properties</h4>
    <img src="/monarch/doc/images/OSPadm_s5chapter5_6a.gif" border="0" alt="--- GW IMAGE NOT DISPLAYED ---" />
      <h4>Table 5.5.6a. Host Dependency Properties</h4>
<table class="window" cellpadding="5" cellspacing="1" width="698">
<tbody>
  <tr>
    <td valign="top" width="30%" class="row1"><b>Dependent Host</b></td>
    <td>[Required] This directive is used to identify the short name of the dependent Host.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Parent Host</b></td>
    <td>[Required] This directive is used to identify the short name of the Host that is being depended upon.</td>
  </tr>
  <tr>
    <td valign="top" class="row1"><b>Notification Failure Criteria</b></td>
    <td>[Required] This directive is used to define the criteria that determine when Notifications for the dependent Host should not be sent out. If the Host that is being depended upon is in one of the failure states we specify, Notifications for the dependent Host will not be sent to contacts. Valid options are a combination of one or more of the following:  o = fail on an UP state, d = fail on a DOWN state, and u = fail on an UNREACHABLE state. If you specify n (none) as an option, the Notification dependency will never fail and Notifications for the dependent Host will always be sent out. Example:  If you specify d in this field, the Notifications for the dependent Host will not be sent out if the Host that is being depended upon is in a DOWN state.</td>
  </tr>
</tbody>
</table>
      </li>
    </ol>

    </td>
  </tr>
</tbody>
</table>
    </td>
  </tr>
<!-- End -->
</tbody>
</table>
  </body>
</html>
