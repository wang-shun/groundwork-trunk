<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <name>Groundwork EPP Base</name>
  <groupId>com.groundwork.portal</groupId>
  <artifactId>JBossJPP</artifactId>
  <version>7.2.2-SNAPSHOT</version>
  <packaging>pom</packaging>

  <parent>
    <groupId>com.groundwork.portal</groupId>
    <artifactId>gwos-jpp</artifactId>
    <version>7.2.2-SNAPSHOT</version>
  </parent>

  <properties>
    <josso-home>${project.build.directory}/apache-tomcat-6.0.53_josso-1.8.4</josso-home>
    <jpp-home>${project.build.directory}/jpp</jpp-home>
    <jpp-modules-home>${jpp-home}/modules</jpp-modules-home>
    <jpp-file-server>http://morat/jboss-portal</jpp-file-server>
  </properties>

  <dependencies>
    <dependency>
      <groupId>org.groundwork</groupId>
      <artifactId>collage-api</artifactId>
      <version>${groundwork.version}</version>
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>com.groundwork.portal.extension</groupId>
      <artifactId>groundwork-container-ext-rest-client</artifactId>
      <version>${groundwork.version}</version>
      <type>jar</type>
    </dependency>
    <dependency>
        <groupId>com.groundwork.portal.extension</groupId>
        <artifactId>groundwork-container-ext-model</artifactId>
        <version>${groundwork.version}</version>
        <type>jar</type>
    </dependency>
    <dependency>
      <groupId>com.groundwork.portal.extension</groupId>
      <artifactId>groundwork-container-ext-ear</artifactId>
      <version>${groundwork.version}</version>
      <type>ear</type>
    </dependency>
    <dependency>
      <groupId>skin</groupId>
      <artifactId>groundwork-skin</artifactId>
      <version>${groundwork.version}</version>
      <type>war</type>
    </dependency>
  </dependencies>

  <profiles>
    <profile>
      <id>release</id>
      <activation>
        <activeByDefault>false</activeByDefault>
      </activation>
    </profile>
    <profile>
      <id>platform-all</id>
      <activation>
        <activeByDefault>true</activeByDefault>
      </activation>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-resources-plugin</artifactId>
            <executions>
              <execution>
                <id>copy-resources</id>
                <phase>process-resources</phase>
                <goals>
                  <goal>copy-resources</goal>
                </goals>
                <configuration>
                  <outputDirectory>${project.build.directory}</outputDirectory>
                  <resources>
                    <resource>
                      <directory>custom_scripts/exoadmin</directory>
                      <includes>
                        <include>pom.xml</include>
                      </includes>
                      <filtering>true</filtering>
                    </resource>
                  </resources>
                  <overwrite>true</overwrite>
                </configuration>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>com.googlecode.maven-download-plugin</groupId>
            <artifactId>maven-download-plugin</artifactId>
            <version>1.0.0</version>
            <executions>
              <execution>
                <id>install-epp</id>
                <phase>process-resources</phase>
                <goals>
                  <goal>wget</goal>
                </goals>
                <configuration>
                  <url>${jpp-file-server}/jboss-jpp-6.0.0.zip</url>
                  <unpack>true</unpack>
                </configuration>
              </execution>
              <execution>
                <id>install-exoadmin</id>
                <phase>process-resources</phase>
                <goals>
                  <goal>wget</goal>
                </goals>
                <configuration>
                  <url>${jpp-file-server}/jboss-jpp-6.0.0-src.zip</url>
                  <unpack>false</unpack>
                </configuration>
              </execution>
              <execution>
                <id>install-josso</id>
                <phase>process-resources</phase>
                <goals>
                  <goal>wget</goal>
                </goals>
                <configuration>
                  <url>${jpp-file-server}/apache-tomcat-6.0.53_josso-1.8.4.zip</url>
                  <unpack>true</unpack>
                </configuration>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-dependency-plugin</artifactId>
            <version>2.5.1</version>
            <executions>
              <execution>
                <id>copy-installed</id>
                <phase>install</phase>
                <goals>
                  <goal>copy</goal>
                </goals>
                <configuration>
                  <artifactItems>
                    <artifactItem>
                      <groupId>org.postgresql</groupId>
                      <artifactId>postgresql</artifactId>
                      <version>${postgresql-driver-version}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/postgres/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>commons-discovery</groupId>
                      <artifactId>commons-discovery</artifactId>
                      <version>${commons-discovery-version}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/apache/commons/discovery/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>axis</groupId>
                      <artifactId>axis</artifactId>
                      <version>${axis-version}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/apache/axis/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>wsdl4j</groupId>
                      <artifactId>wsdl4j</artifactId>
                      <version>${wsdl4j-version}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/net/sf/wsdl4j/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>backport-util-concurrent</groupId>
                      <artifactId>backport-util-concurrent
                      </artifactId>
                      <version>${version-backport-util-concurrent}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/edu/emory/mathcs/backport/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.groundwork</groupId>
                      <artifactId>collage-api</artifactId>
                      <version>${groundwork.version}</version>
                      <type>jar</type>
                      <destFileName>collage-api-${groundwork.release}.jar</destFileName>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/com/groundwork/collage/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>com.groundwork.portal</groupId>
                      <artifactId>Padlock</artifactId>
                      <version>${version-padlock}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/net/padlocksoftware/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.jboss</groupId>
                      <artifactId>jbossweb-extras</artifactId>
                      <version>1.0</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/jboss/jbossweb-extras/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>javax.ws.rs</groupId>
                      <artifactId>jsr311-api</artifactId>
                      <version>1.1.1</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/rhgss/javax/ws/rs/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>com.chrylis</groupId>
                      <artifactId>base58-codec</artifactId>
                      <version>${version-base58-codec}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/com/chrylis/base58-codec/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.apache.commons</groupId>
                      <artifactId>commons-lang3</artifactId>
                      <version>${version-commons-lang3}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/apache/commons/lang3/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>com.groundwork.security</groupId>
                      <artifactId>groundwork-jboss-security</artifactId>
                      <version>${groundwork.version}</version>
                      <type>jar</type>
                      <destFileName>groundwork-jboss-security-${groundwork.release}.jar</destFileName>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/com/groundwork/security/main</outputDirectory>
                    </artifactItem>

                    <!-- JOSSO generic-ee agent libraries for protecting partner apps- -->
                    <artifactItem>
                      <groupId>org.springframework</groupId>
                      <artifactId>spring-core</artifactId>
                      <version>${version-spring}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/josso/generic-ee/agent/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.springframework</groupId>
                      <artifactId>spring-beans</artifactId>
                      <version>${version-spring}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/josso/generic-ee/agent/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.springframework</groupId>
                      <artifactId>spring-context</artifactId>
                      <version>${version-spring}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/josso/generic-ee/agent/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.springframework</groupId>
                      <artifactId>spring-expression</artifactId>
                      <version>${version-spring}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/josso/generic-ee/agent/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.apache.xbean</groupId>
                      <artifactId>xbean-spring</artifactId>
                      <version>${version-xbean-spring}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/josso/generic-ee/agent/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.josso</groupId>
                      <artifactId>josso-ws</artifactId>
                      <version>${version-josso-generic-ee-agent}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/josso/generic-ee/agent/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.josso</groupId>
                      <artifactId>josso-protocol-client</artifactId>
                      <version>${version-josso-generic-ee-agent}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/josso/generic-ee/agent/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.josso</groupId>
                      <artifactId>josso-common</artifactId>
                      <version>${version-josso-generic-ee-agent}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/josso/generic-ee/agent/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.josso</groupId>
                      <artifactId>josso-agent</artifactId>
                      <version>${version-josso-generic-ee-agent}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/josso/generic-ee/agent/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.josso</groupId>
                      <artifactId>josso-core</artifactId>
                      <version>${version-josso-generic-ee-agent}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/josso/generic-ee/agent/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.josso</groupId>
                      <artifactId>josso-servlet-agent</artifactId>
                      <version>1.8.9-gwpatch-${groundwork.version}</version>
                      <type>jar</type>
                      <destFileName>josso-servlet-agent-1.8.9-gwpatch-${groundwork.release}.jar</destFileName>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/josso/generic-ee/agent/main</outputDirectory>
                    </artifactItem>

                    <!-- Jasypt libraries -->
                    <artifactItem>
                      <groupId>org.jasypt</groupId>
                      <artifactId>jasypt</artifactId>
                      <version>${version-jasypt}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/jasypt/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.jasypt</groupId>
                      <artifactId>jasypt</artifactId>
                      <version>${version-jasypt}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${josso-home}/webapps/josso/WEB-INF/lib</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>com.ibm.icu</groupId>
                      <artifactId>icu4j</artifactId>
                      <version>${version-icu4j}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/com/ibm/icu4j/main</outputDirectory>
                    </artifactItem>

                    <!--Portal extension rest client -->
                    <artifactItem>
                      <groupId>com.groundwork.portal.extension</groupId>
                      <artifactId>groundwork-container-ext-rest-client</artifactId>
                      <version>${groundwork.version}</version>
                      <type>jar</type>
                      <destFileName>groundwork-container-ext-rest-client-${groundwork.release}.jar</destFileName>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/com/groundwork/portal/extension/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>com.groundwork.portal.extension</groupId>
                      <artifactId>groundwork-container-ext-model</artifactId>
                      <version>${groundwork.version}</version>
                      <type>jar</type>
                      <destFileName>groundwork-container-ext-model-${groundwork.release}.jar</destFileName>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/com/groundwork/portal/extension/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>com.groundwork.portal.extension</groupId>
                      <artifactId>groundwork-container-ext-ear</artifactId>
                      <version>${groundwork.version}</version>
                      <type>ear</type>
                      <destFileName>groundwork-container-ext-ear-${groundwork.release}.ear</destFileName>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-home}/gatein/extensions</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>skin</groupId>
                      <artifactId>groundwork-skin</artifactId>
                      <version>${groundwork.version}</version>
                      <type>war</type>
                      <destFileName>groundwork-skin-${groundwork.release}.war</destFileName>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-home}/gatein/extensions</outputDirectory>
                      <destFileName>groundwork-skin.war</destFileName>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.groundwork</groupId>
                      <artifactId>collagerest-common</artifactId>
                      <version>${groundwork.version}</version>
                      <type>jar</type>
                      <destFileName>collagerest-common-${groundwork.release}.jar</destFileName>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/com/groundwork/portal/extension/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>joda-time</groupId>
                      <artifactId>joda-time</artifactId>
                      <version>${version-joda-time}</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/com/groundwork/portal/extension/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.groundwork</groupId>
                      <artifactId>collagerest-client</artifactId>
                      <version>${groundwork.version}</version>
                      <type>jar</type>
                      <destFileName>collagerest-client-${groundwork.release}.jar</destFileName>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/com/groundwork/portal/extension/main</outputDirectory>
                    </artifactItem>
                    <!-- Replace the josso-ldap-identitystore-1.8.4.jar in tomcat with the followong patch related to sec improvements -->
                    <artifactItem>
                      <groupId>org.josso</groupId>
                      <artifactId>josso-ldap-identitystore</artifactId>
                      <version>1.8.9-gwpatch-${groundwork.version}</version>
                      <type>jar</type>
                      <destFileName>josso-ldap-identitystore-1.8.9-gwpatch-${groundwork.release}.jar</destFileName>
                      <overWrite>true</overWrite>
                      <outputDirectory>${josso-home}/webapps/josso/WEB-INF/lib</outputDirectory>
                    </artifactItem>
                    <!-- HttpComponents patch for CloudHub AWS dependencies -->
                    <artifactItem>
                      <groupId>org.apache.httpcomponents</groupId>
                      <artifactId>httpcore</artifactId>
                      <version>4.2.5</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/apache/httpcomponents/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.apache.httpcomponents</groupId>
                      <artifactId>httpclient</artifactId>
                      <version>4.2.6</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/apache/httpcomponents/main</outputDirectory>
                    </artifactItem>
                    <artifactItem>
                      <groupId>org.apache.httpcomponents</groupId>
                      <artifactId>httpmime</artifactId>
                      <version>4.2.6</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/org/apache/httpcomponents/main</outputDirectory>
                    </artifactItem>
                    <!-- SAAJ patch for CloudHub VMware Connector -->
                    <artifactItem>
                      <groupId>org.jvnet.mimepull</groupId>
                      <artifactId>mimepull</artifactId>
                      <version>1.7</version>
                      <type>jar</type>
                      <overWrite>true</overWrite>
                      <outputDirectory>${jpp-modules-home}/com/sun/xml/messaging/saaj/main</outputDirectory>
                    </artifactItem>
                  </artifactItems>
                </configuration>
              </execution>
            </executions>
          </plugin>

          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>exec-maven-plugin</artifactId>
            <version>1.2.1</version>
            <executions>
              <execution><!-- Rename JBoss deply directory -->
                <id>alter-jboss-directory</id>
                <phase>process-resources</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>mv</executable>
                  <arguments>
                    <argument>${project.build.directory}/jboss-jpp-6.0</argument>
                    <argument>${jpp-home}</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution>
                <id>remove-josso-directory</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>rm</executable>
                  <arguments>
                    <argument>-rf</argument>
                    <argument>${project.build.directory}/josso-1.8.4</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Rename Josso deploy directory -->
                <id>alter-josso-directory</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>mv</executable>
                  <arguments>
                    <argument>${josso-home}</argument>
                    <argument>${project.build.directory}/josso-1.8.4</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution> <!-- Remove examples directory (see GWMON-12788) -->
                <id>clean-josso-directory</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>rm</executable>
                  <arguments>
                    <argument>-rf</argument>
                    <argument>${project.build.directory}/josso-1.8.4/webapps/examples</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run jboss modules -->
                <id>install-jboss-modules-postgres</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>org.postgres</argument>
                    <argument>postgresql-${postgresql-driver-version}.jar</argument>
                    <argument>javax.api,javax.transaction.api</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run jboss modules -->
                <id>install-jboss-modules-discovery</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>org.apache.commons.discovery</argument>
                    <argument>commons-discovery-${commons-discovery-version}.jar</argument>
                    <argument>org.apache.commons.logging</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution>
                <id>install-jboss-modules-axis</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>org.apache.axis</argument>
                    <argument>axis-${axis-version}.jar</argument>
                    <argument>javax.servlet.api,org.apache.commons.logging,javax.xml.soap.api,javax.xml.rpc.api,org.apache.commons.discovery,javax.api,javax.mail.api,net.sf.wsdl4j</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run jboss modules -->
                <id>install-jboss-modules-wsdl4j</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>net.sf.wsdl4j</argument>
                    <argument>wsdl4j-${wsdl4j-version}.jar</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run jboss modules -->
                <id>install-jboss-modules-backport-util</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>edu.emory.mathcs.backport</argument>
                    <argument>backport-util-concurrent-3.0.jar</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run jboss modules -->
                <id>install-jboss-modules-collage-api</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>com.groundwork.collage</argument>
                    <argument>collage-api-${groundwork.release}.jar</argument>
                    <argument>org.apache.axis,javax.api,javax.mail.api,javax.xml.rpc.api,org.apache.commons.lang3,org.apache.commons.logging,javax.xml.soap.api,org.jasypt,org.apache.httpcomponents,org.apache.commons.codec,org.apache.commons.configuration,com.chrylis.base58-codec</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run jboss modules -->
                <id>install-padlock-module</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>net.padlocksoftware</argument>
                    <argument>Padlock-${version-padlock}.jar</argument>
                    <argument>org.apache.commons.codec,javax.api</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run jboss modules -->
                <id>install-jbossweb-extras-module</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>org.jboss.jbossweb-extras</argument>
                    <argument>jbossweb-extras-1.0.jar</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run jboss modules -->
                <id>install-rhgss-javax-ws-rs-module</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>rhgss.javax.ws.rs</argument>
                    <argument>jsr311-api-1.1.1.jar</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run jboss modules -->
                <id>install-com-chrylis-base58-codec-module</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>com.chrylis.base58-codec</argument>
                    <argument>base58-codec-${version-base58-codec}.jar</argument>
                    <argument>org.apache.commons.lang3</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run jboss modules -->
                <id>install-org-apache-commons-lang3-module</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>org.apache.commons.lang3</argument>
                    <argument>commons-lang3-${version-commons-lang3}.jar</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run jboss security modules -->
                <id>install-groundwork-jboss-security</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>com.groundwork.security</argument>
                    <argument>groundwork-jboss-security-${groundwork.release}.jar</argument>
                    <argument>org.apache.commons.logging,org.picketbox,javaee.api,org.gatein.sso,org.gatein.lib,com.groundwork.portal.extension,org.jasypt,org.apache.commons.codec,com.groundwork.collage</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run jboss security modules -->
                <id>install-jasypt-encryption</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>org.jasypt</argument>
                    <argument>jasypt-${version-jasypt}.jar</argument>
                    <argument>javax.api,com.ibm.icu4j</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run jboss security modules -->
                <id>install-icu4j-jasypt-dependency</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/install-jboss-module.sh</executable>
                  <arguments>
                    <argument>${jpp-modules-home}</argument>
                    <argument>com.ibm.icu4j</argument>
                    <argument>icu4j-${version-icu4j}.jar</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run slim epp -->
                <id>slim-epp</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/slim_epp.sh</executable>
                  <arguments>
                    <argument>${project.build.directory}</argument>
                    <argument>${groundwork.release}</argument>
                  </arguments>
                </configuration>
              </execution>
              <execution><!-- Run gate-in ear patch -->
                <id>patch-gatein-ear</id>
                <phase>install</phase>
                <goals>
                  <goal>exec</goal>
                </goals>
                <configuration>
                  <executable>./custom_scripts/patch-gatein-ear.sh</executable>
                  <arguments>
                    <argument>${project.build.directory}</argument>
                  </arguments>
                </configuration>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>
  </profiles>
</project>
